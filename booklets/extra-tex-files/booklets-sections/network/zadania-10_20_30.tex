% Copyright (c) 2017-2020 Matematyka dla Ciekawych Åšwiata (http://ciekawi.icm.edu.pl/)
% Copyright (c) 2017-2020 Robert Ryszard Paciorek <rrp@opcode.eu.org>
% 
% MIT License
% 
% Permission is hereby granted, free of charge, to any person obtaining a copy
% of this software and associated documentation files (the "Software"), to deal
% in the Software without restriction, including without limitation the rights
% to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
% copies of the Software, and to permit persons to whom the Software is
% furnished to do so, subject to the following conditions:
% 
% The above copyright notice and this permission notice shall be included in all
% copies or substantial portions of the Software.
% 
% THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
% IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
% FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
% AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
% LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
% OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
% SOFTWARE.

\IfStrEq{\dbEntryID}{}{
	\insertZadanie{\currfilepath}{czy_w_sieci}{}
	\insertZadanie{\currfilepath}{routing}{}
	\insertZadanie{\currfilepath}{ping1}{}
	\insertZadanie{\currfilepath}{traceroute1}{}
	\insertZadanie{\currfilepath}{dns1}{}
	\insertZadanie{\currfilepath}{tcpdump}{}
	\insertZadanie{\currfilepath}{http1}{}
	\insertZadanie{\currfilepath}{http2}{}
}

\dbEntryBegin{czy_w_sieci}\if1\dbEntryCheckResults
Ustal czy adres \Verb$2001:db8:0:a17::123$ naleÅ¼y do sieci \Verb$2001:db8::/48$. MoÅ¼esz posÅ‚uÅ¼yÄ‡ siÄ™ narzÄ™dziami do obliczania zakresÃ³w sieci IP (np. \Verb#sipcalc#) lub obliczyÄ‡ to rÄ™cznie.
\fi

\dbEntryBegin{routing}\if1\dbEntryCheckResults
Wynik polecenia \Verb#ip -6 r# pokazujÄ…cego tablicÄ™ rotingowÄ… wyglÄ…da nastÄ™pujÄ…co:
\begin{Verbatim}
2001:db8:0:21::/64 dev eth  proto kernel  metric 256 
2001:db8:fff:21::/64 dev eth2  proto kernel  metric 256 
2001:db8:abc:21::/64 via 2001:db8:fff:21::1 dev eth2  metric 1024 
fe80::/64 dev eth  proto kernel  metric 256 
fe80::/64 dev eth2  proto kernel  metric 256 
default via 2001:db8:0:21::1 dev eth  metric 1024 
\end{Verbatim}

Ustal gdzie zostanie skierowany pakiet adresowany do \Verb$2001:db8:abc:21:123::ff3$.
\fi

\dbEntryBegin{ping1}\if1\dbEntryCheckResults
KorzystajÄ…c z narzÄ™dzi sÅ‚uÅ¼Ä…cych do diagnozowania sieci sprawdÅº czy host \Verb#ciekawi.icm.edu.pl# jest dostÄ™pny.
Jakiego polecenia uÅ¼yÅ‚eÅ›(aÅ›) w tym celu? Co jeszcze mÃ³wi wynik tego polecenia?

\begin{teacherOnly}
RozwiÄ…zaniem powinno opieraÄ‡ siÄ™ o uÅ¼ycie polecenia \Verb#ping#, inne dziaÅ‚ajÄ…ce rozwiÄ…zania teÅ¼ akceptujemy, ale komentujÄ…c/dyskutujÄ…c naprowadzamy na to Å¼e standardowo do tego uÅ¼ywa siÄ™ komendy \Verb#ping#.
\end{teacherOnly}
\fi

\dbEntryBegin{traceroute1}\if1\dbEntryCheckResults
KorzystajÄ…c z narzÄ™dzi sÅ‚uÅ¼Ä…cych do diagnozowania sieci ustal jakÄ… trasÄ… podrÃ³Å¼ujÄ… pakiety z Twojego komputera do \Verb#www.opcode.eu.org# oraz do \Verb#www.example.org#.
Jakiego lub jakich poleceÅ„ uÅ¼yÅ‚eÅ›(aÅ›) w tym celu? Co jeszcze mÃ³wi ich wynik? Co moÅ¼esz powiedzieÄ‡ porÃ³wnujÄ…c uzyskane trasy?
\fi

\dbEntryBegin{dns1}\if1\dbEntryCheckResults
Ustal (wszystkie) adresy IPv4 i IPv6 serwera \Verb#www.bitbucket.org#.
ZastanÃ³w siÄ™ czemu moÅ¼e sÅ‚uÅ¼yÄ‡ to Å¼e niektÃ³re nazwy domenowe rozwijajÄ… siÄ™ na wiele rÃ³Å¼nych adresÃ³w IP.
\fi

\dbEntryBegin{tcpdump}\if1\dbEntryCheckResults
KorzystajÄ…c z dwÃ³ch instancji programu \Verb#nc# (\Verb#netcat#) â€“ jednej w roli serwera, drugiej w roli klienta przeÅ›lij miÄ™dzy nimi jakieÅ› dane.
UÅ¼yj programu \Verb#tcpdump# (z odpowiednimi opcjami) aby podsÅ‚uchaÄ‡ komunikacjÄ™ sieciowÄ… miÄ™dzy tymi programami i zobaczyÄ‡ przesyÅ‚ane dane.
\fi

\dbEntryBegin{http1}\if1\dbEntryCheckResults
KorzystajÄ…c bezpoÅ›rednio z poleceÅ„ protokoÅ‚u HTTP i programu \Verb#nc# (\Verb#netcat#) lub \Verb#telnet#, pobierz i wyÅ›wietl kod strony \Verb#http://www.opcode.eu.org/#.

\textit{WskazÃ³wka:
	Opis protokoÅ‚u HTTP odnajdziesz bez problemu w sieci.\\
	OgÃ³lnie Å¼Ä…danie HTTP skÅ‚ada siÄ™ z pierwszej linii okreÅ›lajÄ…cej typ wykonywanej operacji, Å›cieÅ¼kÄ™ oraz wersjÄ™ protokoÅ‚u - np. \texttt{GET /abc.txt HTTP/1.1} oznacza proÅ›bÄ™ o zwrÃ³cenie zawartoÅ›ci pliku \texttt{/abc.txt}.
	NastÄ™pnie podawane sÄ… nagÅ‚Ã³wki, w wersji HTTP 1.1 obowiÄ…zkowy jest nagÅ‚Ã³wek â€Hostâ€ okreÅ›lajÄ…cy nazwÄ™ domenowÄ… serwera - np. \texttt{Host: www.example.org}.
	Po nagÅ‚Ã³wkach wystÄ™puje pusta linia po ktÃ³rej mogÄ… byÄ‡ przesÅ‚ane (przy niektÃ³rych typach Å¼Ä…daÅ„) jakieÅ› dane (np. z wypeÅ‚nionego na stronie formularza).
}
\fi

\dbEntryBegin{http2}\if1\dbEntryCheckResults
Zadanie \ref{http1} moÅ¼na rozwiÄ…zaÄ‡ przy pomocy netcat'a bez dodatkowych opcji, jednak jeÅ¼eli stronÄ… do pobrania byÅ‚oby np. \Verb#http://www.icm.edu.pl# to naleÅ¼aÅ‚oby skorzystaÄ‡ z opcji \Verb#-C# netcat'a (w przeciwnym razie serwer zwraca bÅ‚Ä…d 400 "Bad Request").
SprawdÅº co robi ta opcja i zastanÃ³w siÄ™ dlaczego w przypadku niektÃ³rych serwerÃ³w jest konieczna a w przypadku innych nie? Co na ten temat mÃ³wi standard HTTP?
\fi

% dodatkowe

\dbEntryBegin{skrypt_dostepnosc}\if1\dbEntryCheckResults
KorzystajÄ…c z standardowych narzÄ™dzi shellowych napisz skrypt ktÃ³ry sprawdzi dostÄ™pnoÅ›Ä‡ hosta \Verb#ciekawi.icm.edu.pl# i w przypadku jego niedostÄ™pnoÅ›ci wypisze \Verb#niedostÄ™pny#, a w przypadku dostÄ™pnoÅ›ci nie wypisze niczego.

\textit{Informacja: skrypty tego typu, uruchamiane automatycznie co pewien czas np. przy pomocy cron'a czÄ™sto sÄ… wykorzystywane do wysÅ‚ania powiadomieÅ„ o niedostÄ™pnoÅ›ci danej maszyny lub usÅ‚ugi lub podjÄ™cia automatycznie jakiÅ› dziaÅ‚aÅ„.}
\fi

\dbEntryBegin{ping_utf}\if1\dbEntryCheckResults
Zobacz czy rozwiÄ…zanie zadania \ref{ping1} zadziaÅ‚a gdy uÅ¼yjesz nazwy serwera zawierajÄ…cej polskie znaki: \Verb#licealiÅ›ci.icm.edu.pl#.
Jak myÅ›lisz, dlaczego polskie znaki sÄ… tak rzadko uÅ¼ywane w nazwach domenowych?
\fi

\dbEntryBegin{mail_smtp}\if1\dbEntryCheckResults
KorzystajÄ…c bezpoÅ›rednio z poleceÅ„ protokoÅ‚u SMTP, programu \Verb#nc# (\Verb#netcat#) lub \Verb#telnet# i serwera \Verb#mail.opcode.eu.org# wyÅ›lij mail do \Verb#rrp@opcode.eu.org# w taki sposÃ³b aby:
\begin{itemize}
\item nadawca kopertowy byÅ‚ sfaÅ‚szowany (domena w ktÃ³rej znajduje siÄ™ jego adres powinna istnieÄ‡, np. uÅ¼yj \Verb#ciekawi.icm.edu.pl#)
\item nadawca i odbiorca nagÅ‚Ã³wkowy byÅ‚ sfaÅ‚szowany
\end{itemize}
MoÅ¼esz poszaleÄ‡ z adresami (zwÅ‚aszcza nagÅ‚Ã³wkowymi).
JeÅ¼eli nie popeÅ‚nisz bÅ‚Ä™du mail trafi do prowadzÄ…cych zajÄ™cia, zatem jeÅ¼eli oczekujesz weryfikacji wykonania zadania to podpisz siÄ™ w nim.
Nie pisz teÅ¼ niczego czego nie chiaÅ‚byÅ› aby TwÃ³j prowadzÄ…cy przeczytaÅ‚ {\Symbola ğŸ˜‰}.
\fi

