% Copyright (c) 2021 Matematyka dla Ciekawych Świata (http://ciekawi.icm.edu.pl/)
% Copyright (c) 2021 Robert Ryszard Paciorek <rrp@opcode.eu.org>
% 
% MIT License
% 
% Permission is hereby granted, free of charge, to any person obtaining a copy
% of this software and associated documentation files (the "Software"), to deal
% in the Software without restriction, including without limitation the rights
% to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
% copies of the Software, and to permit persons to whom the Software is
% furnished to do so, subject to the following conditions:
% 
% The above copyright notice and this permission notice shall be included in all
% copies or substantial portions of the Software.
% 
% THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
% IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
% FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
% AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
% LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
% OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
% SOFTWARE.

\ExplSyntaxOn %enable LaTeX3 syntax
\prop_if_exist:NTF \l_video_urls {} {\prop_new:N \l_video_urls} % create property list (key-value map)
\ProvideDocumentCommand{\AddURL}{m m}{%
	\prop_put:Nnn \l_video_urls {#1} {#2}%
}
\ProvideExpandableDocumentCommand{\URLRaw}{m}{
	\prop_item:Nn \l_video_urls {#1}
}
\ProvideExpandableDocumentCommand{\URLCheck}{m}{
	\prop_if_in:NnTF \l_video_urls {#1} {} {
		\msg_new:nnn {videodatabase} {error-message} {No~"#1"~in~"l_video_urls"~property~list.}
		\msg_error:nn {videodatabase} {error-message}
	}
}
\ExplSyntaxOff

\ProvideDocumentCommand{\URL}{m}{%
	\URLCheck{#1}\url{\URLRaw{#1}}%
}
\ProvideDocumentCommand{\LinkVerbose}{m}{%
	\URLCheck{#1}\emph{#1} – \url{\URLRaw{#1}}%
}
\ProvideDocumentCommand{\LinkNice}{m}{%
	\URLCheck{#1}\href{\URLRaw{#1}}{#1}%
}


% unix

\AddURL{Podstawy pracy w terminalu}{http://video.opcode.eu.org/01.01.mkv}
\AddURL{Edytor vi i vim}{http://video.opcode.eu.org/01.02.mkv}
\AddURL{Listowanie i wyszukiwanie plików}{http://video.opcode.eu.org/01.03.mkv}
\AddURL{Kopiowanie, przenoszenie, usuwanie plików}{http://video.opcode.eu.org/01.04.mkv}
\AddURL{Struktura drzewa katalogów}{http://video.opcode.eu.org/01.05.mkv}

\AddURL{Operacje na plikach (tekstowych)}{http://video.opcode.eu.org/04.01.mkv}
\AddURL{Język AWK}{http://video.opcode.eu.org/04.02.mkv}
\AddURL{Praca na systemach zdalnych}{http://video.opcode.eu.org/04.03.mkv}
\AddURL{Użytkownicy uprawnienia i procesy}{http://video.opcode.eu.org/04.04.mkv}

\AddURL{Wprowadzenie do programowania w bash'u}{http://video.opcode.eu.org/05.01.mkv}
\AddURL{Pętle, warunki i funkcje w bash'u}{http://video.opcode.eu.org/05.02.mkv}
\AddURL{Bash: obsługa napisów, eval i podsumowanie}{http://video.opcode.eu.org/05.03.mkv}
\AddURL{Wprowadzenie do systemów operacyjnych}{http://video.opcode.eu.org/05.04.mkv}

% python

\AddURL{Python: wprowadzenie}{http://video.opcode.eu.org/02.01.mkv}
\AddURL{Python: funkcje}{http://video.opcode.eu.org/02.02.mkv}
\AddURL{Python: pętle i warunki}{http://video.opcode.eu.org/02.03.mkv}
\AddURL{Python: napisy}{http://video.opcode.eu.org/02.04.mkv}
\AddURL{Python: wyrażenia regularne}{http://video.opcode.eu.org/02.05.mkv}
\AddURL{Python: argumenty linii poleceń}{http://video.opcode.eu.org/02.06.mkv}
\AddURL{Python: operacje bitowe}{http://video.opcode.eu.org/02.07.mkv}

\AddURL{Python: listy i słowniki}{http://video.opcode.eu.org/03.01.mkv}
\AddURL{Python: typy i referencje}{http://video.opcode.eu.org/03.02.mkv}
\AddURL{Python: klasy, wyjątki i generatory}{http://video.opcode.eu.org/03.03.mkv}
\AddURL{Python: pliki i czekanie na dane}{http://video.opcode.eu.org/03.04.mkv}
\AddURL{Python: procesy potomne (fork i exec)}{http://video.opcode.eu.org/03.05.mkv}
\AddURL{Python: biblioteki (xml, json, sql, ...)}{http://video.opcode.eu.org/03.06.mkv}

% c i c++

\AddURL{Podstawy C}{http://video.opcode.eu.org/06.01.mkv}
\AddURL{Funkcje, struktury i tablice w C}{http://video.opcode.eu.org/06.02.mkv}
\AddURL{Wskaźniki w C}{http://video.opcode.eu.org/06.03.mkv}
\AddURL{Kilka słów o C++}{http://video.opcode.eu.org/06.04.mkv}

% elektronika

\AddURL{Warsztat elektroniczny: pomiary multimetrem}{http://video.opcode.eu.org/07.01.mkv}
\AddURL{Warsztat elektroniczny: płytka stykowa}{http://video.opcode.eu.org/07.02.mkv}
\AddURL{Warsztat elektroniczny: lutowanie}{http://video.opcode.eu.org/07.03.mkv}
\AddURL{Warsztat elektroniczny: moduł STM32}{http://video.opcode.eu.org/07.04.mkv}

\AddURL{Podstawy elektroniki}{http://video.opcode.eu.org/08.01.mkv}
\AddURL{Rezystor i kondensator}{http://video.opcode.eu.org/08.02.mkv}
\AddURL{Cewka}{http://video.opcode.eu.org/08.03.mkv}
\AddURL{Dioda}{http://video.opcode.eu.org/08.04.mkv}
\AddURL{Tranzystory}{http://video.opcode.eu.org/08.05.mkv}

\AddURL{Bramki logiczne}{http://video.opcode.eu.org/09.01.mkv}
\AddURL{Zatrzaski, przerzutniki i rejestry}{http://video.opcode.eu.org/09.02.mkv}
\AddURL{Transmisja danych}{http://video.opcode.eu.org/09.03.mkv}
\AddURL{Układy programowalne}{http://video.opcode.eu.org/09.04.mkv}
\AddURL{Mikrokontrolery STM32}{http://video.opcode.eu.org/09.05.mkv}

% sieci

\AddURL{Podstawy sieci komputerowych}{http://video.opcode.eu.org/10.01.mkv}
\AddURL{Internet Protocol}{http://video.opcode.eu.org/10.02.mkv}
\AddURL{Adresacja i routing IP}{http://video.opcode.eu.org/10.03.mkv}
\AddURL{TCP, UDP, ICMP i DNS}{http://video.opcode.eu.org/10.04.mkv}
\AddURL{Usługi sieciowe i tunele}{http://video.opcode.eu.org/10.05.mkv}

\AddURL{Ethernet}{http://video.opcode.eu.org/11.01.mkv}
\AddURL{Standardy sieciowe}{http://video.opcode.eu.org/11.02.mkv}
\AddURL{Konfiguracja sieci}{http://video.opcode.eu.org/11.03.mkv}
\AddURL{Programowanie usług sieciowych}{http://video.opcode.eu.org/11.04.mkv}
