% Copyright (c) 2018-2020 Matematyka dla Ciekawych ≈öwiata (http://ciekawi.icm.edu.pl/)
% Copyright (c) 2018-2020 Robert Ryszard Paciorek <rrp@opcode.eu.org>
% 
% MIT License
% 
% Permission is hereby granted, free of charge, to any person obtaining a copy
% of this software and associated documentation files (the "Software"), to deal
% in the Software without restriction, including without limitation the rights
% to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
% copies of the Software, and to permit persons to whom the Software is
% furnished to do so, subject to the following conditions:
% 
% The above copyright notice and this permission notice shall be included in all
% copies or substantial portions of the Software.
% 
% THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
% IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
% FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
% AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
% LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
% OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
% SOFTWARE.

%  BEGIN: Klasy i struktury
\subsection{Klasy i struktury {\Symbola ü§î}}

InnƒÖ metodƒÖ grupowania zmiennych i funkcji jest definiowanie w≈Çasnych klas:
\begin{CodeFrame*}[python]{}
class NazwaKlasy:
  # pola sk≈Çadowe
  a, d = 0, "ala ma kota"
  # metody sk≈Çadowe
  def wypisz(self):
    print(self.a + self.b)
  # metody statyczna
  @staticmethod
  def info():
    print("INFO")
  # konstruktor (z jednym argumentem)
  def __init__(self, x = 1):
    print("konstruktor", self.a , self.d)
    # i kolejny spos√≥b na utworzenie pola sk≈Çadowego klasy
    self.b = 13 * x
\end{CodeFrame*}
Warto zauwa≈ºyƒá jawny argument metod sk≈Çadowych klasy w postaci obiektu tej klasy. \teacher{(w C++ tak≈ºe wystƒôpuje ale nie jest jawnie deklarowany, ani nie trzeba siƒô nim jawnie pos≈Çugiwaƒá)}
Mo≈ºliwe jest tak≈ºe dziedziczenie po jednej lub kilku klasach bazowych, w tym celu definicje klasy rozpoczynamy:
\begin{CodeFrame*}[python]{}
class NazwaKlasy(Bazowa1, Bazowa2):
\end{CodeFrame*}

Tworzenie obiektu klasy i u≈ºywanie go:

\begin{CodeFrame}[python]{0.55\textwidth}
k = NazwaKlasy()
k.a = 67
k.wypisz()
\end{CodeFrame}
\begin{CodeFrame}{auto}
80
\end{CodeFrame}

Obiekty mo≈ºna rozszerzaƒá o nowe sk≈Çadowe i funkcje:

\begin{CodeFrame}[python]{0.55\textwidth}
k.c = k.a + 10
print(k.c)
\end{CodeFrame}
\begin{CodeFrame}{auto}
77
\end{CodeFrame}

W ten spos√≥b mo≈ºna te≈º tworzyƒá ca≈Çe struktury:\\
\begin{CodeFrame}[python]{0.55\textwidth}
class Pusta():
  pass
x = Pusta()
x.a = 3
x.b = 4
\end{CodeFrame}
\begin{minipage}[t]{0.4\textwidth}
\vspace{6pt}Od strony implementacyjnej sƒÖ one trzymane w s≈Çowniku zwiƒÖzanym z danym obiektem o nazwie \python{__dict__}.\\
Spr√≥buj wypisaƒá zawarto≈õƒá \python{x.__dict__} oraz \python{k.__dict__}.
\end{minipage}

Do metod klasy mo≈ºemy odwo≈Çywaƒá siƒô tak≈ºe z podaniem nazwy klasy a nie obiektu, w takim wypadku je≈ºeli nie sƒÖ to metody statyczne nale≈ºy przekazaƒá jako argument obiekt danej klasy
lub go udajƒÖcy\footnote{
Wystarczy ≈ºeby taki obiekt mia≈Ç metody i sk≈Çadowe u≈ºywane przez dana metodƒô, nie musi to byƒá obiekt tej klasy.
}:

\begin{CodeFrame}[python]{0.55\textwidth}
NazwaKlasy.info()
NazwaKlasy.wypisz(k)
NazwaKlasy.wypisz(x)
\end{CodeFrame}
\begin{CodeFrame}{auto}
INFO
80
7
\end{CodeFrame}
%  END: Klasy i struktury
