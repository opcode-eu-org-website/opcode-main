% Copyright (c) 2016-2020 Matematyka dla Ciekawych Åšwiata (http://ciekawi.icm.edu.pl/)
% Copyright (c) 2016-2017 Åukasz Mazurek
% Copyright (c) 2018-2020 Robert Ryszard Paciorek <rrp@opcode.eu.org>
% 
% MIT License
% 
% Permission is hereby granted, free of charge, to any person obtaining a copy
% of this software and associated documentation files (the "Software"), to deal
% in the Software without restriction, including without limitation the rights
% to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
% copies of the Software, and to permit persons to whom the Software is
% furnished to do so, subject to the following conditions:
% 
% The above copyright notice and this permission notice shall be included in all
% copies or substantial portions of the Software.
% 
% THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
% IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
% FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
% AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
% LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
% OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
% SOFTWARE.

\documentclass{pdfBooklets}

\title{Python: Wprowadzenie do programowania}
\author{%
	Projekt ,,Matematyka dla Ciekawych Åšwiata'',\\
	Robert Ryszard Paciorek\\\normalsize\ttfamily <rrp@opcode.eu.org>
}
\date  {2020-05-23}

\makeatletter\hypersetup{
	pdftitle = {\@title}, pdfauthor = {\@author}
}\makeatother


\begin{document}

\maketitle

\begin{teacherOnly}
\section*{Dla prowadzÄ…cego}
Skrypt jest w dwÃ³ch wersjach: dla uczniÃ³w i dla prowadzÄ…cego.
Uczniowie nie widzÄ… purpurowych fragmentÃ³w.

ProponujÄ™ rozdaÄ‡ wszystkim uczniom ich wersje skryptu, odpaliÄ‡ rzutnik, zwiÄ™kszyÄ‡ czcionkÄ™ i robiÄ‡
na rzutniku wszystko, o czym mÃ³wimy. Nie ma co wyÅ›wietlaÄ‡ skryptu na rzutniku --- majÄ… go przed oczami.
Czarny tekst moÅ¼na czytaÄ‡, moÅ¼na parafrazowaÄ‡, moÅ¼na pomijaÄ‡, jeÅ›li treÅ›Ä‡ zostaÅ‚a przekazana w inny sposÃ³b.
W zasadzie, wszystkie listingi, ktÃ³re sÄ… w skrypcie powinniÅ›my przepisaÄ‡ na rzutnik, a oni powinni
uruchomiÄ‡ na swoich komputerach.

Kod przepisywany ze skryptu moÅ¼na czasami rozwinÄ…Ä‡, pokazaÄ‡ wiÄ™cej przykÅ‚adÃ³w, celowo zrobiÄ‡ jakiÅ› bÅ‚Ä…d i pokazaÄ‡, co siÄ™ stanie.
MoÅ¼na teÅ¼ w ramach ciekawostki, pokazaÄ‡ coÅ› powiÄ…zanego, czego nie ma w skrypcie.
Ale nie odbiegajmy zbytnio od tematu.

Nie trzeba robiÄ‡ wszystkich zadaÅ„ ze skryptu. ProwadzÄ…cy powinien, w zaleÅ¼noÅ›ci od grupy wybraÄ‡ ktÃ³re zadania bÄ™dÄ… robione na zajÄ™ciach,
ktÃ³re zostanÄ… zadane jako praca domowa, a ktÃ³re zostanÄ… pominiÄ™te.
\end{teacherOnly}

%  BEGIN: Wprowadzenie
\section{Wprowadzenie}

Na najbliÅ¼szych kilku zajÄ™ciach bÄ™dziemy programowaÄ‡ w jÄ™zyku Python w wersji 3.
\begin{teacherOnly}
MoÅ¼e paÅ›Ä‡ pytanie dlaczego akurat Python.
Podstawowym powodem jest to Å¼e Python jest wygodniejszy w uczeniu (m.in. kod pythonowy realizujÄ…cy tÄ… samÄ… funkcjonalnoÅ›Ä‡, przy takim samym poziomie obsÅ‚ugi bÅ‚Ä™dÃ³w, etc
i podobnej czytelnoÅ›ci praktycznie zawsze jest krÃ³tszy od kodu C, a potrafi byÄ‡ krÃ³tszy kilkukrotnie, wiÄ™c np. Å‚atwiej go pokazaÄ‡ na rzutniku).
Ponadto:
\begin{itemize}
\item Python jest jÄ™zykiem interpretowanym, co daje Å‚atwiejsze modyfikowanie kodu, eksperymentowanie z nim, itd
\item Python jest jednym z najpopularniejszych jÄ™zykÃ³w programowania (wg niektÃ³rych ÅºrÃ³deÅ‚ nawet najpopularniejszym), wiÄ™c nie jest "dydaktycznÄ… egzotykÄ…", ktÃ³ra potem do niczego siÄ™ nie przyda
\item istnieje bardzo wiele bibliotek pythonowych (posiadajÄ…cych pythonowe API), a moÅ¼na korzystaÄ‡ takÅ¼e z "niedostosowanych" do Pythona bibliotek C (.so, .dll)
\item Python jest Å‚atwo rozszerzalny przy pomocy (wÅ‚asnych) bibliotek/moduÅ‚Ã³w tworzonych w C/C++ (podstawowy interpreter napisany jest C)
\item kod pythonowy moÅ¼e byÄ‡ Å‚atwo wywoÅ‚ywany z poziomu C/C++, co pozwala na Å‚atwe wykorzystanie Pythona jako jÄ™zyka skryptowego dla projektÃ³w tworzonych w C/C++
\end{itemize}

\noindent
\end{teacherOnly}
%
Pythona moÅ¼na uÅ¼ywaÄ‡ na rÃ³Å¼nych systemach operacyjnych (wliczajÄ…c w to Linux, MacOS i Windows), a nawet on-line.
Mimo to zachÄ™camy do sprÃ³bowania, w ramach tych zajÄ™Ä‡, pracy w Å›rodowisku GNU/Linux.
%
\begin{teacherOnly}

MoÅ¼e paÅ›Ä‡ pytanie dlaczego warto sprÃ³bowaÄ‡ pracy w Linuxie. PowodÃ³w jest kilka:
\begin{itemize}
\item aby go poznaÄ‡, sprÃ³bowaÄ‡ czegoÅ› nowego, ...
\item bo jest wygodnym Å›rodowiskiem dla programisty, informatyka, itp
\item bo wiele rzeczy jest duÅ¼o prostszych niÅ¼ gdzie indziej, np. aby zainstalowaÄ‡ Pythona 3 wystarczy jedno polecenie (w pochodnych Debiana \Verb{sudo apt-get install python3})
\item bo dostÄ™p do kodu systemu, uÅ¼ywanych bibliotek i narzÄ™dzi potrafi siÄ™ przydaÄ‡
\end{itemize}
\end{teacherOnly}

ZwrÃ³Ä‡cie uwagÄ™, aby korzystaÄ‡ z wersji Pythona o numerze rozpoczynajÄ…cym siÄ™ od 3 (np. 3.7.1), a nie starszej, lecz wciÄ…Å¼ uÅ¼ywanej wersji 2.
Wersje te rÃ³Å¼niÄ… siÄ™ tak znaczÄ…co, Å¼e programy, ktÃ³re bÄ™dziemy pisaÄ‡ na zajÄ™ciach nie bÄ™dÄ… dziaÅ‚aÄ‡ w drugiej wersji Pythona.

Skrypt ten
jest doÅ›Ä‡ kompletnym wprowadzeniem do programowania w Pythonie i omawia wszystkie najwaÅ¼niejsze elementy tego jÄ™zyka.
Zagadnienia bardziej zaawansowane, treÅ›ci dodatkowe i ciekawostki zostaÅ‚y oznaczone ikonkÄ… {\Symbola ğŸ¤”} (Thinking Face Emoji).
\teacher{W mniej zaawansowanych grupach rozdziaÅ‚y oznaczone {\Symbola ğŸ¤”} moÅ¼na spokojnie pominÄ…Ä‡.}

\subsection{Praca z konsolÄ… interaktywnÄ…}

Pierwszym sposobem pracy z Pythonem jest praca w interaktywnej konsoli.
Uzyskujemy jÄ… po uruchomieniu polecenia \Verb{python3}.
W konsoli tej poczÄ…tkowo wypisane sÄ… pewne informacje (m.in. uÅ¼ywana wersja Pythona)
oraz znak zachÄ™ty (w Pythonie najczÄ™Å›ciej~\Verb@>>>@)\footnote{
	ZauwaÅ¼ Å¼e jest on inny niÅ¼ znak zachÄ™ty bash'a (zazwyczaj~\Verb@$@ poprzedzony dodatkowymi informacjami) â€“
	pozwala to na identyfikacjÄ™ interpretera poleceÅ„ w ktÃ³rym aktualnie pracujemy i wydawanie w odpowiedniej skÅ‚adni
	(bash nie rozumie poleceÅ„ w skÅ‚adni pythona, python nie rozumie poleceÅ„ w skÅ‚adni basha).
}.
Interpreter oczekuje, iÅ¼ po tym znaku wpiszemy polecenie i naciÅ›niemy Enter.
Wynik polecenia zostanie wypisany w kolejnym wierszu.

\teacher{\textbf{ZwrÃ³ciÄ‡ uwagÄ™ na rozrÃ³Å¼nianie konsoli pythonowej i bashowej - inny znak zachÄ™ty}}

Najprostszym sposobem uÅ¼ycia konsoli Pythona jest uÅ¼ycie jej jako kalkulatora --- wpisujemy dziaÅ‚anie
do obliczenia, naciskamy Enter i w kolejnym wierszu otrzymujemy wynik dziaÅ‚ania.
PrzykÅ‚ad uÅ¼ycia konsoli Pythona jako kalkulatora znajduje siÄ™ poniÅ¼ej:
\begin{Verbatim}[frame=single]
>>> 2 + 2 * 2
6
>>> (2+2) * 2
8
>>> 2 ** 7
128
>>> 47 / 10
4.7
>>> 47 // 10
4
>>> 47 % 10
7
\end{Verbatim}
W powyÅ¼szym przykÅ‚adzie:
\begin{itemize}
\item Znak \Verb{**} oznacza podnoszenie do potÄ™gi.
\item Znak \Verb{/} oznacza dzielenie.
\item Znak \Verb{//} oznacza dzielenie caÅ‚kowite.
\item Znak \Verb{%} oznacza branie reszty z dzielenia.
\item Nawiasy okrÄ…gÅ‚e sÅ‚uÅ¼Ä… grupowaniu wyraÅ¼eÅ„ i wymuszaniu innej niÅ¼ standardowa kolejnoÅ›ci dziaÅ‚aÅ„.
\item Spacje nie majÄ… znaczenia (uÅ¼ywamy ich jedynie dla zwiÄ™kszenia czytelnoÅ›ci).
\end{itemize}

\begin{ProTip}{Porada}
W konsoli interaktywnej przy pomocy strzaÅ‚ek gÃ³ra/dÃ³Å‚ moÅ¼na przeglÄ…daÄ‡ historiÄ™ wydanych poleceÅ„.
Polecenia te moÅ¼na takÅ¼e wykonaÄ‡ ponownie (naciskajÄ…c enter), a przedtem takÅ¼e zmodyfikowaÄ‡
(poruszajÄ…c siÄ™ strzaÅ‚kami prawo lewo).

Konsola ta posiada takÅ¼e mechanizm dopeÅ‚niania wpisywanych poleceÅ„ przy pomocy tabulatora
(pojedyncze naciÅ›niÄ™cie dopeÅ‚nia, gdy tylko jedna propozycja, podwÃ³jne wyÅ›wietla propozycje dopeÅ‚nieÅ„).
\end{ProTip}

\begin{Zadanie}{}{}
KorzystajÄ…c z Pythona jak z prostego kalkulatora\teacher{ (bez korzystania z pÄ™tli, wanunkÃ³w, etc)}, oblicz sumÄ™ dodatnich liczb caÅ‚kowitych mniejszych od 7. \teacher{Wynik: 21}
\end{Zadanie}

\subsubsection{Zmienne}

Podobnie jak w kalkulatorze moÅ¼emy korzystaÄ‡ z \emph{pamiÄ™ci}, w Pythonie moÅ¼emy zapisywaÄ‡ wartoÅ›ci
w \emph{zmiennych}:
\begin{Verbatim}[frame=single]
>>> x = 3
>>> y = 4
>>> x
3
>>> x**2 + y**2
25
\end{Verbatim}
W pierwszych dwÃ³ch linijkach nastÄ™puje \emph{przypisanie} wartoÅ›ci 3 do zmiennej~\Verb{x} oraz 
wartoÅ›ci 4 do zmiennej~\Verb{y}.
Od tej pory moÅ¼emy korzystaÄ‡ z tych zmiennych, np. do obliczenia wartoÅ›ci wyraÅ¼enia $(x^2 + y^2)$.
\teacher{\textbf{\\PokazaÄ‡, co siÄ™ dzieje, jak odwoÅ‚amy siÄ™ do nieistniejÄ…cej zmiennej.\\PowiedzieÄ‡ kilka sÅ‚Ã³w na temat (czytania) komunikatÃ³w o bÅ‚Ä™dach!}}

\subsubsection{ModuÅ‚y i zaawansowany kalkulator {\Symbola ğŸ¤”}}
Python pozwala na wykonywanie bardziej zaawansowanych obliczeÅ„.
MoÅ¼liwe jest m.in. obliczenia wartoÅ›ci wyraÅ¼eÅ„ logicznych, konwertowanie systemÃ³w liczbowych, obliczanie wartoÅ›ci funkcji trygonometrycznych.
DuÅ¼a czÄ™Å›Ä‡ funkcji matematycznych w Pythonie zawarta jest w module ,,math'', ktÃ³ry wymaga zaimportowania. MoÅ¼na to zrobiÄ‡ na przykÅ‚ad w sposÃ³b nastÄ™pujÄ…cy:
\begin{Verbatim}[frame=single]
>>> import math
>>> math.sin(math.pi/2)
1.0
\end{Verbatim}
ZauwaÅ¼, Å¼e odwoÅ‚anie do elementÃ³w tak zaimportowanego moduÅ‚u wymaga podania jego nazwy, nastÄ™pnie kropki i nazwy uÅ¼ywanej funkcji z tego moduÅ‚u.

\subsection{Pisanie i uruchamianie kodu programu}

Do tej pory korzystaliÅ›my z Pythona uÅ¼ywajÄ…c interaktywnej konsoli. 
Jest to caÅ‚kiem wygodne narzÄ™dzie, jeÅ›li wykonujemy tylko jednolinijkowe polecenia,
jednak pisanie dÅ‚uÅ¼szych fragmentÃ³w kodu w tej konsoli staje siÄ™ juÅ¼ bardzo niewygodne.
DrugÄ… metodÄ… korzystania z Pythona jest pisanie kodu programu (skryptu) w pliku tekstowym
i uruchamianie tego kodu w konsoli.

\begin{ProTip}{ModuÅ‚y {\Symbola ğŸ¤”}}
Nazwa pliku powinna byÄ‡ inna niÅ¼ nazwy importowanych moduÅ‚Ã³w, czyli jeÅ¼eli w kodzie mamy \Verb#import abc# to nasz plik nie powinien nazywaÄ‡ siÄ™ \Verb#abc.py#,
w przeciwnym razie zamiast wskazanego moduÅ‚u Python bÄ™dzie prÃ³bowaÅ‚ zaimportowaÄ‡ nasz plik.
\end{ProTip}

UtwÃ³rz plik \Verb{mojProgram.py}\footnote{
	Pliki z skryptami Pythona tradycyjnie majÄ… rozszerzenie \Verb{.py}.
	Nie jest ono jednak wymagane --- interpreter Pythona wykona kod z pliku o dowolnym rozszerzeniu a takÅ¼e z pliku bez rozszerzenia.
} z nastÄ™pujÄ…cÄ… zawartoÅ›ciÄ…:\noParBreak
\begin{CodeFrame*}[python]{}
x = 3
y = 4
print(x**2 + y**2)
\end{CodeFrame*}

W celu wykonania kodu zapisanego w pliku uruchom interpreter Pythona z jednym argumentem,
bÄ™dÄ…cym nazwÄ… tego pliku: \Verb{python3 mojProgram.py}.

\begin{ProTip}{Porada}
Zachowuj pliki z programami pisanymi w trakcie zajÄ™Ä‡, uÅ¼ywajÄ…c nazw ktÃ³re pozwolÄ… Ci Å‚atwo zidentyfikowaÄ‡ dany program.
MogÄ… one byÄ‡ pomocne w rozwiÄ…zywaniu kolejnych zadaÅ„ oraz prac domowych.
\end{ProTip}

\subsubsection{funkcja \python{print}}
ZwrÃ³Ä‡ uwagÄ™, iÅ¼ do wypisania wyniku dziaÅ‚ania na ekran zostaÅ‚a uÅ¼yta funkcja \python{print}.
Nie korzystaliÅ›my z niej wczeÅ›niej, poniewaÅ¼ bazowaliÅ›my na domyÅ›lnym zachowaniu interpretera przy
pracy interaktywnej powodujÄ…cym wypisywanie na konsolÄ™ wyniku nie zapisywanego do zmiennej.
Jednak kiedy tworzymy program powinniÅ›my w jawny sposÃ³b okreÅ›laÄ‡ co chcemy aby zostaÅ‚o wypisane na
konsolÄ™ wÅ‚aÅ›nie np. za pomocÄ… funkcji \python{print}.

Funkcja \python{print} wypisuje przekazane do niej (rozdzielane przecinkami) argumenty rozdzielajÄ…c je spacjami.
Przechodzi ona domyÅ›lnie do nastÄ™pnej linii po kaÅ¼dym wywoÅ‚aniu. Na przykÅ‚ad:

\begin{CodeFrame}[python]{.5\textwidth}
print("raz dwa", "trzy ...")
print(4, 5)
\end{CodeFrame}
\begin{CodeFrame}{auto}
raz dwa trzy ...
4 5
\end{CodeFrame}

\vspace{-14pt}

\begin{ProTip}{Informacja}
IlekroÄ‡ w niniejszych materiaÅ‚ach pojawiÄ… siÄ™ dwie ramki, jedna obok drugiej, w lewej ramce znajdowaÅ‚
siÄ™ bÄ™dzie kod programu, a w prawej efekt jego dziaÅ‚ania wyÅ›wietlony w konsoli:
\end{ProTip}

Zachowanie funkcji \python{print} moÅ¼na zmieniÄ‡, dodajÄ…c do jej wywoÅ‚ania, na koÅ„cu listy argumentÃ³w argument postaci \python{end = X} i/lub \python{sep = Y},
gdzie \Verb{X} to otoczony apostrofami ciÄ…g znakÃ³w, ktÃ³ry chcemy wypisywaÄ‡ zamiast przejÅ›cia do nowej linii,
a \Verb{Y} to otoczony apostrofami ciÄ…g znakÃ³w, ktÃ³ry chcemy wypisywaÄ‡ zamiast spacji rozdzielajÄ…cej wypisania kolejnych argumentÃ³w.
Na przykÅ‚ad:

\begin{CodeFrame}[python]{.5\textwidth}
x = 3
y = 4
print(x, '+ ', end='')
print(y, x + y, sep=' = ')
\end{CodeFrame}
\begin{CodeFrame}{auto}
3 + 4 = 7
\end{CodeFrame}

\vspace{-14pt}

\begin{ProTip}{Napisy}
CiÄ…g znakÃ³w ujÄ™ty w apostrofy lub cudzysÅ‚owy (w Pythonie nie ma znaczenia, ktÃ³rej wersji uÅ¼yjemy, waÅ¼ne jest tylko aby znak rozpoczynajÄ…cy i koÅ„czÄ…cy byÅ‚ taki sam) nazywamy napisem.
MoÅ¼emy ich uÅ¼ywaÄ‡ nie tylko w ramach funkcji print, ale teÅ¼ np. przypisywaÄ‡ do zmiennych. WiÄ™cej o napisach dowiemy siÄ™ pÃ³Åºniej.
\end{ProTip}

\vspace{-6pt}

\begin{Zadanie}{}{jeden_print}
Zmodyfikuj powyÅ¼szy program tak aby uzyskaÄ‡ ten sam efekt uÅ¼ywajÄ…c tylko jednego wywoÅ‚ania funkcji \python{print}
\end{Zadanie}

\subsubsection{Komentarze}
CzÄ™sto chcemy mÃ³c umieÅ›ciÄ‡ w kodzie programu dodatkowÄ… informacjÄ™, ktÃ³ra uÅ‚atwi nam jego czytanie i zrozumienie w przyszÅ‚oÅ›ci.
SÅ‚uÅ¼Ä… do tego tak zwane komentarze, ktÃ³re sÄ… ignorowane przez interpreter (bÄ…dÅº kompilator) danego jÄ™zyka.
W Pythonie podstawowym typem komentarza, jest komentarz jednoliniowy, rozpoczynajÄ…cy siÄ™ od znaku \Verb{#} a koÅ„czÄ…cy z koÅ„cem linii.
\teacher{%
W przypadku zdziwienia dlaczego akurat \texttt{\#} jest uÅ¼ywany do komentarzy moÅ¼na wspomnieÄ‡ Å¼e jest to bardzo czÄ™sto stosowane i zwiÄ…zane
z standardem linii sÅ‚uÅ¼Ä…cÄ… do okreÅ›lenia programu uÅ¼ywanego do zinterpretowania pliku ze skryptem postaci np. \texttt{\#!/bin/bash}
}%

\subsubsection{inne sposoby uruchamiania kodu z pliku {\Symbola ğŸ¤”}}

JeÅ¼eli do wywoÅ‚ania interpretera Pythona dodamy opcjÄ™ \Verb{-i} (np. \Verb{python3 -i mojProgram.py})
po wykonaniu kodu z podanego pliku uruchomi on konsolÄ™ interaktywnÄ… w ktÃ³rej bÄ™dÄ… dostÄ™pne elementy (m.in. zmienne) zdefiniowane w podanym pliku.

MoÅ¼liwe jest takÅ¼e wÅ‚Ä…czenie kodu z pliku do aktualnie uruchomionego interpretera (np. konsoli interaktywnej), w taki sposÃ³b jakbyÅ›my go wpisali
(czyli z wykonaniem wszystkich instrukcji i pÃ³ÅºniejszÄ… moÅ¼liwoÅ›ciÄ… dostÄ™pu do zdefiniowanych tam elementÃ³w).
Aby wczytaÄ‡ w ten sposÃ³b kod z pliku  \Verb{mojProgram.py} naleÅ¼y wykonaÄ‡: \python{exec(open('mojProgram.py').read())}

\subsection{Inne interpretery Pythona}

\subsubsection{on-line}
DostÄ™pne sÄ… rÃ³Å¼ne on-line'owe interpretery Pythona, np:
 \url{http://ideone.com/},
 \url{http://repl.it/}.
MogÄ… one posÅ‚uÅ¼yÄ‡ np. do odrabiania prac domowych bez koniecznoÅ›ci instalowania Pythona na uÅ¼ywanym do tego komputerze.

\teacher{
W dalszej czÄ™Å›ci zajÄ™Ä‡ (gdy bÄ™dziemy juÅ¼ pisaÄ‡ proste programy w pliku i je uruchamiaÄ‡) warto wrÃ³ciÄ‡ do tego i pokazaÄ‡ (uruchamiajÄ…c ten sam kod ktÃ³ry stworzyliÅ›my w normalnej konsoli) dziaÅ‚anie np. ideone.com, aby uÅ‚atwiÄ‡ odrabianie prac domowych.
}

\subsubsection{ipython {\Symbola ğŸ¤”}}

\Verb{ipython3} jest wygodniejszym w pracy interaktywnej interpreterem Pythona w wersji 3. Pozwala on m.in. na lepsze przewijanie i edytowanie poleceÅ„ wieloliniowych w historii.



\student{\clearpage}
\section{Podstawowe elementy skÅ‚adniowe}

\begin{teacherOnly}
\noindent Dla osÃ³b zaznajomionych z C/C++:
\begin{itemize}
\item kolejne instrukcje (zamiast Å›rednika) koÅ„czy znak nowej linii
\item bloki rozpoczyna dwukropek, a wyznacza je wciÄ™cie o danej iloÅ›ci znakÃ³w (nie mieszamy tabulatorÃ³w z spacjami)
\item nie ma konstrukcji i++, czy teÅ¼ ++i, jest za to i += 1
\item Å›rednik na koÅ„cu instrukcji (linii) nie jest bÅ‚Ä™dem skÅ‚adniowym (jest ignorowany)
\item warunek if'a w nawiasach nie jest bÅ‚Ä™dem skÅ‚adniowym (ale po nawiasach musi byÄ‡ dwukropek)
\item nie ma pÄ™tli for w stylu C (,,trÃ³jinstrukcyjnej''), w Pythonie pÄ™tla for zawsze iteruje po elementach jakiejÅ› listy
\end{itemize}
\end{teacherOnly}
%  END: Wprowadzenie

%  BEGIN: Funkcje
\subsection{Definiowanie wÅ‚asnych funkcji}

Bardzo czÄ™sto bÄ™dziemy chcieli mÃ³c wielokrotnie wykorzystaÄ‡ raz napisany fragment kodu.
W tym celu bÄ™dziemy tworzyÄ‡ wÅ‚asne \emph{funkcje}. Definicja funkcji ma nastÄ™pujÄ…cÄ… postaÄ‡:

\begin{CodeFrame*}[python]{}
def nazwa_funkcji(argumenty):
  pierwsze_polecenie
  drugie_polecenie
  ...
\end{CodeFrame*}

\noindent
ZwrÃ³Ä‡ uwagÄ™ na kilka rzeczy:
\begin{itemize}
	\item Na koÅ„cu pierwszej linijki jest dwukropek.
	\item Druga linijka musi byÄ‡ \emph{wciÄ™ta}, tzn. rozpoczynaÄ‡ siÄ™ od spacji, kilku spacji lub znaku tabulacji.
	\item JeÅ¼eli w ramach funkcji chcemy wykonaÄ‡ kilka instrukcji muszÄ… one mieÄ‡ taki sam poziom wciÄ™cia.
	\item ,,WnÄ™trze'' funkcji koÅ„czymy wracajÄ…c do takiego samego poziomu wciÄ™cia na jakim jÄ… rozpoczÄ™liÅ›my
	      (takiego wciÄ™cia jakie miaÅ‚a linijka z sÅ‚owem kluczowym \python{def}).
\end{itemize}\vspace{-4pt}
Jest to typowy sposÃ³b wyznaczania bloku kodu w Pythonie i bÄ™dziemy go jeszcze spotykaÄ‡ w innych konstrukcjach (ktÃ³re poznamy juÅ¼ niedÅ‚ugo), dlatego szczegÃ³lnie wart jest zapamiÄ™tania.

Gdy umieszczamy innÄ… konstrukcjÄ™ korzystajÄ…cÄ… z bloku kodu we wnÄ™trzu jakiegoÅ› innego bloku (np. funkcji), blok tej instrukcji musi byÄ‡ ,,bardziej'' wciÄ™ty od bloku w ktÃ³rym jest zawarty,
powrÃ³t do poziomu wciÄ™cia zewnÄ™trznego bloku oznacza zakoÅ„czenie bloku tej instrukcji i kontynuowanie zewnÄ™trznego bloku.

\begin{ProTip}{Porada}
Na funkcjÄ™ moÅ¼na patrzeÄ‡ jak na nazwany kawaÅ‚ek kodu, ktÃ³ry moÅ¼emy wywoÅ‚aÄ‡ z innego miejsca ze odmiennymi wartoÅ›ciami zmiennych stanowiÄ…cych jej argumenty.
\end{ProTip}

Polecenie wywoÅ‚ania funkcji ma postaÄ‡ \python{nazwa_funkcji(argumenty)} i moÅ¼emy napisaÄ‡ je w tym samym pliku, poniÅ¼ej definicji tej funkcji.
Typowo iloÅ›Ä‡ i kolejnoÅ›Ä‡ argumentÃ³w w definicji, jak i w wywoÅ‚aniu powinny byÄ‡ takie same.
JeÅ¼eli nasza funkcja nie potrzebuje przyjmowaÄ‡ argumentÃ³w nawiasy okrÄ…gÅ‚e w jej definicji i wywoÅ‚aniu pozostawiamy puste.
JeÅ¼eli potrzebujemy wiÄ™cej argumentÃ³w rozdzielamy je w obu przypadkach przecinkami (tak jak miaÅ‚o to miejsce w korzystaniu z funkcji \python{print}).

\paragraph{PrzykÅ‚ad}
Napiszmy funkcjÄ™, ktÃ³ra wypisuje swÃ³j argument podniesiony do kwadratu i wywoÅ‚ajmy jÄ…:

\begin{CodeFrame}[python]{.5\textwidth}
def kwadrat(x):
  print(x * x)

kwadrat(7)
kwadrat(2 + 3)
\end{CodeFrame}
\begin{CodeFrame}{auto}
49
25
\end{CodeFrame}

\noindent
ZwrÃ³Ä‡ uwagÄ™, iÅ¼ wywoÅ‚ania funkcji w powyÅ¼szym przykÅ‚adzie nie sÄ… wciÄ™te --- sÄ… poza blokiem funkcji.

\begin{ProTip}{Polecenia wieloliniowe w konsoli interaktywnej ğŸ¤”}
MoÅ¼liwe jest wprowadzanie poleceÅ„ wieloliniowych w konsoli interaktywnej.
W takim wypadku po wprowadzeniu pierwszej linii (rozpoczynajÄ…cej blok, np. \python{def})
nastÄ…pi zmiana znaku zachÄ™ty na \Verb{...}, co oznacza tryb wprowadzania bloku poleceÅ„.
NastÄ™pnie wprowadzamy kolejne instrukcje wykonywane w ramach tego bloku (np. funkcji) pamiÄ™tajÄ…Ä‡ o wciÄ™ciach.
Wprowadzanie bloku koÅ„czymy pustÄ… liniÄ…, po czym znak zachÄ™ty powrÃ³ci do standardowego \Verb{>>>}.
\end{ProTip}

\begin{Zadanie}{}{funkcja_suma}
Napisz funkcjÄ™, ktÃ³ra przyjmuje dwa argumenty i wypisuje ich sumÄ™. UÅ¼yj jej do obliczenia (wypisania na konsolÄ™) wartoÅ›ci kilku rÃ³Å¼nych sum.
\end{Zadanie}

\subsubsection{WartoÅ›Ä‡ zwracana z funkcji}

CzÄ™sto chcemy aby funkcja zamiast wypisaÄ‡ wynik swojego dziaÅ‚ania na ekran zwrÃ³ciÅ‚a go w taki sposÃ³b aby moÅ¼na byÅ‚o go zapisaÄ‡ do jakiejÅ› zmiennej,
moÅ¼liwe to jest poprzez zastosowanie instrukcji \python{return}. Przerywa ona dziaÅ‚anie funkcji w miejscu w ktÃ³rym zostaÅ‚a wykonaÅ‚a,
powoduje powrÃ³t do miejsca gdzie wywoÅ‚ana zostaÅ‚a funkcja i zwraca podanÄ… do niej wartoÅ›Ä‡:

\begin{CodeFrame}[python]{.5\textwidth}
def kwadrat(x):
  return x * x

a = kwadrat(7)
print( a - 2, kwadrat(4) )
\end{CodeFrame}
\begin{CodeFrame}{auto}
47 16
\end{CodeFrame}
%  END: Funkcje

\vspace{-13pt}

%  BEGIN: Zadanie - funkcja_suma2
\begin{Zadanie}{}{funkcja_suma2}
Napisz funkcjÄ™, ktÃ³ra przyjmuje dwa argumenty i \ul[black]{zwraca} ich sumÄ™. UÅ¼yj jej do obliczenia (oraz wypisania na konsolÄ™) wartoÅ›ci kilku rÃ³Å¼nych sum.
\\\textit{WskazÃ³wka: \python{print()} powinien byÄ‡ uÅ¼yty na zewnÄ…trz tej funkcji.}

\teacher{Warto zwrÃ³ciÄ‡ uwagÄ™ na to zadnie - w poÅ‚Ä…czeniu z wczeÅ›niejszym \ref{funkcja_suma} jest ono dobrÄ… okazjÄ… do wyjaÅ›nienia rÃ³Å¼nicy miÄ™dzy â€funkcja wypisujeâ€ a â€funkcja zwracaâ€.}
\end{Zadanie}
%  END: Zadanie - funkcja_suma2

%  BEGIN: Zadania - funkcje dodatkowe
\begin{Zadanie}{}{pole_kola}
Napisz funkcjÄ™, ktÃ³ra oblicza i zwraca pole koÅ‚a o podanym promieniu. UÅ¼yj jej do obliczenia powierzchni koÅ‚a o promieniu 13.

\teacher{W razie potrzeby moÅ¼na wymyÅ›liÄ‡ caÅ‚Ä… gamÄ™ zadaÅ„ analogicznych do tego, np. obliczanie pola powierzchni trapezu, kuli, objÄ™toÅ›ci stoÅ¼ka, kuli, etc.}
\end{Zadanie}

\begin{Zadanie}{}{}
\teacher{Zadanie stworzone jako propozycja zadania domowego dla grup poczÄ…tkujÄ…cych, ktÃ³re nie zrealizowaÅ‚y dalszej czÄ™Å›ci skryptu}

Napisz funkcjÄ™ ktÃ³ra przyjmuje dwa argumenty, wypisuje je w jednej linii rozdzielajÄ…c dwukropkiem.
W kolejnej linii powinna wypisaÄ‡ wartoÅ›Ä‡ reszty z dzielenia pierwszego argumentu przez drugi.
\end{Zadanie}

\begin{Zadanie}{}{}
\teacher{Zadanie stworzone jako propozycja zadania domowego dla grup poczÄ…tkujÄ…cych, ktÃ³re nie zrealizowaÅ‚y dalszej czÄ™Å›ci skryptu}

Napisz funkcjÄ™ obliczajÄ…cÄ… i zwracajÄ…cÄ… kwadrat podanej liczby. UÅ¼yj jej w funkcji ktÃ³ra ma obliczyÄ‡
i zwrÃ³ciÄ‡ wartoÅ›Ä‡ funkcji kwadratowej $ax^2 + bx + c$ w zadanym punkcie x, dla zadanych parametrÃ³w a, b i c.

\begin{teacherOnly}
MoÅ¼na dodaÄ‡ takÅ¼e wymÃ³g wdotyczÄ…cy wypisywania rozwiÄ…zania -- np:\\
Funkcja powinna wypisaÄ‡ rozwiÄ…zanie w postaci:\\
	\Verb{Ax^2 + Bx + C dla x = X wynosi XX}\\
gdzie A, B, C i X zastÄ…pione sÄ… wartoÅ›ciami argumentÃ³w przekazanych do funkcji, a XX obliczonÄ… wartoÅ›ciÄ… np:\\
	\Verb{2x^2 + 7x + -2 dla x = 3 wynosi 37}
\end{teacherOnly}
\end{Zadanie}
%  END: Zadania - funkcje dodatkowe

%  BEGIN: Funkcje2
\subsubsection{Argumenty domyÅ›lne i nazwane {\Symbola ğŸ¤”}}

MoÅ¼liwe jest podanie wartoÅ›ci domyÅ›lnych dla wybranych argumentÃ³w funkcji. Utworzy to z nich argumenty opcjonalne, ktÃ³re nie muszÄ… byÄ‡ podawane przy wywoÅ‚aniu funkcji.
Argumenty z wartoÅ›ciami domyÅ›lnymi muszÄ… wystÄ™powaÄ‡ w definicji funkcji po argumentach bez takich wartoÅ›ci.
Przy wywoÅ‚aniu funkcji moÅ¼na odwoÅ‚ywaÄ‡ siÄ™ do jej argumentÃ³w z podaniem ich nazw, pozwala to na podawanie argumentÃ³w w innej kolejnoÅ›ci niÅ¼ podana w definicji funkcji,
co jest przydatne zwÅ‚aszcza przy funkcjach z wieloma argumentami opcjonalnymi.

\begin{CodeFrame}[python]{.65\textwidth}
def potega(a = 2, b = 2):
    return a ** b

print( potega(), potega(4), potega(4, 3) )
print( potega(b = 3), potega(b = 1, a = 4) )
\end{CodeFrame}
\begin{CodeFrame}{auto}
4 16 64
8 4
\end{CodeFrame}

\subsubsection{ZasiÄ™g zmiennej {\Symbola ğŸ¤”}}

W Pythonie wewnÄ…trz funkcji widoczne sÄ… zmienne zdefiniowane poza niÄ…, jednak aby mÃ³c modyfikowaÄ‡ takÄ… zmiennÄ… wewnÄ…trz
funkcji naleÅ¼y jÄ… tam zadeklarowaÄ‡ jako globalnÄ… przy pomocy sÅ‚owa kluczowego \python{global}:

\begin{CodeFrame}[python]{.5\textwidth}
def test():
  global b
  a, b = 5, 13
  print(a, b, c)

a, b, c = 1, 3, 7
test()
print(a, b, c)
\end{CodeFrame}
\begin{CodeFrame}{auto}
5 13 7
1 13 7
\end{CodeFrame}

\noindent
AnalizujÄ…c dziaÅ‚anie powyÅ¼szego kodu zwrÃ³ciÄ‡ uwagÄ™ na:
\begin{itemize}
\item zasÅ‚oniÄ™cie globalnego \Verb{a} poprzez lokalne a wewnÄ…trz funkcji (nie moÅ¼na zmodyfikowaÄ‡ globalnej zmiennej \Verb{a} w funkcji),
\item moÅ¼liwoÅ›Ä‡ dostÄ™pu do globalnych zmiennych w funkcji dopÃ³ki ich nie zasÅ‚onimy zmiennÄ… lokalnÄ… (tak uÅ¼ywamy zmiennej \Verb{c})
\item moÅ¼liwoÅ›Ä‡ zmodyfikowania zmiennej globalnej gdy jest zadeklarowana w funkcji jako \python{global}
\end{itemize}
%  END: Funkcje2

%  BEGIN: PÄ™tla for
\subsection{PÄ™tla \python{for}}
ZaÅ‚Ã³Å¼my, Å¼e chcemy obliczyÄ‡ kwadraty wszystkich liczb od 1 do 4.
Zgodnie z dotychczasowÄ… wiedzÄ…, w tym celu musimy wykonaÄ‡ 4 dziaÅ‚ania:

\begin{CodeFrame}[python]{.5\textwidth}
print(1 * 1)
print(2 * 2)
print(3 * 3)
print(4 * 4)
\end{CodeFrame}
\begin{CodeFrame}{auto}
1
4
9
16
\end{CodeFrame}

Widzimy jednak, Å¼e te dziaÅ‚ania sÄ… bardzo podobne i chciaÅ‚oby siÄ™ je wykonaÄ‡ ,,za jednym zamachem''.
Do wykonywania wielokrotnie tego samego (lub podobnego) kodu sÅ‚uÅ¼Ä… pÄ™tle.
Najprostszym rodzajem pÄ™tli jest pÄ™tla \python{for}, ktÃ³ra dla danej \emph{listy} i operacji do wykonania
wykonuje tÄ™ operacjÄ™ po kolei na kaÅ¼dym elemencie listy.

Do wykonania powyÅ¼szego zadania sÅ‚uÅ¼y pÄ™tla \python{for} w nastÄ™pujÄ…cej postaci:

\begin{CodeFrame}[python]{.5\textwidth}
for x in [1, 2, 3, 4]:
    print(x * x)
\end{CodeFrame}
\begin{CodeFrame}{auto}
1
4
9
16
\end{CodeFrame}

\noindent SprÃ³buj przepisaÄ‡ tÄ™ pÄ™tlÄ™ i uruchomiÄ‡ program.
ZauwaÅ¼ Å¼e wnÄ™trze pÄ™tli jest wyznaczone w sposÃ³b analogiczny do wnÄ™trza funkcji:
\begin{itemize}
	\item Rozpoczyna siÄ™ od dwukropka koÅ„czÄ…cego pierwszÄ… liniÄ™.
	\item Kolejne linijki sÄ… \emph{wciÄ™te}, tzn. rozpoczynaÄ‡ siÄ™ od spacji, kilku spacji lub znaku tabulacji.
	\item JeÅ¼eli w ramach pÄ™tli chcielibyÅ›my wykonaÄ‡ kilka instrukcji muszÄ… one mieÄ‡ taki sam poziom wciÄ™cia.
	\item ,,WnÄ™trze'' pÄ™tli koÅ„czymy wracajÄ…c do takiego samego poziomu wciÄ™cia na jakim jÄ… rozpoczÄ™liÅ›my
	      (takiego wciÄ™cia jakie miaÅ‚a linijka z sÅ‚owem kluczowym \python{for}).
	\item PÄ™tle moÅ¼emy zagnieÅ¼dÅ¼aÄ‡ jedna w drugiej --- blok wewnÄ™trznej pÄ™tli musi byÄ‡ ,,bardziej'' wciÄ™ty.
	PowrÃ³t do poziomu wciÄ™cia zewnÄ™trznej pÄ™tli oznacza zakoÅ„czenie pÄ™tli wewnÄ™trznej i kontynuowanie zewnÄ™trznej.
\end{itemize}

\begin{Zadanie}{}{petla_potegi}
ZmodyfikujÄ… tÄ… pÄ™tlÄ™ w taki sposÃ³b aby wypisywaÅ‚a:
\begin{Verbatim}
1^2 = 1
2^2 = 4
3^2 = 9
4^2 = 16
\end{Verbatim}
\end{Zadanie}
%  END: PÄ™tla for

%  BEGIN: Lista kolejnych liczb naturalnych
\subsection{Lista kolejnych liczb naturalnych}
CzÄ™sto potrzebujemy, aby pÄ™tla przeszÅ‚a po liÅ›cie kilku kolejnych liczb naturalnych.
W tym celu moÅ¼emy oczywiÅ›cie podaÄ‡ wprost kolejne elementy listy (tak jak w powyÅ¼szym przykÅ‚adzie),
jednak istnieje wygodniejsze rozwiÄ…zanie, mianowicie polecenie \python{range()}:

\begin{CodeFrame}[python]{0.5\textwidth}
for x in range(7):
    print(x, end = ', ')
\end{CodeFrame}
\begin{CodeFrame}{auto}
0, 1, 2, 3, 4, 5, 6, 
\end{CodeFrame}

\begin{CodeFrame}[python]{0.5\textwidth}
for x in range(5, 10):
    print(x, end = ', ')
\end{CodeFrame}
\begin{CodeFrame}{auto}
5, 6, 7, 8, 9, 
\end{CodeFrame}

\begin{CodeFrame}[python]{0.5\textwidth}
for x in range(10, 20, 3):
    print(x, end = ', ')
\end{CodeFrame}
\begin{CodeFrame}{auto}
10, 13, 16, 19, 
\end{CodeFrame}

\noindent Na powyÅ¼szych przykÅ‚adach widzimy, Å¼e polecenie \python{range()} wystÄ™puje w trzech wersjach:
\begin{itemize}
	\item \python{range(kon)} generuje listÄ™ kolejnych liczb od 0 (\strong{wÅ‚Ä…cznie}) do \Verb{kon} (\strong{wyÅ‚Ä…cznie}).
	\item \python{range(pocz, kon)} generuje listÄ™ kolejnych liczb od \Verb{pocz} (\strong{wÅ‚Ä…cznie}) do 
		\Verb{kon} (\strong{wyÅ‚Ä…cznie}).
	\item \python{range(pocz, kon, krok)} generuje listÄ™ liczb od \Verb{pocz} (\strong{wÅ‚Ä…cznie}) 
		do \Verb{kon} (\strong{wyÅ‚Ä…cznie}), przeskakujÄ…c w kaÅ¼dym kroku o \Verb{krok}.
\end{itemize}

\begin{ProTip}{\normalfont{\strong{Do zapamiÄ™tania}}}
\normalsize Wszystkie przedziaÅ‚y w Pythonie sÄ… domkniÄ™te z lewej strony i otwarte z prawej strony,
tzn. zawierajÄ… swÃ³j lewy koniec i nie zawierajÄ… swojego prawego koÅ„ca.
\end{ProTip}
%  END: Lista kolejnych liczb naturalnych

%  BEGIN: Zadanie - suma_poteg
\begin{Zadanie}{}{suma_poteg}
Napisz program obliczajÄ…cy sumÄ™ $1^2 + 2^2 + 3^2 + \ldots + 99^2 + 100^2$. \teacher{(wynik: 338350)}

\begin{rozwiazanie}{python}
sum = 0
for x in range(101):
    sum = sum + x**2
print(sum)
\end{rozwiazanie}
\end{Zadanie}
%  END: Zadanie - suma_poteg

%  BEGIN: Zadanie - suma liczb
\begin{Zadanie}{}{zadanie_suma2}
Napisz funkcjÄ™, przyjmujÄ…cÄ… dwa argumenty $a$ i $b$, ktÃ³ra obliczy i zwrÃ³ci sumÄ™ liczb caÅ‚kowitych wiÄ™kszych od a i mniejszych od b.
\end{Zadanie}
%  END: Zadanie - suma liczb

%  BEGIN: Typ logiczny
\subsection{Typ logiczny}

Jak juÅ¼ siÄ™ przekonaliÅ›my moÅ¼na uÅ¼ywaÄ‡ Pythona jako kalkulatora. MoÅ¼emy go takÅ¼e uÅ¼yÄ‡ do obliczania wartoÅ›ci wyraÅ¼eÅ„ logicznych. SÅ‚uÅ¼y do tego wbudowany dwuwartoÅ›ciowy typ logiczny z wartoÅ›ciami:
\begin{itemize}
\item \python{True} oznaczajÄ…cÄ… logicznÄ… jedynkÄ™ / prawdÄ™
\item \python{False} oznaczajÄ…cÄ… logiczne zero / faÅ‚sz
\end{itemize}
Operacje na tym typie wykonujemy z uÅ¼yciem sÅ‚Ã³w kluczowych: \python{and}, \python{or}, \python{not} oznaczajÄ…cych odpowiednio:
iloczyn logiczny (aby byÅ‚ prawdÄ… oba warunki muszÄ… byÄ‡ speÅ‚nione), sumÄ™ logicznÄ… (aby wynik byÅ‚ prawdÄ… co najmniej jednej z warunkÃ³w musi byÄ‡ speÅ‚niony) oraz negacjÄ™ logicznÄ….
Podobnie jak w zwykÅ‚ych operacjach arytmetycznych moÅ¼emy grupowaÄ‡ ich fragmenty (celem wymuszenia kolejnoÅ›ci dziaÅ‚aÅ„) przy pomocy nawiasÃ³w okrÄ…gÅ‚ych.

WartoÅ›ciom tego typu mogÄ… odpowiadaÄ‡ wybrane wartoÅ›ci innych typÃ³w (np. liczba caÅ‚kowita 0 odpowiada \python{False}, a pozostaÅ‚e liczby caÅ‚kowite \python{True}).
WartoÅ›ciami tego typu sÄ… teÅ¼ wyniki rÃ³Å¼nego rodzaju porÃ³wnaÅ„, takich jak: \python{<} (mniejsze), \python{>} (wiÄ™ksze), \python{<=} (mniejsze rÃ³wne),
\python{>=} (wiÄ™ksze rÃ³wne), \python{==} (rÃ³wne), \python{!=} (nierÃ³wne).
%  END: Typ logiczny

%  BEGIN: Instrukcja warunkowa if
\subsection{Instrukcja warunkowa \python{if}}

CzÄ™sto chcemy, aby program zachowywaÅ‚ siÄ™ w rÃ³Å¼ny sposÃ³b w zaleÅ¼noÅ›ci od tego, czy jakiÅ› warunek jest speÅ‚niony, czy nie.
W Pythonie (jak w wiÄ™kszoÅ›ci jÄ™zykÃ³w programowania) sÅ‚uÅ¼y do tego instrukcja warunkowa \python{if}.

PrzypuÅ›Ä‡my, Å¼e chcemy napisaÄ‡ funkcjÄ™, ktÃ³ra dla podanej wartoÅ›ci sprawdzi czy odpowiada ona logicznej prawdzie czy faÅ‚szowi i wypisuje odpowiedni komunikat.
Zatem kod bÄ™dzie wyglÄ…daÅ‚ nastÄ™pujÄ…co:

\begin{CodeFrame}[python]{0.50\textwidth}
def sprawdz(x):
    if x:
        print(x, '-- prawda')
    else:
        print(x, '-- nie prawda')
sprawdz(1)
sprawdz(0)
\end{CodeFrame}
\begin{CodeFrame}{auto}
1 -- prawda
0 -- nie prawda
\end{CodeFrame}

\noindent ZwrÃ³Ä‡ uwagÄ™ na nastÄ™pujÄ…ce rzeczy:
\begin{itemize}
	\item \python{if} to po polsku ,,jeÅ›li'', \python{else} to po polsku ,,w przeciwnym przypadku''.
	\item Linijki rozpoczynajÄ…ce siÄ™ od \python{if} i \python{else} (podobnie jak linijki rozpoczynajÄ…ce siÄ™ np. od \python{def}) koÅ„czÄ… siÄ™ dwukropkiem.
	\item ,,WnÄ™trze'' \python{if}-a i \python{else}-a (linijki 3 i 5) jest wciÄ™te (bardziej niÅ¼ samo wnÄ™trze definicji funkcji \Verb{sprawdz}).
	\item Linijka 3 zostanie wykonana, jeÅ›li speÅ‚niony bÄ™dzie warunek z linijki 2, czyli jeÅ›li wartoÅ›Ä‡ zmiennej x bÄ™dzie odpowiadaÅ‚a prawdzie.
	\item Linijka 5 zostanie wykonana, jeÅ›li warunek z linijki 2 nie bÄ™dzie speÅ‚niony.
\end{itemize}
W powyÅ¼szym przykÅ‚adzie uÅ¼yliÅ›my konstrukcji \python{if}/\python{else} do rozrÃ³Å¼nienia pomiÄ™dzy dwoma przypadkami.
UÅ¼ywajÄ…c komendy \python{elif} (skrÃ³t od \python{else if}) moÅ¼emy stworzyÄ‡ bardziej skomplikowany kod do rozrÃ³Å¼nienia pomiÄ™dzy kilkoma rÃ³Å¼nymi przypadkami:

\begin{CodeFrame}[python]{0.6\textwidth}
for x in range(0, 5):
    if x < 1 or x == 4:
        print('mniejsze od 1 lub rÃ³wne 4')
    elif x in [0,2,3]:
        print('0 2 lub 3')
    else:
        print('nic ciekawego')
\end{CodeFrame}
\begin{CodeFrame}{auto}
mniejsze od 1 lub rÃ³wne 4
nic ciekawego
0 2 lub 3
0 2 lub 3
mniejsze od 1 lub rÃ³wne 4
\end{CodeFrame}

Ten kod skÅ‚ada siÄ™ z trzech blokÃ³w, ktÃ³re sÄ… wykonywane w zaleÅ¼noÅ›ci od speÅ‚nienia poszczegÃ³lnych warunkÃ³w:
\python{if}, \python{elif}, \python{else}.
Mamy duÅ¼Ä… dowolnoÅ›Ä‡ w konstruowaniu tego typu fragmentÃ³w kodu: 
blokÃ³w \python{elif} moÅ¼e byÄ‡ dowolnie wiele, blok \python{else} moÅ¼e wystÄ™powaÄ‡ jako ostatni blok,
ale moÅ¼e teÅ¼ go nie byÄ‡ w ogÃ³le.

W powyÅ¼szym przykÅ‚adzie widzimy rÃ³wnieÅ¼, Å¼e w roli warunkÃ³w sprawdzanych w ramach \python{if}a mogÄ… wystÄ™powaÄ‡ bardziej zÅ‚oÅ¼one wyraÅ¼enia.
MoÅ¼emy tutaj uÅ¼yÄ‡ dowolnego wyraÅ¼enia ktÃ³rego wynik odpowiada wartoÅ›ci logicznej \python{True}/\python{False},
najczÄ™Å›ciej spotkamy siÄ™ z wyraÅ¼eniami zÅ‚oÅ¼onymi z poznanych juÅ¼ operatorÃ³w porÃ³wnaÅ„ (\python{<}, \python{>}, \python{<=},
\python{>=}, \python{==}, \python{!=}) i operacji logicznych (\python{and}, \python{or}, \python{not}).

ZwrÃ³Ä‡ uwagÄ™ na warunek postaci ,,\python{A in B}''.
Taki warunek sprawdza, czy wartoÅ›Ä‡ reprezentowana przez \Verb{A} jest elementem \Verb{B}, a jego wynik oczywiÅ›cie takÅ¼e jest wartoÅ›ciÄ… logicznÄ….
W naszym przykÅ‚adzie sprawdzaliÅ›my, czy wartoÅ›Ä‡ zmiennej \Verb{x} wystÄ™puje w podanej liÅ›cie liczb, czyli czy jest 1, 2 lub 3.

ZauwaÅ¼, Å¼e dla x wynoszÄ…cego 0 speÅ‚nione sÄ… dwa warunki (pierwszy i Å›rodkowy), w takim wypadku decydujÄ…ca jest kolejnoÅ›Ä‡ warunkÃ³w i w konstrukcji
\python{if}/\python{elif} wykonany zostanie jedynie kod zwiÄ…zany z pierwszym pasujÄ…cym warunkiem.
%  END: Instrukcja warunkowa if

%  BEGIN: Zadanie - funkcja_znak
\begin{Zadanie}{}{funkcja_znak}
Napisz funkcjÄ™ \python{znak(liczba)} ktÃ³ra wypiszÄ™ informacjÄ™ o znaku podanej liczby (wyrÃ³Å¼niajÄ…c zero) i zwrÃ³ci jej wartoÅ›Ä‡ bezwzglÄ™dnÄ….
WywoÅ‚anie funkcji \Verb{znak} powinno wyglÄ…daÄ‡ nastÄ™pujÄ…co:

\vspace{-7pt}
\begin{CodeFrame}[text]{.5\textwidth}
a = znak(7)
b = znak(-13)
c = znak(0)
print(a, b, c)
\end{CodeFrame}
\begin{CodeFrame}{auto}
7 jest dodatnia
-13 jest ujemna
0 to zero
7 13 0
\end{CodeFrame}
\end{Zadanie}
%  END: Zadanie - funkcja_znak

%  BEGIN: Zadanie - nie podzielne
\begin{Zadanie}{}{niepodzielne}
Napisz funkcjÄ™ ktÃ³ry wypisze liczby od 0 do 20 z pominiÄ™ciem liczb podzielnych przez wartoÅ›Ä‡ okreÅ›lonÄ… w jej argumencie.
\end{Zadanie}
%  END: Zadanie - nie podzielne

%  BEGIN: PÄ™tla while
\subsection{PÄ™tla \python{while}}

Do tej pory korzystaliÅ›my z pÄ™tli \python{for}, ktÃ³ra pozwala na iterowanie po liÅ›cie elementÃ³w. Innym istotnym rodzajem pÄ™tli
jest pÄ™tla \python{while}, ktÃ³ra powoduje wykonywanie zawartego w niej kodu dopÃ³ki podany warunek jest speÅ‚niony.
\teacher{ZwrÃ³ciÄ‡ uwagÄ™ na moÅ¼liwoÅ›Ä‡ / ryzyko zapÄ™tlenia.}

\begin{CodeFrame}[python]{0.50\textwidth}
a, b = 0, 1
while a <= 20:
    print(a, end=" ")
    a, b = b, a + b
\end{CodeFrame}
\begin{CodeFrame}{auto}
0 1 1 2 3 5 8 13
\end{CodeFrame}

ZwrÃ³Ä‡ uwagÄ™, Å¼e wewnÄ…trz pÄ™tli \python{while} (tak samo jak innych konstrukcji uÅ¼ywajÄ…cych wciÄ™tego bloku - takich jak \python{for}, czy \python{if})
moÅ¼e znajdowaÄ‡ siÄ™ wiÄ™cej niÅ¼ jedno polecenie. Trzeba tylko pamiÄ™taÄ‡, aby wszystkie byÅ‚y poprzedzone takim samym wciÄ™ciem.

PÄ™tla \python{while} jest teÅ¼ naturalnym wyborem gdy w Pythonie chcemy przechodziÄ‡ przez jakiÅ› zakres liczb z krokiem nie caÅ‚kowitym
	(wczeÅ›niej poznana instrukcja \python{range}, stosowana do iterowania po zakresie liczbowym w pÄ™tli \python{for}, wymaga aby krok byÅ‚ caÅ‚kowity).

\begin{Zadanie}{}{zadanie_suma3}
RozwiÄ…Å¼ zadanie \ref{zadanie_suma2} uÅ¼ywajÄ…c pÄ™tli \python{while}
\end{Zadanie}
%  END: PÄ™tla while

%  BEGIN: Wielokrotne przypisanie
\subsection{Wielokrotne przypisanie}

ZwrÃ³Ä‡ uwagÄ™ w powyÅ¼szym kodzie takÅ¼e na operacjÄ™ wielokrotnego przypisania postaci \python{a, b = x, y}.
Dokonuje ona przypisania wartoÅ›ci x do a i y do b, przy czym wartoÅ›ci x i y obliczane sÄ… przed zmodyfikowaniem a i b.
Pozwala to m.in. na zamianÄ™ wartoÅ›ci pomiÄ™dzy a i b bez stosowania zmiennej tymczasowej poprzez zapis: \python{a, b = b, a}.
Podobnie moÅ¼emy zapisywaÄ‡ przypisania wiÄ™kszej iloÅ›ci wartoÅ›ci do wiÄ™kszej iloÅ›ci zmiennych np: \python{a, b, c = 1, 5, 9}.
Z notacji tej bÄ™dziemy teÅ¼ czÄ™sto korzystaÄ‡ w dalszej czÄ™Å›ci skryptu przy inicjalizacji zmiennych.
\teacher{NaleÅ¼y poÅ›wiÄ™ciÄ‡ chwilÄ™ uwagi tej notacji.}
%  END: Wielokrotne przypisanie

%  BEGIN: Zadanie - podzielne
\subsection{Zadania dodatkowe}
\begin{Zadanie}{}{dwucyfrowe_podzielne} % [1 pkt]
Napisz pÄ™tlÄ™, ktÃ³ra wypisze wszystkie dwucyfrowe liczby podzielne przez 7.
Kolejne liczby powinny byÄ‡ wypisane w jednym wierszu i porozdzielane pojedynczymi spacjami.
\end{Zadanie}
%  END: Zadanie - podzielne

%  BEGIN: Zadania dodatkowe 01
\begin{Zadanie}{}{zadanie_trojkat}
UÅ¼ywajÄ…c dwÃ³ch pÄ™tli \python{for}, jedna wewnÄ…trz drugiej, napisz program, ktÃ³ry wypisze na ekranie
\textit{trÃ³jkÄ…t z iksÃ³w}, taki jak poniÅ¼ej:
\begin{Verbatim}
X
XX
XXX
XXXX
XXXXX
XXXXXX
XXXXXXX
\end{Verbatim}
\end{Zadanie}

\begin{Zadanie}{}{zadanie_trojkat2}
Zmodyfikuj rozwiÄ…zanie zadania \ref{zadanie_trojkat} tak aby zamiast co najmniej jednej pÄ™tli \python{for} uÅ¼yÄ‡ pÄ™tli \python{while}.
\end{Zadanie}
%  END: Zadania dodatkowe 01

%  BEGIN: Zadanie - for+if
\begin{Zadanie}{}{funkcja_bezwzgledne}
Napisz funkcjÄ™ \python{bezwzgledne(lista)}, ktÃ³ra dla danej listy liczb wypiszÄ™ listÄ™ wartoÅ›ci bezwzglÄ™dnych
tych liczb, tj. liczby ujemne zamieni na przeciwne, a liczby nieujemne pozostawi bez zmian.
PoszczegÃ³lne liczby powinny byÄ‡ oddzielone pojedynczymi spacjami.
PrzykÅ‚adowe uÅ¼ycie funkcji powinno wyglÄ…daÄ‡ nastÄ™pujÄ…co:
\begin{Verbatim}
 > bezwzgledne([5, -10, 15, 0])
5 10 15 0
\end{Verbatim}
\end{Zadanie}
%  END: Zadanie - for+if

%  BEGIN: rekurencja - zadanie
\begin{Zadanie}{ {\Symbola ğŸ¤”}}{zadanie_trojkat3}
Zmodyfikuj rozwiÄ…zanie zadania \ref{zadanie_trojkat} tak aby zamiast co najmniej jednej z pÄ™tli uÅ¼yÄ‡ rekurencji.\\
\emph{WskazÃ³wka: Funkcja rekurencyjna to funkcja, ktÃ³ra wywoÅ‚uje samÄ… siebie (typowo ze zmodyfikowanymi argumentami), dopÃ³ki zachodzi jakiÅ› ustalony warunek (typowo zaleÅ¼ny od argumentÃ³w).}
\end{Zadanie}
%  END: rekurencja - zadanie


%  BEGIN: Zadania logika
\begin{Zadanie}{}{funkcja_rownowazne}
Napisz funkcjÄ™, przyjmujÄ…cÄ… dwa argumenty $a$ i $b$, ktÃ³ra sprawdzi warunek rÃ³wnowaÅ¼noÅ›ci $a \Leftrightarrow b$ (sprawdzi czy $a$ wtedy i tylko wtedy gdy $b$).
\\\emph{WskazÃ³wka: dla uÅ‚atwienia moÅ¼na przyjÄ…Ä‡ Å¼e argumenty sÄ… zawsze typu logiczne True/False.}
\end{Zadanie}

\begin{Zadanie}{}{funkcja_xor}
Napisz funkcjÄ™, przyjmujÄ…cÄ… dwa argumenty $a$ i $b$, ktÃ³ra bÄ™dzie realizowaÄ‡ funkcjÄ™ xor (zwrÃ³ci wartoÅ›Ä‡ $a$ XOR $b$).
\\\emph{WskazÃ³wka: dla uÅ‚atwienia moÅ¼na przyjÄ…Ä‡ Å¼e argumenty sÄ… zawsze typu logiczne True/False.}
\end{Zadanie}

\begin{Zadanie}{}{funkcja_implikacja}
Napisz funkcjÄ™, przyjmujÄ…cÄ… dwa argumenty $a$ i $b$, ktÃ³ra sprawdzi warunek implikacji $a \Rightarrow b$ (sprawdzi czy z a wynika b).
\\\emph{WskazÃ³wka: dla uÅ‚atwienia moÅ¼na przyjÄ…Ä‡ Å¼e argumenty sÄ… zawsze typu logiczne True/False.}
\end{Zadanie}
%  END: Zadania logika


%  BEGIN: Napisy - wprowadzenie
\student{\clearpage}
\section{Napisy}
Do tej pory uÅ¼ywaliÅ›my zmiennych do przechowywania liczb i operowania na nich. Zmienne mogÄ… rÃ³wnieÅ¼ jako wartoÅ›ci przyjmowaÄ‡ litery, sÅ‚owa, a nawet caÅ‚e zdania:

\begin{CodeFrame}[python]{.5\textwidth}
x = 'A'
a, b, c = 'Ala', "ma", " kota i psa"
d = """ ... a co ma ...
 "kotek"?"""
print(x, a[2])
print(c[1], c[-1], c[-3])
print(a + b)
print(3 * a)
print(a + " " + b + c + d)
\end{CodeFrame}
\begin{CodeFrame}{auto}
A a
o a p
Alama
AlaAlaAla
Ala ma kota i psa ... a co ma ...
 "kotek"?
\end{CodeFrame}

\pagebreak[2]\noindent
ZwrÃ³Ä‡ uwagÄ™ na nastÄ™pujÄ…ce rzeczy:
\begin{itemize}
\item Napisy muszÄ… byÄ‡ otoczone pojedynczymi apostrofami lub podwÃ³jnym cudzysÅ‚owami (nie ma znaczenia,
	ktÃ³rÄ… wersjÄ™ wybierzemy), w przypadku napisÃ³w wieloliniowych uÅ¼ywamy trzykrotnie apostrofu lub cudzysÅ‚owowa na poczÄ…tku i koÅ„cu napisu.\\
	Nie przypisane do Å¼adnej zmiennej napisy wieloliniowe mogÄ… byÄ‡ stosowane jako komentarze wieloliniowe.
\item Przy uÅ¼yciu liczby w nawiasie kwadratowym moÅ¼emy poznaÄ‡ poszczegÃ³lne litery napisu (\strong{\emph{numeracja rozpoczyna siÄ™ od 0}}).
\item Ujemny indeks oznacza odliczanie liter od koÅ„ca napisu: ostatnia litera napisu \python{c} to \python{c[-1]},
	przedostatnia to \python{c[-2]}, itd.
\item Przy uÅ¼yciu znaku dodawania moÅ¼emy sklejaÄ‡ (\emph{konkatenowaÄ‡}) napisy.
\item Przy uÅ¼yciu znaku gwiazdki moÅ¼emy mnoÅ¼yÄ‡ napisy (czyli sklejaÄ‡ same ze sobÄ…).
\end{itemize}
Innymi przydatnymi operacjami na napisach jest sprawdzanie dÅ‚ugoÅ›ci napisu poleceniem \python{len()}
oraz wycinanie podnapisu przy uÅ¼yciu dwukropka:

\begin{CodeFrame}[python]{.7\textwidth}
tekst = 'Python'
dlugosc = len(tekst)
print(dlugosc, tekst[2:5], tekst[3:], tekst[:3])
\end{CodeFrame}
\begin{CodeFrame}{auto}
6 tho hon Pyt
\end{CodeFrame}

\pagebreak[2]\noindent
W powyÅ¼szym przykÅ‚adzie:
\begin{itemize}
\item komenda \python{tekst[2:5]} zwraca podnapis od znaku nr 2 (\strong{wÅ‚Ä…cznie}) do znaku nr 5 
(\strong{wyÅ‚Ä…cznie}),
\item komenda \python{tekst[3:]} zwraca podnapis od znaku nr 3 (\strong{wÅ‚Ä…cznie}) do koÅ„ca, 
\item komenda \python{tekst[:3]} zwraca podnapis od poczÄ…tku do znaku nr 3 
(\strong{wyÅ‚Ä…cznie}).
\end{itemize}

Podobnie jak w \python{range()} moÅ¼emy podaÄ‡ trzeci argument okreÅ›lajÄ…cy przedziaÅ‚ czyli krok.
Pozwala to na wybieranie co n-tego znaku z napisu, zarÃ³wno zaczynajÄ…c od poczÄ…tku jak i koÅ„ca:

\begin{CodeFrame}[python]{.7\textwidth}
tekst = '123456789'
print(tekst[::2], tekst[1::2])
print(tekst[::-1], tekst[::-3])
print(tekst[::-1][::3], tekst[::3][::-1])
\end{CodeFrame}
\begin{CodeFrame}{auto}
13579 2468
987654321 963
963 741
\end{CodeFrame}

\pagebreak[2]\noindent
W powyÅ¼szym przykÅ‚adzie:
\begin{itemize}
\item komenda \python{tekst[::2]} zwraca co drugi znak,
\item komenda \python{tekst[1::2]} zwraca co drugi znak od znaku nr 1,
\item komenda \python{tekst[::-1]} zwraca napis od tyÅ‚u,
\item komenda \python{tekst[::-3]} zwraca co 3 znak z napisu od tyÅ‚u (warto zauwaÅ¼yÄ‡ Å¼e nie zawsze jest to rÃ³wnowaÅ¼ne wypisaniu napisu zÅ‚oÅ¼onego z co 3 znaku od tyÅ‚u).
\end{itemize}

\subsection{Napis jako lista}

Wszystkie listy, ktÃ³rych do tej pory uÅ¼ywaliÅ›my w pÄ™tli \python{for} byÅ‚y listami liczb.
Okazuje siÄ™, Å¼e w Pythonie napisy mogÄ… byÄ‡ traktowane jako lista, a dokÅ‚adniej listÄ… liter. 
Oznacza to, Å¼e po napisie moÅ¼na przejÅ›Ä‡ przy uÅ¼yciu pÄ™tli \python{for}, tak samo jak przechodziliÅ›my po liÅ›cie liczb:

\begin{CodeFrame}[python]{0.50\textwidth}
for l in 'Abc':
    print('litera', end = ' ')
    print(l)
\end{CodeFrame}
\begin{CodeFrame}{auto}
litera A
litera b
litera c
\end{CodeFrame}

\subsubsection{ModyfikowalnoÅ›Ä‡ napisÃ³w}

Python pozwala odwoÅ‚ywaÄ‡ siÄ™ do poszczegÃ³lnych znakÃ³w w napisie jak do elementÃ³w listy, jednak nie pozwala na ich modyfikowanie:

\begin{CodeFrame}[python]{0.25\textwidth}
s = "abcdefgh"
s[2] = "X"
print(s)
\end{CodeFrame}
\begin{CodeFrame}{auto}
Traceback (most recent call last):
  File "python", line 2, in <module>
TypeError: 'str' object does not support item assignment
\end{CodeFrame}

ZwrÃ³Ä‡ uwagÄ™ na komunikat bÅ‚Ä™du, ktÃ³ry zostaÅ‚ wyÅ›wietlony, podaje on informacji o tym co wywoÅ‚aÅ‚o bÅ‚Ä…d (opis bÅ‚Ä™du) i w  ktÃ³rej linii programu on wystÄ…piÅ‚.
\strong{Czytanie ze zrozumieniem komunikatÃ³w o bÅ‚Ä™dach uÅ‚atwia naprawianie niedziaÅ‚ajÄ…cego programu.}

\teacher{
	\ \\ \strong{Warto pokazaÄ‡ kilka innych komunikatÃ³w o bÅ‚Ä™dach i poprosiÄ‡ uczestnikÃ³w o ich wyjaÅ›nienie.}\\\ 
}

JeÅ¼eli zachodzi potrzeba modyfikowania napisu konkretnych znakÃ³w w napisie moÅ¼emy uÅ¼yÄ‡ poznanej wczeÅ›niej metody uzyskiwania podnapisÃ³w:

\begin{CodeFrame}[python]{0.50\textwidth}
s = "abcdefgh"
s = s[:2] + "X" + s[3:5] + s[6:]
print(s)
\end{CodeFrame}
\begin{CodeFrame}{auto}
abXdegh
\end{CodeFrame}

PowyÅ¼szy przykÅ‚ad w miejsce znaku nr 2 wstawia napis "X" oraz usuwa znak nr 5 z napisu.
Przy koniecznoÅ›ci modyfikacji znak po znaku moÅ¼emy uÅ¼yÄ‡ iteracji po napisie i budowaÄ‡ nowy napis znak po znaku:

\begin{CodeFrame}[python]{0.50\textwidth}
s, ns = "abcdefgh", ""
for z in s:
    if z in "cf":
        ns = ns + "X"
    else:
        ns = ns + z
print(ns)
\end{CodeFrame}
\begin{CodeFrame}{auto}
abXdeXgh
\end{CodeFrame}
%  END: Napisy - wprowadzenie

%  BEGIN: Napisy - zadania 01
\begin{Zadanie}{}{funkcja_wspak}
Napisz funkcjÄ™, ktÃ³ra dla danej listy sÅ‚Ã³w wypisze kaÅ¼de sÅ‚owo z listy wspak. Np. dla listy \python{['Ala', 'ma', 'kota']} funkcja powinna wypisaÄ‡:
{ \ttfamily alA am atok }

\begin{rozwiazanie}{python}
def wskap(lista):
  for slowo in lista:
    # zamiast pomniÅ¼szej pÄ™tli moÅ¼na proÅ›ciej ...
    # ale warto pokazaÄ‡ (takÅ¼e) takie rozwiÄ…zanie
    for i in range(len(slowo)):
      print(slowo[-1 - i], end = '')
    print()
\end{rozwiazanie}
\end{Zadanie}

\begin{Zadanie}{}{funkcja_wyiksuj}
Napisz funkcjÄ™ \python{wyiksuj(napis)}, ktÃ³ra zwrÃ³ci dany \Verb{napis}, zastÄ™pujÄ…c kaÅ¼dÄ… maÅ‚Ä… literÄ™ przez \Verb{x} i
kaÅ¼dÄ… wielkÄ… literÄ™ przez \Verb{X}, natomiast resztÄ™ znakÃ³w pozostawi bez zmian.
Np. dla napisu \Verb{'Python 3.6.1 (default, Dec 2015, 13:05:11)'} funkcja powinna zwrÃ³ciÄ‡ napis: \Verb{Xxxxxx 3.6.1 (xxxxxxx, Xxx 2015, 13:05:11)}

\begin{teacherOnly}
\noindent WskazÃ³wka:\\
Dla kaÅ¼dego znaku uÅ¼yj konstrukcji \python{if}/\python{elif}/\python{else}, aby rozrÃ³Å¼niÄ‡ pomiÄ™dzy trzema przypadkami:
maÅ‚e litery, wielkie litery, pozostaÅ‚e znaki.
\end{teacherOnly}
\end{Zadanie}
%  END: Napisy - zadania 01

%  BEGIN: Konwersje liczba -- napis
\subsection{Konwersje liczba -- napis}

Z punktu widzenia komputera liczba czy teÅ¼ element napisu, ktÃ³rym jest litera sÄ… pewnÄ… wartoÅ›ciÄ… numerycznÄ….
Natomiast my do zapisu liczb uÅ¼ywamy rÃ³Å¼nych systemÃ³w (np. dziesiÄ™tnego, czy teÅ¼ szesnastkowego).
DomyÅ›lnie liczby wprowadzane do programu interpretowane sÄ… jako zapisane w systemie dziesiÄ™tnym,
podobnie liczby uzyskiwane poprzez konwersjÄ™ napisu przy pomocy funkcji \python{int()}.
MoÅ¼liwe jest jednak wprowadzanie liczb zapisanych w innych systemach liczbowych lub konwersja z napisu zawierajÄ…cego liczbÄ™ ---
drugi, opcjonalny argument \python{int()} pozwala okreÅ›liÄ‡ podstawÄ™ systemu z ktÃ³rego konwertujemy, zero oznacza automatyczne wykrycie w oparciu o prefix:

\begin{CodeFrame}[python]{0.7\textwidth}
# szesnastkowo
h1, h2, h3 = 0x1F, int("0x1F", 0), int("1F", 16)
# oktalnie
o1, o2, o3 = 0o17, int("0o17", 0), int("17", 8)
# binarnie
b1, b2, b3 = 0b101, int("0b101", 0), int("101", 2)

print("",h1,o1,b1, "\n",h2,o2,b2, "\n",h3,o3,b3)
\end{CodeFrame}
\begin{CodeFrame}{auto}
 31 15 5
 31 15 5
 31 15 5
\end{CodeFrame}
\teacher{
ZwrÃ³ciÄ‡ uwagÄ™ Å¼e w kaÅ¼dym wariancie konwersji dostajemy ten sam wynik. Jako ciekawostkÄ™ moÅ¼na zapytaÄ‡ siÄ™ o konwertowanie z innych systemÃ³w liczbowych.
}

MoÅ¼liwe jest takÅ¼e konwertowanie wartoÅ›ci liczbowej na napis w okreÅ›lonym systemie liczbowym:

\begin{CodeFrame*}[python]{}
a, b = 3, 13
c = (a + b) * b
s = "(" + bin(a) + " + " + oct(b) + ") * " + hex(b) + " = " + str(c)
print( s )
\end{CodeFrame*} 
% (0b11 + 0o15) * 0xd = 208
%  END: Konwersje liczba -- napis

%  BEGIN: Konwersje liczba -- napis - zadania
\begin{Zadanie}{}{funkcja_toStr}
Napisz funkcjÄ™ \python{toStr(liczba, podstawa)}, ktÃ³ra konwertuje podanÄ… liczbÄ™ do reprezentacji napisowej w systemie o podanej podstawie.\\
WskazÃ³wka: do testowania poprawnoÅ›ci dziaÅ‚ania moÅ¼esz uÅ¼yÄ‡ funkcji \python{int(napis, podstawa)}, moÅ¼emy przyjÄ…Ä‡ Å¼e podstawa jest mniejsza od 37 tak aby starczyÅ‚o liter alfabetu Å‚aciÅ„skiego.
\end{Zadanie}
%  END: Konwersje liczba -- napis - zadania

%  BEGIN: Kodowania znakÃ³w
\subsection{Kodowania znakÃ³w}

Python uÅ¼ywa Unicode dla obsÅ‚ugi napisÃ³w, jednak przed przekazaniem napisu do Å›wiata zewnÄ™trznego konieczne moÅ¼e byÄ‡ zastosowanie konwersji do okreÅ›lonej postaci bytowej (zastosowanie odpowiedniego kodowania).
SÅ‚uÅ¼y do tego metoda \python{encode()} np.:

\begin{CodeFrame*}[python]{}
a = "aÄ…bcÄ‡ ... â†â†“â†’"
inUTF7 = a.encode('utf7')
inUTF8 =  a.encode() # lub a.encode('utf8')
print("'" + a + "' w UTF7 to: " + str(inUTF7) + ", w UTF8: " + str(inUTF8))
\end{CodeFrame*}

Zmienne typu 'bytes' oprÃ³cz przekazania na zewnÄ…trz (np. zapisu do pliku lub wysÅ‚ania przez sieÄ‡) mogÄ… zostaÄ‡ takÅ¼e m.in. zdekodowane do napisu z uÅ¼yciem metody \python{decode()} lub poddane dalszej konwersji np. kodowaniu base64:

\begin{CodeFrame*}[python]{}
print("zdekodowany UTF7: " + inUTF7.decode('utf7'))

import codecs
b64 = codecs.encode(inUTF8, 'base64')
print("napis w UTF8 po zakodowaniu base64 to: " + str(b64))
\end{CodeFrame*}

W powyÅ¼szym przykÅ‚adzie naleÅ¼y zwrÃ³ciÄ‡ uwagÄ™ na instrukcjÄ™ \python{import}, ktÃ³ra sÅ‚uÅ¼y do zaÅ‚Ä…czania bibliotek pythonowych do naszego programu.
W tym wypadku zaÅ‚Ä…czamy fragment standardowej biblioteki Pythona o nazwie \python{codecs}.

Base64 jest jednym z kodowaÅ„ pozwalajÄ…cych na zapis danych binarnych w postaci ograniczonego zbioru znakÃ³w drukowalnych,
co pozwala m.in. na osadzanie danych binarnych (np. obrazki) w plikach tekstowych (np. dokumenty html, pliki ÅºrÃ³dÅ‚owe programÃ³w).
%  END: Kodowania znakÃ³w

%  BEGIN: Zadanie - dekodowanie_utf8_w_base64
\begin{Zadanie}{}{dekodowanie_utf8_w_base64}
Napisz program dekodujÄ…cy napis kodowany w UTF8 zakodowany przy pomocy base64 majÄ…cy postaÄ‡:
\python{b'UHl0aG9uIGplc3QgZmFqbnkg8J+Yjg==\n'}.\\
WskazÃ³wka: dane wejÅ›ciowe funkcji \python{decode()} muszÄ… byÄ‡ typu "bytes", moÅ¼na to uzyskaÄ‡ poprzedzajÄ…c napis prefiksem \Verb{b}, tak jak powyÅ¼ej.
\end{Zadanie}
%  END: Zadanie - dekodowanie_utf8_w_base64

%  BEGIN: Konwersja znak - numer unicode
\subsubsection{Konwersja pomiÄ™dzy znakiem a jego numerem}

MoÅ¼liwe jest takÅ¼e konwertowanie pomiÄ™dzy liczbowym numerem znaku Unicode, a napisem go reprezentujÄ…cym i w drugÄ… stronÄ™ --- sÅ‚uÅ¼Ä… do tego odpowiednio funkcje \python{chr()} i \python{ord()}.
W ramach napisÃ³w moÅ¼na teÅ¼ uÅ¼yÄ‡ \python{\uNNNN}, gdzie \Verb{NNNN} jest (czterocyfrowym) numerem znaku lub po prostu umieÅ›ciÄ‡ dany znak w pliku kodowanym UTF8\footnote{UÅ¼yty w przykÅ‚adzie symbol nieskoÅ„czonoÅ›ci moÅ¼na uzyskaÄ‡ na standardowej polskiej klawiaturze pod Linuxem przy pomocy kombinacji AltGr + Shift + M}.

\begin{CodeFrame*}[python]{}
print(chr(0x221e) + " == \u221e == âˆ")
print(hex(ord("âˆ")), hex(ord("\u221e")), hex(ord(chr(0x221e))) )
\end{CodeFrame*}

\teacher{
Warto skomentowaÄ‡ Å¼e powyÅ¼szy przykÅ‚ad demonstruje rÃ³wnowaÅ¼noÅ›Ä‡ poszczegÃ³lnych zapisÃ³w (drukujÄ… taki sam znak na konsoli, generujÄ… taki sam numer unicodowy).
}
%  END: Konwersja znak - numer unicode

%  BEGIN: WyraÅ¼enia regularne 01
\subsection{WyraÅ¼enia regularne {\Symbola ğŸ¤”}}

W przetwarzaniu napisÃ³w bardzo czÄ™sto stosowane sÄ… wyraÅ¼enia regularne sÅ‚uÅ¼Ä…ce do dopasowywania napisÃ³w do wzorca ktÃ³ry opisujÄ…, wyszukiwaniu/zastÄ™powaniu tego wzorca. Do typowej, podstawowej skÅ‚adni wyraÅ¼eÅ„ regularnych zalicza siÄ™ m.in. nastÄ™pujÄ…ce operatory:

\vspace{-6pt}\begin{Verbatim}
.      - dowolny znak
[a-z]  - znak z zakresu
[^a-z] - znak z poza zakresu (aby mieÄ‡ zakres z ^ naleÅ¼y daÄ‡ go nie na poczÄ…tku)
^      - poczÄ…tek napisu/linii
$      - koniec napisu/linii
\end{Verbatim}
\vspace{-8pt}\begin{Verbatim}
*      - dowolna iloÅ›Ä‡ powtÃ³rzeÅ„
?      - 0 lub jedno powtÃ³rzenie
+      - jedno lub wiÄ™cej powtÃ³rzeÅ„
{n,m}  - od n do m powtÃ³rzeÅ„
\end{Verbatim}
\vspace{-8pt}\begin{Verbatim}
()     - pod-wyraÅ¼enie (moÅ¼e byÄ‡ uÅ¼ywane dla operatorÃ³w powtÃ³rzeÅ„,
         a takÅ¼e dla referencji wstecznych)
\end{Verbatim}

\pagebreak[2]\noindent
Python umoÅ¼liwia korzystanie z wyraÅ¼eÅ„ regularnych za pomocÄ… moduÅ‚u \python{re}:

\begin{CodeFrame}[python]{0.57\textwidth}
import re

y = "aa bb cc bb ff bb ee"
x = "aa bb cc dd ff gg ee"

if re.match(".*[dz]", y):
  print("y zawiera d lub z")

if re.match(".*[dz]", x):
  print("x zawiera d lub z")

if re.match(".* ([a-z]{2}) .* \\1", y):
  print("y zawiera dwa razy to samo")

if re.match(".* ([a-z]{2}) .* \\1", x):
  print("x zawiera dwa razy to samo")

# zastÄ™powanie
print (re.sub('[bc]+', "XX", y, 2))
print (re.sub('[bc]+', "XX", y))

# zachÅ‚annoÅ›Ä‡
print (re.sub('bb (.*) bb', "X \\1 X", y))
print (re.sub('.*bb (.*) bb.*', "\\1", y))
print (re.sub('.*?bb (.*) bb.*', "\\1", y))
\end{CodeFrame}
\begin{CodeFrame}{auto}
x zawiera d lub z
y zawiera dwa razy to samo
aa XX XX bb ff bb ee
aa XX XX XX ff XX ee
aa X cc bb ff X ee
ff
cc bb ff
\end{CodeFrame}

ZwrÃ³Ä‡ uwagÄ™ na:
\begin{itemize}
\item DziaÅ‚anie funkcji \Verb{match}, ktÃ³ra dopasowuje wyraÅ¼enie do poczÄ…tku napisu (czyli tak jakby zaczynaÅ‚o siÄ™ od \Verb{^}).
\item OdwoÅ‚ania wsteczne do pod-wyraÅ¼eÅ„ (fragmentÃ³w ujÄ™tych w nawiasy) postaci \Verb{\\x}, gdzie \Verb{x} jest numerem pod-wyraÅ¼enia.
\item ,,\emph{ZachÅ‚annoÅ›Ä‡}'' (ang. \emph{greedy}) wyraÅ¼eÅ„ regularnych:
	\begin{itemize}
	\item w pierwszym wypadku \Verb{bb (.*) bb} dopasowaÅ‚o najdÅ‚uÅ¼szy moÅ¼liwy fragment, czyli \Verb{cc bb ff},
	\item w drugim przypadku gdy zostaÅ‚o poprzedzone \Verb{.*} dopasowaÅ‚o tylko \Verb{ff}, gdyÅ¼ \Verb{.*} dopasowaÅ‚o najdÅ‚uÅ¼szy moÅ¼liwy fragment czyli \Verb{aa bb cc},
	\item w trzecim wypadku \Verb{bb (.*) bb} mogÅ‚o i dopasowaÅ‚o najdÅ‚uÅ¼szy moÅ¼liwy fragment, czyli \Verb{cc bb ff}, gdyÅ¼ byÅ‚o poprzedzone niezachÅ‚annÄ… odmianÄ… dopasowania dowolnego napisu, czyli: \Verb{.*?}.
	\end{itemize}
	Po kaÅ¼dym z operatorÃ³w powtÃ³rzeÅ„ (\Verb@. ? + {n,m}@) moÅ¼emy dodaÄ‡ pytajnik (\Verb@.? ?? +? {n,m}?@) aby wskazaÄ‡ Å¼e ma on dopasowywaÄ‡ najmniejszy moÅ¼liwy fragment, czyli ma dziaÅ‚aÄ‡ nie zachÅ‚annie.
\end{itemize}
%  END: WyraÅ¼enia regularne 01

%  BEGIN: WyraÅ¼enia regularne zadania
\begin{Zadanie}{}{regex_czy_slowo}
Napisz funkcjÄ™ ktÃ³ra sprawdzi z uÅ¼yciem wyraÅ¼eÅ„ regularnych czy dany napis jest sÅ‚owem (tzn. nie zawiera spacji).
\end{Zadanie}

\begin{Zadanie}{}{regex_czy_liczba}
Napisz funkcjÄ™ ktÃ³ra sprawdzi z uÅ¼yciem wyraÅ¼eÅ„ regularnych czy dany napis jest liczbÄ… (tzn. jest zÅ‚oÅ¼ony z cyfr i kropki, a na poczÄ…tku moÅ¼e wystÄ…piÄ‡ + albo -).
\end{Zadanie}
%  END: WyraÅ¼enia regularne zadania

%  BEGIN: Napisy - zadania 02
\subsection{Zadania dodatkowe}

\begin{Zadanie}{}{funkcja_skroty} % [2 pkt]
Napisz funkcjÄ™, ktÃ³ra dla danej listy sÅ‚Ã³w wypisze w kolejnych wierszach ich skrÃ³ty w postaci
\Verb{<pierwsza litera>-<ostatnia litera> (<dlugosc slowa>)}.\\
Np. dla listy \python{['Interdyscyplinarne', 'Centrum', 'Modelowania']} powinna wypisaÄ‡:
\begin{Verbatim}
I-e (18)
C-m (7)
M-a (11)
\end{Verbatim}
WskazÃ³wka: wynik funkcji \python{len()} mierzÄ…cej dÅ‚ugoÅ›Ä‡ napisu jest liczbÄ….
Do rozwiÄ…zania tego zadania moÅ¼e Ci siÄ™ przydaÄ‡ konwersja tej liczby na napis (aby daÅ‚o siÄ™ jÄ… skleiÄ‡ z innymi napisami), z uÅ¼yciem funkcji \python{str()}
\end{Zadanie}

\begin{Zadanie}{}{funkcja_malePodwojnie} % [3 pkt]
Napisz funkcjÄ™, ktÃ³ra dla danej listy sÅ‚Ã³w wypisze kaÅ¼de sÅ‚owo z listy powtarzajÄ…c 
kaÅ¼dÄ… maÅ‚Ä… literÄ™ dwukrotnie.
Np. dla \python{['Ala', 'ma', 'kota', 'i PSA']} funkcja powinna wypisaÄ‡:
\begin{Verbatim}
Allaa
mmaa
kkoottaa
ii PSA
\end{Verbatim}
\end{Zadanie}
%  END: Napisy - zadania 02

%  BEGIN: Zadania dodatkowe 02
\begin{Zadanie}{}{zadanie_trojkat4}
Zmodyfikuj rozwiÄ…zanie zadania \ref{zadanie_trojkat} tak aby korzystaÅ‚o tylko z jednej pÄ™tli.
\end{Zadanie}
%  END: Zadania dodatkowe 02

%  BEGIN: WyraÅ¼enia regularne - zadania dodatkowe
\begin{Zadanie}{}{regex_czy_konczy}
Napisz funkcjÄ™ ktÃ³ra sprawdzi z uÅ¼yciem wyraÅ¼eÅ„ regularnych czy dany napis koÅ„czy siÄ™ \Verb{xyz}.
\end{Zadanie}

\begin{Zadanie}{}{regex_czy_palindrom}
Jak wiemy jÄ™zyk zÅ‚oÅ¼ony ze sÅ‚Ã³w postaci \Verb{aa..aabb..bbaa..bb} (gdzie iloÅ›Ä‡ liter a przed ciÄ…giem liter b jest rÃ³wna iloÅ›ci liter a po tym ciÄ…gu) nie jest regularny.
Jednak programistyczne wyraÅ¼enia regularne sÄ… rozszerzone w stosunku co do tych spotykanych w matematyce i umoÅ¼liwiajÄ… opis takiego jÄ™zyka.
Napisz funkcjÄ™, korzystajÄ…cÄ… z dopasowywania wyraÅ¼eÅ„ regularnych, ktÃ³ra bÄ™dzie sprawdzaÅ‚a czy podane sÅ‚owo naleÅ¼y do tego jÄ™zyka.
\end{Zadanie}
%  END: WyraÅ¼enia regularne - zadania dodatkowe


%  BEGIN: Typy zmiennych
\student{\clearpage}
\section{Zmienne i ich typy}

\subsection{OkreÅ›lanie typu zmiennej}

Do tej pory poznaliÅ›my kilka typÃ³w zmiennych w Pythonie: liczby, napisy oraz listy.
PoznaliÅ›my takÅ¼e metody konwersji pomiÄ™dzy niektÃ³rymi z typÃ³w (np. instrukcje \python{str()}, \python{int()}).
JeÅ¼eli chcemy dowiedzieÄ‡ siÄ™ jakiego typu jest dana zmienna moÅ¼emy skorzystaÄ‡ z funkcji \python{type()}:

\begin{CodeFrame}[python]{0.50\textwidth}
a, b, c = 1, 3.14, "Python"
print(a, type(a))
print(b, type(b))
print(c, type(c))
c = (a == 1)
print(c, type(c))
\end{CodeFrame}
\begin{CodeFrame}{auto}
1 <class 'int'>
3.14 <class 'float'>
Python <class 'str'>
True <class 'bool'>
\end{CodeFrame}

ZauwaÅ¼ Å¼e inny typ zwiÄ…zany jest z liczbami caÅ‚kowitymi, inny z rzeczywistymi, a jeszcze inny z wartoÅ›ciami logicznymi (\python{True}/\python{False}). ZauwaÅ¼ takÅ¼e, Å¼e zmienna moÅ¼e zmieniÄ‡ swÃ³j typ.

\begin{teacherOnly}
\subsubsection{Typowanie w Pythonie a w innych jÄ™zykach {\Symbola ğŸ¤”}}
W grupach gdzie czÄ™Å›Ä‡ osÃ³b miaÅ‚a stycznoÅ›Ä‡ z C++, zwÅ‚aszcza bardziej wspÃ³Å‚czesnym ($\ge 11$) moÅ¼na porÃ³wnaÄ‡ typowanie w Pythonie do typowania w C++ z uÅ¼yciem sÅ‚owa kluczowego auto. Python:
\begin{itemize}
\item okreÅ›la zmiennej w momencie napotkania jej deklaracji na podstawie wartoÅ›ci do niej przypisywanej (tak samo jak C++ robi dla zmiennych auto)
\begin{CodeFrame*}[cpp]{}
#include <stdio.h>
int main() {
  auto a = 1;
  printf("%d", a);
}
\end{CodeFrame*}
\item nie pozwala odwoÅ‚aÄ‡ siÄ™ do zmiennej nie zadeklarowanej (np. PHP pozwala, generujÄ…c jedynie "Notice")
\begin{CodeFrame*}[php]{}
<?php
$a = $b +1;
echo $a, $b;
?>
\end{CodeFrame*}
\item pozwala na zmianÄ™ typu zmiennej w trakcie dziaÅ‚ania (C++ nie pozwala nawet z typem auto)
\begin{CodeFrame*}[python]{}
a = "abc"
print(a, type(a))
a = 1
print(a, type(a))
\end{CodeFrame*}
\end{itemize}

\subsubsection{WielkoÅ›Ä‡ zmiennej typu int {\Symbola ğŸ¤”}}

(jest to bardziej ciekawostka, o ktÃ³rej moÅ¼na wspomnieÄ‡ gdy czas pozwala lub gdy padnie takie pytanie)\\ \\
Python nie posiada wbudowanego ograniczania wielkoÅ›ci liczb caÅ‚kowitych, jednak wielkoÅ›Ä‡ wartoÅ›ci przechowywanej w tym typie moÅ¼e mieÄ‡ wpÅ‚yw na rozmiar zmiennej.

\begin{CodeFrame}[python]{0.45\textwidth}
x = 1
print(x, type(x), x.__sizeof__())
x = 12**10
print(x, type(x), x.__sizeof__())
x = 12**20
print(x, type(x), x.__sizeof__())
x = 13
print(x, type(x), x.__sizeof__())
\end{CodeFrame}
\begin{CodeFrame}{auto}
1 <class 'int'> 28
61917364224 <class 'int'> 32
3833759992447475122176 <class 'int'> 36
13 <class 'int'> 28
\end{CodeFrame}
\end{teacherOnly}
%  END: Typy zmiennych

%  BEGIN: Listy 01
\subsection{Listy}

Do tej pory listy traktowaliÅ›my gÅ‚Ã³wnie jako zbiÃ³r elementÃ³w po ktÃ³rym iterujemy. Zastosowanie list jest jednak znacznie szersze.
Lista stanowi pewnego rodzaju kontener do przechowywania innych zmiennych, w ktÃ³rym elementy zorganizowane sÄ… na zasadzie okreÅ›lenia ich (wzglÄ™dnej) kolejnoÅ›ci.
Lista moÅ¼e zawieraÄ‡ elementy rÃ³Å¼nych typÃ³w.

Na listach moÅ¼emy wykonywaÄ‡ m.in. operacje modyfikowania, czy teÅ¼ usuwania jej elementÃ³w:

\begin{CodeFrame}[python]{0.50\textwidth}
l = ["i", "C", 0, "M"]
l[0] = "I"
del l[2]
print(l)
\end{CodeFrame}
\begin{CodeFrame}{auto}
['I', 'C', 'M']
\end{CodeFrame}

\noindent W powyÅ¼szym przykÅ‚adzie widzimy:
\begin{itemize}
\item ModyfikacjÄ™ pierwszego elementu listy (\python{l[0] = "I"}), z uÅ¼yciem odwoÅ‚ania poprzez numer elementu.
      Elementy list numerujemy od zera. Ujemne wartoÅ›ci oznaczajÄ… numerowanie od koÅ„ca listy, czyli -1 jest ostatnim elementem listy, -2 przedostatnim, itd.
\item UsuniÄ™cie trzeciego elementu listy (\python{del l[2]}). Powoduje to zmianÄ™ numeracji kolejnych elementÃ³w.
\end{itemize}
%  END: Listy 01

%  BEGIN: Listy 02
Jednak jeÅ¼eli chcemy modyfikowaÄ‡ elementy listy iterujÄ…c po niej, to konieczne jest iterowanie po indeksach (a nie jak dotychczas po wartoÅ›ciach):

\begin{CodeFrame}[python]{0.50\textwidth}
for i in range(len(l)):
    print(l[i])
    l[i] = "q"
print(l)
\end{CodeFrame}
\begin{CodeFrame}{auto}
I
C
M
['q', 'q', 'q']
\end{CodeFrame}

Dzieje siÄ™ tak gdyÅ¼ przypisanie do zmiennej \Verb{x} jakiejÅ› wartoÅ›ci w ramach konstrukcji \python{for x in lista:}
modyfikuje tylko zmiennÄ… \Verb{x}, a nie element listy ktÃ³ry zostaÅ‚ do niej pobrany.
%  END: Listy 02

%  BEGIN: Listy 03
\subsubsection{WybÃ³r podlisty}

MoÅ¼emy takÅ¼e tworzyÄ‡ ,,podlisty'' przy pomocy operatora zakresÃ³w w identyczny sposÃ³b jak to zostaÅ‚o opisane przy napisach,
np. \python{ll[1::2]} zwrÃ³ci listÄ™ zÅ‚oÅ¼onÄ… z co drugiego elementu listy \Verb{ll} zaczynajÄ…c od elementu o indeksie 1.
%  END: Listy 03

%  BEGIN: Lista jako modyfikowalny napis
\subsubsection{Lista jako modyfikowalny napis}

Listy mogÄ… teÅ¼ sÅ‚uÅ¼yÄ‡ jako narzÄ™dzie do modyfikowania napisÃ³w.
W tym celu moÅ¼na skorzystaÄ‡ np. z listy zÅ‚oÅ¼onej z liter oryginalnego napisu:

\begin{CodeFrame}[python]{0.50\textwidth}
s = "abcdefgh"
l = list(s)
l[2] = "X"
del(l[5])
s = "".join(l)
print(s)
\end{CodeFrame}
\begin{CodeFrame}{auto}
abXdegh
\end{CodeFrame}
%  END: Lista jako modyfikowalny napis

%  BEGIN: ObiektowoÅ›Ä‡
\subsection{ObiektowoÅ›Ä‡}

Jak mogliÅ›my zauwaÅ¼yÄ‡ przy sprawdzaniu typÃ³w zmiennych sÄ… one klasami. ZwiÄ…zane z tym jest m.in. to iÅ¼ posiadajÄ… one metody sÅ‚uÅ¼Ä…ce do operowania na nich.
Opis danego typu wraz z dostÄ™pnymi metodami moÅ¼na obejrzeÄ‡ przy pomocy polecenia \python{help()}, np. \python{help("list")}.
\teacher{
Chcemy nauczyÄ‡ korzystania z dokumentacji, wiÄ™c w poniÅ¼szych zadaniach z niÄ… zwiÄ…zanych starajmy siÄ™ aby uczniowie sami odnajdywali w niej odpowiedzi.
}

W przypadku list za pomocÄ… metod tej klasy mamy moÅ¼liwoÅ›Ä‡ wstawiania wartoÅ›ci na danÄ… pozycjÄ™, sortowania i odwracania kolejnoÅ›ci elementÃ³w:

\begin{CodeFrame}[python]{0.50\textwidth}
l = ["i", "m"]
l.insert(1, "c")
print(l)
l.reverse()
print(l)
l.sort()
print(l)
\end{CodeFrame}
\begin{CodeFrame}{auto}
['i', 'c', 'm']
['m', 'c', 'i']
['c', 'i', 'm']
\end{CodeFrame}

ZwrÃ³Ä‡ uwagÄ™ Å¼e sortowanie i odwracanie modyfikuje istniejÄ…cÄ… listÄ™ a nie tworzy kopii.
%  END: ObiektowoÅ›Ä‡

%  BEGIN: Zadanie - obiektowo_string
\begin{Zadanie}{}{obiektowo_string}
Zapoznaj siÄ™ z dokumentacjÄ… klasy odpowiedzialnej za napisy (\Verb{str}),
zwrÃ³Ä‡ szczegÃ³lnÄ… uwagÄ™ na metody \Verb{split}, \Verb{find}, \Verb{replace}.
KorzystajÄ…c z metod klasy \Verb{str} napisz funkcjÄ™ \Verb{parse} ktÃ³ra dla napisu bÄ™dÄ…cego jej argumentem
	wykona zamianÄ™ wszystkich ciÄ…gÃ³w "XY" na spacjÄ™ oraz
	dokona rozbicia napisu zÅ‚oÅ¼onego z pÃ³l rozdzielanych dwukropkiem na listÄ™ napisÃ³w odpowiadajÄ…cych poszczegÃ³lnym polom.
Funkcja powinna dziaÅ‚aÄ‡ w nastÄ™pujÄ…cy sposÃ³b:
\begin{Verbatim}
 > l = parse("Ala:maXYkota:i inne:zwierzeta")
 > print(l)
['Ala', 'ma kota', 'i inne', 'zwierzeta']
\end{Verbatim}
\end{Zadanie}
%  END: Zadanie - obiektowo_string

%  BEGIN: Zadanie - obiektowo_sortuj
\begin{Zadanie}{}{obiektowo_sortuj}
KorzystajÄ…c z metod klasy \Verb{list} i/lub funkcji \python{sorted()} napisz funkcjÄ™ ktÃ³ra sortuje podanÄ… listÄ™ w kolejnoÅ›ci malejÄ…cej.
\end{Zadanie}

\begin{Zadanie}{}{obiektowo_sortuj2}
Napisz funkcjÄ™ \python{sortuj(lista)} ktÃ³ra zwrÃ³ci posortowanÄ… listÄ™. Funkcja nie moÅ¼e zmodyfikowaÄ‡ oryginalnej listy.
\end{Zadanie}
%  END: Zadanie - obiektowo_sortuj

%  BEGIN: SÅ‚owniki
\subsection{SÅ‚owniki}

Kolejnym uÅ¼ytecznym typem zmiennych w Pythonie sÄ… sÅ‚owniki (zwane niekiedy \emph{mapami} lub \emph{tablicami asocjacyjnymi}). Podobnie jak listy sÅ‚uÅ¼Ä… do do przechowywania innych zmiennych.
W odrÃ³Å¼nieniu jednak od list w sÅ‚ownikach przechowywane sÄ… pary klucz - wartoÅ›Ä‡, gdzie unikalny klucz sÅ‚uÅ¼y do identyfikowania wartoÅ›ci.
\teacher{
ZwrÃ³ciÄ‡ uwagÄ™ na analogiÄ™ z normalnymi sÅ‚ownikami klucz - sÅ‚owo ktÃ³re wyszukujemy, wartoÅ›Ä‡ - jego opis
}

\begin{CodeFrame}[python]{0.60\textwidth}
slownik = { "bd" : "xx", 5: True, "a" : 11 }
for klucz in slownik:
    print (klucz, "=>", slownik[klucz])
\end{CodeFrame}
\begin{CodeFrame}{auto}
a => 11
bd => xx
5 => True
\end{CodeFrame}

ZauwaÅ¼ Å¼e zarÃ³wno klucz, jak i wartoÅ›Ä‡ mogÄ… byÄ‡ dowolnego typu oraz Å¼e sÅ‚ownik nie zachowuje kolejnoÅ›ci dodawania elementÃ³w.

MoÅ¼liwe jest takÅ¼e sprawdzanie istnienia jakiegoÅ› elementu w sÅ‚owniku, usuwanie, dodawanie i zmienianie elementÃ³w sÅ‚owniku, itd
(zwrÃ³Ä‡ takÅ¼e uwagÄ™ na innÄ… metodÄ™ wypisywania sÅ‚ownika - poprzednio iterowaliÅ›my po kluczach, teraz po liÅ›cie par klucz-wartoÅ›Ä‡):

\begin{CodeFrame}[python]{0.60\textwidth}
if "bd" in slownik:
    print ("jest element o kluczu 'bd'")
    del slownik['bd']
slownik[15] = True
slownik["a"] = "yy"
for k,v in m.items():
    print (k, "=>", v)
\end{CodeFrame}
\begin{CodeFrame}{auto}
jest element o kluczu 'bd'
a => yy
15 => True
\end{CodeFrame}
%  END: SÅ‚owniki

%  BEGIN: Zadania - licz_powtorzenia
\begin{Zadanie}{}{licz_powtorzenia}
Napisz funkcjÄ™ \Verb{zlicz} ktÃ³ra dla podanej listy policzy powtÃ³rzenia jej elementÃ³w. PrzykÅ‚ad uÅ¼ycia:
\begin{Verbatim}
 > zlicz(["AX", "B", "AX"])
AX wystepuje 2 razy
B wystepuje 1 razy
\end{Verbatim}
WskazÃ³wka: UÅ¼yj sÅ‚ownika, w ktÃ³rym element bÄ™dzie stanowiÅ‚ klucz, a krotnoÅ›Ä‡ jego wystÄ…pieÅ„ wartoÅ›Ä‡.
MoÅ¼esz uÅ¼yÄ‡ metody \python{get()} do pobierania wartoÅ›ci z sÅ‚ownika, jeÅ¼eli w nim jest lub wartoÅ›ci domyÅ›lnej w przeciwnym wypadku - szczegÃ³Å‚y zobacz w dokumentacji
\end{Zadanie}
%  END: Zadania - licz_powtorzenia

%  BEGIN: Zadania - parsuj_klucz_wartosc
\begin{Zadanie}{}{parsuj_klucz_wartosc}
Napisz funkcjÄ™ ktÃ³ra konwertuje listÄ™ napisÃ³w postaci \python{klucz=wartosc} na sÅ‚ownik.
Funkcja musi dokonywaÄ‡ podziaÅ‚u napisÃ³w z listy w oparciu o pierwsze wystÄ…pienie znaku rÃ³wnoÅ›ci przy pomocy metody \python{find()} typu przechowujÄ…cego napisy (\Verb{str}).
Funkcja musi dodawaÄ‡ kolejne napisy do sÅ‚ownika w taki sposÃ³b Å¼e czÄ™Å›Ä‡ przed znakiem rÃ³wnoÅ›ci stanowi klucz, a czÄ™Å›Ä‡ po znaku rÃ³wnoÅ›ci stanowi wartoÅ›Ä‡.\\
Np. dla listy postaci: \python{["aa=13", "b=Ala=kot", "f=xyz"]} funkcja powinna zwrÃ³ciÄ‡ sÅ‚ownik:
\begin{Verbatim}
{'b': 'Ala=kot', 'aa': '13', 'f': 'xyz'}
\end{Verbatim}
\end{Zadanie}
%  END: Zadania - parsuj_klucz_wartosc

%  BEGIN: Sortowanie sÅ‚ownika
\subsubsection{Sortowanie sÅ‚ownika}

Jak juÅ¼ wspomnieliÅ›my sÅ‚ownik nie zachowuje porzÄ…dku elementÃ³w. JeÅ¼eli chcemy uzyskaÄ‡ posortowanÄ… listÄ™ kluczy,
wartoÅ›ci lub par klucz-wartoÅ›Ä‡ z sÅ‚ownika moÅ¼emy skorzystaÄ‡ z funkcji \python{sorted()}.
W przypadku par wywoÅ‚anie bÄ™dzie wyglÄ…daÄ‡ nastÄ™pujÄ…co:

\begin{CodeFrame}[python]{0.50\textwidth}
mapa = {'5': 3, 'bd': 20, 'a': 101}
lista = sorted( mapa.items() )
print(lista)
\end{CodeFrame}
\begin{CodeFrame}{auto}
[('5', 3), ('a', 101), ('bd', 20)]
\end{CodeFrame}

ZwrÃ³Ä‡ uwagÄ™, iÅ¼ uÅ¼yliÅ›my tej samej metody \python{items()}, z ktÃ³rej korzystaliÅ›my do iterowania po parach klucz-wartoÅ›Ä‡
(dla listy samych kluczy lub wartoÅ›ci naleÅ¼y uÅ¼yÄ‡ w tym miejscu innej metody klasy \Verb{dict}).
Zapewne zauwaÅ¼yÅ‚eÅ› Å¼e sortowanie zostaÅ‚o przeprowadzone w oparciu o klucze, co jednak jeÅ¼eli chcielibyÅ›my posortowaÄ‡ takÄ… listÄ™ w oparciu o wartoÅ›ci?
W takim przypadku moÅ¼emy skorzystaÄ‡ z opcjonalnego argumentu funkcji \python{sorted()} o nazwie \Verb{key},
ktÃ³ry przyjmuje funkcjÄ™ majÄ…cÄ… za zadanie na podstawie otrzymanego elementu listy (w tym wypadku pary klucz - wartoÅ›Ä‡) zwrÃ³ciÄ‡ klucz sortowania:

\begin{CodeFrame}[python]{0.50\textwidth}
mapa = {'5': 3, 'bd': 20, 'a': 101}
def k(x):
    return x[1]
lista = sorted( mapa.items(), key=k )
print(lista)
\end{CodeFrame}
\begin{CodeFrame}{auto}
[('5', 3), ('bd', 20), ('a', 101)]
\end{CodeFrame}
%  END: Sortowanie sÅ‚ownika

%  BEGIN: Funkcje jako argumenty
\subsection{Funkcje jako argumenty funkcji {\Symbola ğŸ¤”}}

W powyÅ¼szym przykÅ‚adzie jednym za argumentÃ³w funkcji \python{sorted()} jest inna funkcja.
ZauwaÅ¼, Å¼e funkcja moÅ¼e byÄ‡ takim samym argumentem innej funkcji jak dowolna inna zmienna,
moÅ¼e byÄ‡ teÅ¼ wynikiem zwracanym przez funkcjÄ™ oraz moÅ¼e byÄ‡ przechowywana w zmiennej.

\begin{CodeFrame}[python]{0.50\textwidth}
def dzialanie(operacja):
    if operacja == "dodaj":
        def f(a, b):
            return a+b
        return f
    elif operacja == "mnÃ³Å¼":
        def f(a, b):
            return a*b
        return f
def dwa(funkcja, argument):
    return funkcja(2, argument)

d = dzialanie("dodaj")
a = dwa(d, 11)
b = dzialanie("mnÃ³Å¼")(3,4)
print(a, b, d(3,4))
\end{CodeFrame}
\begin{minipage}[t]{0.46\textwidth}
\begin{Verbatim}[frame=single]
13 12 7
\end{Verbatim}

\vspace{6pt}\noindent ZauwaÅ¼ Å¼e:
\begin{itemize}[leftmargin=7mm]
\item wynikiem funkcji \python{dzialanie()} jest funkcja wykonujÄ…ca wskazane dziaÅ‚anie,
\item funkcja \python{dwa()} jako argumenty przyjmuje funkcjÄ™ realizujÄ…cÄ… dziaÅ‚anie dwuargumentowe i jeden argument przekazywany do niej,
\item zmienna d wskazuje na funkcjÄ™ zwrÃ³conÄ… przez funkcjÄ™ \python{dzialanie()} i moÅ¼e byÄ‡ uÅ¼ywana jako funkcja.
\end{itemize}
\end{minipage}

\begin{Zadanie}{}{slownik_zamiast_ifelse}
ZastanÃ³w siÄ™ czy konstrukcjÄ™ if/elif w funkcji \python{dzialanie()} moÅ¼na by zastÄ…piÄ‡ sÅ‚ownikiem, jak to ewentualnie zrobiÄ‡ i jakie mogÅ‚oby mieÄ‡ to zalety bÄ…dÅº wady?
\end{Zadanie}
%  END: Funkcje jako argumenty

%  BEGIN: Zadania - funkcja_jako_argument
\begin{Zadanie}{}{funkcja_jako_argument}
Napisz funkcjÄ™ ktÃ³ra przyjmuje dwa argumenty: listÄ™ oraz funkcjÄ™. Funkcja ma za zadanie wykonaÄ‡ przekazanÄ… do niej funkcjÄ™ na kaÅ¼dym elemencie listy. PrzykÅ‚ad uÅ¼ycia:
\begin{Verbatim}
>>> wykonaj([1,2,3], print)
1
2
3
\end{Verbatim}
\end{Zadanie}
%  END: Zadania - funkcja_jako_argument

%  BEGIN: Zmienna, obiekt i referencja
\subsection{Zmienna, obiekt i referencja {\Symbola ğŸ¤”}}

W Pythonie kaÅ¼da zmienna jest nazwÄ… wskazujÄ…cÄ… na jakiÅ› obiekt w pamiÄ™ci. Podobnie kaÅ¼dy element listy czy sÅ‚ownika wskazuje na jakiÅ› obiekt\footnote{
Zasadniczo wszystkie definiowane przez nas zmienne czy funkcje sÄ… elementem sÅ‚ownika zwiÄ…zanego z danym kontekstem.
Do sÅ‚ownikÃ³w tych moÅ¼na uzyskaÄ‡ dostÄ™p poprzez funkcje \python{globals()} (sÅ‚ownik zawierajÄ…cy elementy zdeklarowane w kontekÅ›cie globalnym) i
\python{locals()} (sÅ‚ownik zawierajÄ…cy elementy zadeklarowane w kontekÅ›cie lokalnym).
}.
Na jeden obiekt moÅ¼e wskazywaÄ‡ wiele zmiennych i/lub elementÃ³w innych obiektÃ³w (takich jak listy czy sÅ‚owniki).
JeÅ¼eli zmienna nie ma na co wskazywaÄ‡ (np. zostaÅ‚ do niej przypisany wynik funkcji, ktÃ³ra nie zwraca wartoÅ›ci) wskazuje na obiekt \python{None} (typu \python{NoneType}).
Zatem na wszystkie zmienne pythonowe moÅ¼emy patrzeÄ‡ jak na referencje do obiektÃ³w istniejÄ…cych gdzieÅ› w pamiÄ™ci.

Do uzyskania identyfikatora obiektu zwiÄ…zanego z danÄ… nazwÄ…, lub elementem innego obiektu sÅ‚uÅ¼y funkcja \python{id} (w przypadku standardowej implementacji Pythona jest to po prostu adres w pamiÄ™ci).

\begin{teacherOnly}
Warto trochÄ™ rozwinÄ…Ä‡ ten temat, np. bazgrzÄ…c po tablicy zmienne wskazujÄ…ce na obiekty i zmieniajÄ…c/zrywajÄ…c poÅ‚Ä…czania miÄ™dzy zmiennÄ… a obiektem.

Warto takÅ¼e pokazaÄ‡ dziaÅ‚anie wspomnianych funkcji \python{globals()} i \python{locals()} (zwrÃ³Ä‡ uwagÄ™ na rÃ³Å¼nicÄ™ miÄ™dzy a i b oraz c i d):
\begin{CodeFrame*}[python]{}
a, b = 0, 0

def f1():
    def f2(x):
       a = 2
       print("f2", a, c)
       print(" locals  = ", locals())
       print(" globals = ", globals())
    
    a = 1
    c, d = 3, 4
    print("f1", a)
    print(" locals  = ", locals())
    print(" globals = ", globals())
    f2(7)

f1()
\end{CodeFrame*}
\end{teacherOnly}

\subsubsection{Usuwanie i czas Å¼ycia zmiennych {\Symbola ğŸ¤”}}

Instrukcja \python{del}, ktÃ³rej uÅ¼ywaliÅ›my juÅ¼ do usuwania elementÃ³w z listy lub sÅ‚ownika moÅ¼e byÄ‡ wykorzystana takÅ¼e do usuwania innych zmiennych.
NaleÅ¼y jednak pamiÄ™taÄ‡ iÅ¼ w Pythonie usuniÄ™cie zmiennej nie wiÄ…Å¼e siÄ™ z natychmiastowym zwolnieniem zajmowanej przez niÄ… pamiÄ™ci z kilku powodÃ³w:
\begin{itemize}
\item na pojedynczy obiekt moÅ¼e wskazywaÄ‡ kilka zmiennych
\item to Python decyduje o tym kiedy zwalniaÄ‡ / ponownie uÅ¼yÄ‡ pamiÄ™Ä‡ pozostaÅ‚Ä… po obiektach na ktÃ³re nie wskazuje juÅ¼ Å¼adna nazwa
\end{itemize}

\subsubsection{Kopiowanie obiektÃ³w {\Symbola ğŸ¤”}}

Python w momencie przypisania wartoÅ›ci jednej zmiennej do innej nie tworzy kopii obiektu na ktÃ³ry wskazuje zmienna, zamiast tego przypisuje referencjÄ™ do istniejÄ…cego obiektu.
Jest to szczegÃ³lnie zauwaÅ¼alne w obiektach, ktÃ³re mogÄ… byÄ‡ wewnÄ™trznie modyfikowalne (takich jak listy czy sÅ‚owniki)\footnote{
ZauwaÅ¼ Å¼e jedynÄ… moÅ¼liwoÅ›ciÄ… modyfikacji liczby czy napisu jest przypisanie wartoÅ›ci wyraÅ¼enia do zmiennej,
a dla list czy sÅ‚ownikÃ³w moÅ¼emy je modyfikowaÄ‡ bez operacji przypisania caÅ‚ej listy czy sÅ‚ownika do nowej czy tej samej zmiennej.
\teacher{
	Jest to podziaÅ‚ na typy "immutable" i "mutable" - te pierwsze nie sÄ… wewnÄ™trznie modyfikowalne
	(kaÅ¼da modyfikacja odbywa siÄ™ przez przypisanie, w wyniku ktÃ³rego pod zmiennÄ… moÅ¼e zostaÄ‡ podpiÄ™ty nowy obiekt).
}}:

\begin{CodeFrame}[python]{0.55\textwidth}
a = [1, 2, 3]
b = a
print(a, b, "\n", hex(id(a)), hex(id(b)))
a[1] = 0
print(a, b, "\n", hex(id(a)), hex(id(b)))
del a
print(b,    "\n", hex(id(b)))
\end{CodeFrame}
\begin{CodeFrame}{auto}
[1, 2, 3] [1, 2, 3]
 0x7f50d76b2bc8 0x7f50d76b2bc8
[1, 0, 3] [1, 0, 3]
 0x7f50d76b2bc8 0x7f50d76b2bc8
[1, 0, 3]
 0x7f50d76b2bc8
\end{CodeFrame}

Jak widaÄ‡ \Verb{a} i \Verb{b} posiadajÄ… taki sam identyfikator obiektu zwracany przez funkcjÄ™ \python{id},
modyfikacja \python{a[1]} wpÅ‚ynÄ™Å‚a na zawartoÅ›Ä‡ \Verb{b}, natomiast usuniÄ™cie \Verb{a} nie ma wpÅ‚ywu na \Verb{b}
(usunÄ™liÅ›my tylko jednÄ… z dwÃ³ch referencji na wspÃ³lny obiekt).
JeÅ¼eli chcemy uzyskaÄ‡ kopiÄ™ listy lub sÅ‚ownika musimy skorzystaÄ‡ z metody \python{copy()} odpowiedniego obiektu:

\begin{CodeFrame}[python]{0.55\textwidth}
a = [1, 2, 3]
b = a.copy()
b[1] = "X"
print(a, b, "\n", hex(id(a)), hex(id(b)))
\end{CodeFrame}
\begin{CodeFrame}{auto}
[1, 2, 3] [1, 'X', 3]
 0x7f50d76b2bc8 0x7f50d57a7088
\end{CodeFrame}

ZauwaÅ¼ Å¼e tak utworzone \Verb{b} ma inny identyfikator obiektu niÅ¼ \Verb{a}.
NaleÅ¼y mieÄ‡ takÅ¼e na uwadze Å¼e nawet argumenty funkcji przekazywane sÄ… jako referencje na obiekty a nie kopie obiektÃ³w,
natomiast dopiero operacja przypisania nowej wartoÅ›ci do zmiennej zwiÄ…zanej z argumentem powoduje Å¼e zaczyna ona wskazywaÄ‡
na nowo utworzony (w wyniku wyraÅ¼enia po prawej stronie znaku rÃ³wnoÅ›ci) obiekt.

\begin{teacherOnly}
MoÅ¼na takÅ¼e zwrÃ³ciÄ‡ uwagÄ™ na poniÅ¼szy kod pokazujÄ…cy rÃ³Å¼nicÄ™ w obsÅ‚udze referencji do obiektÃ³w i samych obiektÃ³w "immutable" i "mutable":
\begin{CodeFrame*}[python]{}
a, b = 5, 5
print(id(a), id(b))
b = 3
print(id(a), id(b))

a, b = [1, 2, 3], [1, 2, 3]
print(id(a), id(b))
b[2] = 5
print(id(a), id(b))
b = [1, 2, 3]
print(id(a), id(b))
\end{CodeFrame*}
\end{teacherOnly}

\subsubsection{Dla jeszcze bardziej dociekliwych {\Symbola ğŸ¤”}}

Osobom jeszcze bardziej dociekliwym w temacie wnÄ™trznoÅ›ci Pythona moÅ¼emy poleciÄ‡ lekturÄ™ artykuÅ‚u omawiajÄ…cego te zagadnienia \url{http://www.rwdev.eu/articles/objectthinking} oraz samodzielne eksperymenty.
%  END: Zmienna, obiekt i referencja

%  BEGIN: Klasy i struktury
\subsection{Klasy i struktury {\Symbola ğŸ¤”}}

InnÄ… metodÄ… grupowania zmiennych i funkcji jest definiowanie wÅ‚asnych klas:
\begin{CodeFrame*}[python]{}
class NazwaKlasy:
  # pola skÅ‚adowe
  a, d = 0, "ala ma kota"
  # metody skÅ‚adowe
  def wypisz(self):
    print(self.a + self.b)
  # metody statyczna
  def info():
    print("INFO")
  # konstruktor (z jednym argumentem)
  def __init__(self, x = 1):
    # i kolejny sposÃ³b na utworzenie pola skÅ‚adowego klasy
    self.b = 13 * x
\end{CodeFrame*}
Warto zauwaÅ¼yÄ‡ jawny argument metod skÅ‚adowych klasy w postaci obiektu tej klasy. \teacher{(w C++ takÅ¼e wystÄ™puje ale nie jest jawnie deklarowany, ani nie trzeba siÄ™ nim jawnie posÅ‚ugiwaÄ‡)}
MoÅ¼liwe jest takÅ¼e dziedziczenie po jednej lub kilku klasach bazowych, w tym celu definicje klasy rozpoczynamy:
\begin{CodeFrame*}[python]{}
class NazwaKlasy(Bazowa1, Bazowa2):
\end{CodeFrame*}

Tworzenie obiektu klasy i uÅ¼ywanie go:

\begin{CodeFrame}[python]{0.55\textwidth}
k = NazwaKlasy()
k.a = 67
k.wypisz()
\end{CodeFrame}
\begin{CodeFrame}{auto}
80
\end{CodeFrame}

Obiekty moÅ¼na rozszerzaÄ‡ o nowe skÅ‚adowe i funkcje:

\begin{CodeFrame}[python]{0.55\textwidth}
k.c = k.a + 10
print(k.c)
\end{CodeFrame}
\begin{CodeFrame}{auto}
77
\end{CodeFrame}

W ten sposÃ³b moÅ¼na teÅ¼ tworzyÄ‡ caÅ‚e struktury:\\
\begin{CodeFrame}[python]{0.55\textwidth}
class Pusta():
  pass
x = Pusta()
x.a = 3
x.b = 4
\end{CodeFrame}
\begin{minipage}[t]{0.4\textwidth}
\vspace{6pt}Od strony implementacyjnej sÄ… one trzymane w sÅ‚owniku zwiÄ…zanym z danym obiektem o nazwie \python{__dict__}.\\
SprÃ³buj wypisaÄ‡ zawartoÅ›Ä‡ \python{x.__dict__} oraz \python{k.__dict__}.
\end{minipage}

Do metod klasy moÅ¼emy odwoÅ‚ywaÄ‡ siÄ™ takÅ¼e z podaniem nazwy klasy a nie obiektu, w takim wypadku jeÅ¼eli nie sÄ… to metody statyczne naleÅ¼y przekazaÄ‡ jako argument obiekt danej klasy
lub go udajÄ…cy\footnote{
Wystarczy Å¼eby taki obiekt miaÅ‚ metody i skÅ‚adowe uÅ¼ywane przez dana metodÄ™, nie musi to byÄ‡ obiekt tej klasy.
}:

\begin{CodeFrame}[python]{0.55\textwidth}
NazwaKlasy.info()
NazwaKlasy.wypisz(k)
NazwaKlasy.wypisz(x)
\end{CodeFrame}
\begin{CodeFrame}{auto}
INFO
80
7
\end{CodeFrame}
%  END: Klasy i struktury

\vspace{-13pt}

%  BEGIN: Iteratory i generatory
\subsection{Iteratory i generatory {\Symbola ğŸ¤”}}

Iterator jest obiektem pozwalajÄ…cym na dostÄ™p do kolejnych elementÃ³w jakiejÅ› kolekcji (np. listy).
SÄ… one przydatne np. gdy chcemy uzyskiwaÄ‡ kolejne elementy kolekcji nie iterujÄ…c po niej w ramach pÄ™tli \python{for}.
Jego uÅ¼ycie wyglÄ…da nastÄ™pujÄ…co:

\begin{CodeFrame*}[python]{}
l = [6, 7, 8, 9]
i = iter(l)  # zmienna i jest tutaj iteratorem
print( next(i) )
print( next(i) )
\end{CodeFrame*}

Niekiedy zamiast tworzenia listy lepsze moÅ¼e byÄ‡ uzyskiwanie jej kolejnych elementÃ³w "na Å¼ywo".
FunkcjonalnoÅ›Ä‡ takÄ… w pythonie zapewniajÄ… generatory.
SÄ… to funkcje ktÃ³re zwracajÄ… kolejne elementy danej kolekcji uÅ¼ywajÄ…c sÅ‚owa kluczowego \python{yield}, zamiast \python{return}.
PamiÄ™tajÄ… one teÅ¼ swÃ³j stan wewnÄ™trzny pomiÄ™dzy wywoÅ‚aniami w ramach poszczegÃ³lnych iteracji.

Generatory moÅ¼emy uÅ¼ywaÄ‡ np. do iterowania po nich w pÄ™tli \python{for},
moÅ¼emy tez uÅ¼ywaÄ‡ iteratorÃ³w do pobierania kolejnych wartoÅ›ci z generatora:

\begin{CodeFrame*}[python]{}
def f(l):
    a, b = 0, 1
    for i in range(l):
        r, a, b = a, b, a + b
        yield r

ii = iter( f(8) )
for i in f(16):
    print("i =", i)
    if i > 6:
        print("ii =", next(ii))
\end{CodeFrame*}

MoÅ¼na takÅ¼e tworzyÄ‡ generatory nieskoÅ„czone:

\begin{CodeFrame*}[python]{}
def ff():
    a, b = 0, 1
    while True:
        r, a, b = a, b, a + b
        yield r
\end{CodeFrame*}
%  END: Iteratory i generatory

%  BEGIN: Pliki
\subsection{Pliki}
Do tej pory wszystkie dane, z ktÃ³rych korzystaÅ‚y nasze programy, wprowadzaliÅ›my bezpoÅ›rednio do kodu programu.
W realnych zastosowaniach bardzo czÄ™sto uÅ¼yteczniejsze jest korzystanie z danych zapisanych w osobnych plikach.

\subsubsection{Zapisywanie tekstu do pliku}

Zapis do pliku tekstowego moÅ¼emy zrealizowaÄ‡ w sposÃ³b nastÄ™pujÄ…cy:
\begin{CodeFrame*}[python]{}
plik = open('dane.txt', 'wt', encoding='utf8')
plik.write("teskt1\n")
plik.write("teskt2\nteskt3")
plik.close()
\end{CodeFrame*}

\noindent Jak to dziaÅ‚a?
\begin{itemize}
\item Polecenie z pierwszej linijki otwiera plik \Verb{dane.txt} i zapewnia dostÄ™p do niego poprzez zmiennÄ… \Verb{plik}.
      Opcja \python{'w'} oznacza, Å¼e plik jest otwarty ,,do zapisu'' (od angielskiego \textit{write}).
      Opcja \python{'t'} oznacza, Å¼e plik traktowany jako plik tekstowy\footnote{
        Tekst moÅ¼emy zapisywaÄ‡ takÅ¼e do plikÃ³w otwieranych jako binarne,
        w takim wypadku argument funkcji write musi mieÄ‡ typ \Verb{bytes} a nie \Verb{str}, czyli byÄ‡ juÅ¼ jawnie zakodowanym w jakimÅ› standardzie.
      }.
      Argument \Verb{encoding} pozwala na okreÅ›lenie kodowania uÅ¼ytego do zapisu pliku tekstowego,
        jest on opcjonalny i gdy nie zostanie podany kodowanie pliku zaleÅ¼ne jest od ustawieÅ„ systemowych.
\item Druga i trzecia komenda zapisuje podany jako argument tekst do pliku \Verb{dane.txt}
      (zwrÃ³Ä‡ uwagÄ™ na wstawianie nowej linii przy pomocy \python{'\n'})
\item Ostatnie polecenie zamyka dostÄ™p do pliku \Verb{dane.txt}.
\end{itemize}

Po uruchomieniu powyÅ¼szego kodu powinien zostaÄ‡ utworzony plik ,,dane.txt'', zawierajÄ…cy 3 linie tekstu. JeÅ¼eli plik taki wczeÅ›niej istniaÅ‚ zostanie on nadpisany.

\subsubsection{Wczytywanie tekstu z pliku}

\begin{CodeFrame*}[python]{}
plik = open('dane.txt', 'rt', encoding='utf8')
for linia in plik:
  print(linia, end="")
plik.close()
\end{CodeFrame*}

ZauwaÅ¼, Å¼e zostaÅ‚a uÅ¼ywa opcja \python{'r'} do otwarcia pliki co oznacza otwarcie do odczytu (od angielskiego \textit{read}). JeÅ¼eli chcemy wczytaÄ‡ caÅ‚y plik do zmiennej napisowej moÅ¼emy, zamiast pÄ™tli czytajÄ…cej kolejne linie, uÅ¼yÄ‡ metody \python{read()}:
\begin{CodeFrame*}[python]{}
plik = open('dane.txt', 'rt', encoding='utf8')
napis = plik.read()
plik.close()
\end{CodeFrame*}

\subsubsection{Czekanie na dane}

Niekiedy nasz program musi poczekaÄ‡ na jakieÅ› dane (np. wprowadzane z standardowego wejÅ›cia przez uÅ¼ytkownika).
Typowo funkcje odczytu (takie jak \python{sys.stdin.read()}, \python{sys.stdin.readline()}, \python{input()}) czekajÄ… na koniec wczytywanych danych lub na koniec linii.
Komplikacja pojawia siÄ™ kiedy chcielibyÅ›my aby nasz program miaÅ‚ ograniczenie czasowe takiego oczekiwania lub czekaÅ‚ na pojawienie siÄ™ danych w jednym z kilku ÅºrÃ³deÅ‚.
W takich przypadkach przydatna jest funkcja systemowa \python{select()}, ktÃ³rÄ… w Pythonie znajdziemy w module \textit{select}.

\begin{CodeFrame*}[python]{}
import sys, os, select

rdfd, _, _ = select.select([sys.stdin], [], [], 3.0)

if not rdfd:
	print("czas minÄ…Å‚")

for fd in rdfd:
	print("czytam z:", fd)
	a = os.read(fd.fileno(), 1024)
	print("wczytaÅ‚em:", a)
\end{CodeFrame*}

Funkcja \python{select()} przyjmuje 3 listy â€deskryptorÃ³w plikÃ³wâ€ (czyli tego co zwraca np. funkcja \python{open()}) oraz iloÅ›Ä‡ sekund, ktÃ³rÄ… ma czekaÄ‡ na poczÄ…tek danych. Pierwsza lista zwiÄ…zana jest z plikami z ktÃ³rych chcemy czytaÄ‡, druga pisaÄ‡, a trzecia z plikami na ktÃ³rych czekamy na wyjÄ…tkowe warunki. Funkcja ta zwraca rÃ³wnieÅ¼ 3 takie listy, ale zawierajÄ…ce jedynie deskryptory plikÃ³w na ktÃ³rych poÅ¼Ä…dana operacja jest moÅ¼liwa (np. sÄ… dane do wczytania, moÅ¼na zapisaÄ‡ dane).

Funkcja \python{select()} koÅ„czy dziaÅ‚anie gdy pojawiÄ… siÄ™ jakiekolwiek dane (nie czeka na koniec danych â€“ EOF). ZauwaÅ¼, Å¼e do odczytu zastosowana zostaÅ‚a funkcja \python{os.read()} a nie metoda \python{fd.read()}, wynika to z faktu, iÅ¼ \python{fd.read()} czeka na EOF lub podanÄ… iloÅ›Ä‡ bajtÃ³w, a \python{os.read()} wczytuje to co jest dostÄ™pne i ogranicza jedynie maksymalnÄ… iloÅ›Ä‡ wczytywanych danych (resztÄ™ moÅ¼emy doczytaÄ‡ kolejnym wywoÅ‚aniem).

\begin{teacherOnly}
MoÅ¼na pokazaÄ‡ rÃ³Å¼nicÄ™ w zachowaniu poniÅ¼szego kodu z os.read() i fd.read() dla rÃ³Å¼nej iloÅ›ci wprowadzanych znakÃ³w â€“ np. 1 i 5
\begin{Verbatim}
import sys, os, select, time

while True:
	time.sleep(3)
	rdfd, _, _ = select.select([sys.stdin], [], [], 3.0)
	if not rdfd:
		print("czas minÄ…Å‚")
	for fd in rdfd:
		print("czytam z:", fd)
		#a = os.read(fd.fileno(), 3)
		a = fd.read(3)
		print("wczytaÅ‚em:", a)
\end{Verbatim}
\end{teacherOnly}
%  END: Pliki

%  BEGIN: ObsÅ‚uga bÅ‚Ä™dÃ³w
\subsection{ObsÅ‚uga bÅ‚Ä™dÃ³w}
WczeÅ›niej spotkaliÅ›my siÄ™ juÅ¼ z komunikatem bÅ‚Ä™du. BÅ‚Ä™dy mogÄ… wynikaÄ‡ z bÅ‚Ä™dÃ³w skÅ‚adniowych w programie ale rÃ³wnieÅ¼ nie przewidzianych zdarzeÅ„ w trakcie jego pracy.
Warto mieÄ‡ na uwadze iÅ¼ wszystkie bÅ‚Ä™dy w Pythonie majÄ… postaÄ‡ wyjÄ…tkÃ³w ktÃ³re mogÄ… zostaÄ‡ obsÅ‚uÅ¼one blokiem \python{try}/\python{except}.

\begin{CodeFrame*}[python]{}
try:
  a = 5 / 0
except ZeroDivisionError:
  print("dzielenie przez zero")
except:
  print("inny bÅ‚Ä…d")
\end{CodeFrame*}

Przy obsÅ‚udze bÅ‚Ä™dÃ³w moÅ¼e przydaÄ‡ siÄ™ instrukcja pusta \python{pass}, ktÃ³ra w tym przypadku pozwala na zignorowanie obsÅ‚ugi danego bÅ‚Ä™du.

\begin{CodeFrame*}[python]{}
try:
  slownik["a"] += 1
except:
  pass
\end{CodeFrame*}

PowyÅ¼szy kod zwiÄ™kszy wartoÅ›Ä‡ zwiÄ…zanÄ… z kluczem \python{"a"} w sÅ‚owniku \python{slownik}, jednak gdy napotka bÅ‚Ä…d (np. sÅ‚ownik nie zawiera klucza \python{"a"}) zignoruje go.

MoÅ¼emy takÅ¼e generowaÄ‡ wyjÄ…tki z naszego kodu, sÅ‚uÅ¼y do tego instrukcja \python{raise}, ktÃ³rej naleÅ¼y przekazaÄ‡ obiektem dziedziczÄ…cym po \python{BaseException} np:

\begin{CodeFrame*}[python]{}
raise BaseException("jakiÅ› bÅ‚Ä…d")
\end{CodeFrame*}
%  END: ObsÅ‚uga bÅ‚Ä™dÃ³w

%  BEGIN: Podstawy programowania rÃ³wnolegÅ‚ego
\section{Podstawy programowania rÃ³wnolegÅ‚ego}

\subsection{procesy i fork()}

Aby w systemie mÃ³gÅ‚ dziaÅ‚aÄ‡ wiÄ™cej niÅ¼ 1 proces konieczna jest moÅ¼liwoÅ›Ä‡ utworzenia nowego procesu (potomka) z poziomu procesu aktualnie dziaÅ‚ajÄ…cego (rodzica). MoÅ¼liwe sÄ… dwa podejÅ›cia:
\begin{itemize}
	\item utworzenie "czystego" procesu uruchamiajÄ…cego podany kod programu z podanymi argumentami (spawn)
	\item utworzenie kopii aktualnego procesu, ktÃ³ra zacznie wykonywaÄ‡ siÄ™ niezaleÅ¼nie od momentu rozgaÅ‚Ä™zienia (fork)
\end{itemize}
W przypadku zastosowania fork proces potomny otrzymuje kopiÄ™ pamiÄ™ci rodzica (ma dostÄ™p do wszystkich jego zmiennych oraz zasobÃ³w uzyskanych przed fork(); dalsze operacje na zmiennych sÄ… niezaleÅ¼ne). Po utworzeniu kopi procesu moÅ¼na (ale nie trzeba) zastÄ…piÄ‡ wykonywany w nim program innym poprzez funkcje z rodziny exec. Cechy te powodujÄ… Å¼e mechanizm fork jest bardziej elastyczny od spawn.

\begin{CodeFrame*}[python]{}
import os

print("nasz pid to:", os.getpid())

pid = os.fork()
if pid == 0:
	print("jesteÅ›my w procesie potomnym, nasz pid to:", os.getpid())
else:
	print("jesteÅ›my w rodzicu, pid naszego potomka to:", pid)
\end{CodeFrame*}

\begin{teacherOnly}
Bardziej rozbudowany przykÅ‚ad do demonstacji Å¼ycia procesÃ³w:
\begin{Verbatim}
import os, time, signal

print("nasz pid to:", os.getpid())

pid = os.fork()
if pid == 0:
	print("jesteÅ›my w procesie potomnym, nasz pid to:", os.getpid())
	time.sleep(4);  print("potomek 1")
	time.sleep(7);  print("potomek 2")
else:
	print("jesteÅ›my w rodzicu, pid naszego potomka to:", pid)
	time.sleep(5);  print("rodzic 1")
	time.sleep(4);  print("zabijam potomka")
	os.kill(pid, signal.SIGTERM)
	time.sleep(5);  print("rodzic 2")
\end{Verbatim}
\end{teacherOnly}

\subsection{wywoÅ‚anie zewnÄ™trznej komendy}

Najprostszym sposobem uruchomienia innej komendy z poziomu Pythona jest uÅ¼ycie funkcji \Verb{system()} z moduÅ‚u \Verb{os}:

\begin{CodeFrame*}[python]{}
import os

inStr = "Ala ma kota\nKot ma psa\n..."

os.system('echo -en "' + inStr + '" | grep -v A')
\end{CodeFrame*}

Jak widaÄ‡ przekazujemy do niej napis takiej samej postaci jak wyglÄ…daÅ‚by komenda uruchamiana w terminalu.
Mechanizm ten nie daje jednak zbyt duÅ¼ej kontroli nad uruchamianiem tego polecenia
(nie pozwala na proste odebranie jego standardowego wyjÅ›cia, przekazanie wejÅ›cia rÃ³wnieÅ¼ wymaga dodatkowego zabiegu w postaci dodania komendy echo, itd.).
Bardziej elastycznym rozwiÄ…zaniem jest pythonowy moduÅ‚ \textit{subprocess}:

\begin{CodeFrame*}[python]{}
import subprocess

inStr = "Ala ma kota\nKot ma psa\n..."

# uruchamiamy subprocess z grep'em
res = subprocess.run(["grep", "-v", "A"], input=inStr.encode(), stdout=subprocess.PIPE)
print("Kod powrotu to: " + str(res.returncode))
print("Standardowe wyjÅ›cie z komendy to: " + res.stdout.decode())
# warto zwrÃ³ciÄ‡ uwagÄ™ na kodowanie i dekodowanie napisÃ³w
# (przekazywanych/odbieranych przez stdin/stdout) do / z utf-8

# jeÅ¼eli chcemy korzystaÄ‡ np. z znakÃ³w uogÃ³lniajÄ…cych powÅ‚oki lub podaÄ‡
# komendÄ™ jako pojedynczy napis (a nie listÄ™ argumentÃ³w) to moÅ¼na uÅ¼yÄ‡
# opcji shell=True:
subprocess.run(["ls -ld /etc/pa*"], shell=True)
# jeÅ¼eli potrzebujemy tylko rozbicia napisu na listÄ™ argumentÃ³w moÅ¼na
# uÅ¼yÄ‡ shlex.split()

# run() pozwala takÅ¼e (obok subprocess.PIPE) na przekazywanie
# istniejÄ…cych deskryptorÃ³w (lub subprocess.DEVNULL, co ignoruje wyjÅ›cie)
# w ramach stdin, stdout, stderr

# moduÅ‚ subprocess oferuje takÅ¼e funkcjÄ™ Popen() dajÄ…cÄ… wiÄ™kszÄ… kontrolÄ™
# nad uruchamianiem komendy
\end{CodeFrame*}


\subsection{komunikacja miÄ™dzyprocesowa}

W systemie wieloprocesowym konieczne jest zapewnienie mechanizmÃ³w komunikacji pomiÄ™dzy procesami, zwÅ‚aszcza jeÅ¼eli grupa procesÃ³w ma realizowaÄ‡ wspÃ³lne zadanie.

Jednym z takich mechanizmÃ³w (moÅ¼na powiedzieÄ‡ Å¼e nawet podstawowym) jest poznane juÅ¼ wczeÅ›niej Å‚Ä…cze nie nazwane
	(pipe, uzyskiwane np. w bashowej linii poleceÅ„ przy pomocy \Verb{|}) pozwalajÄ…ce na przekazywanie strumienia danych od jednego do kolejnego procesu.
Podobnie dziaÅ‚a Å‚Ä…cze nazwane z tym Å¼e nie jest uzyskiwane w wyniku funkcji \Verb{pipe()} a otwarcia specjalnego pliku (utworzonego \Verb{mkfifo()}) przez dwa procesy (jeden do czytania drugi do pisania).

Innymi mechanizmami komunikacji miÄ™dzyprocesowej sÄ… m.in:
\begin{itemize}
	\item sygnaÅ‚y \teacher{o nich bÄ™dziemy mÃ³wiÄ‡ na dalszych zajÄ™ciach}
	\item kolejki komunikatÃ³w
	\item pamiÄ™Ä‡ wspÃ³Å‚dzielona
\end{itemize}

Stosowanie pamiÄ™ci wspÃ³Å‚dzielonej wymaga czÄ™sto teÅ¼ stosowania mechanizmÃ³w ochrony dostÄ™pu do niej (wejÅ›cia do â€krytycznych sekcjiâ€ kodu). Koncepcja takiej ochrony wyglÄ…da nastÄ™pujÄ…co:
\begin{Verbatim}
if !blokada:
	blokada = True
	# dziaÅ‚ania na pamiÄ™ci wspÃ³lnej
	blokada = False
\end{Verbatim}
Jednak nie moÅ¼e byÄ‡ zrealizowana w tak prosty sposÃ³b, gdzyÅ¼ przeÅ‚Ä…czenie procesÃ³w moÅ¼e nastÄ…piÄ‡ pomiÄ™dzy sprawdzeniem warunku na zmiennej \Verb{blokada} a zmianÄ… jej wartoÅ›ci
	(lub mogÄ… one dziaÅ‚aÄ‡ idealnie rÃ³wnolegle i w tym samym momencie sprawdzaÄ‡ wartoÅ›Ä‡ zmiennej \Verb{blokada}).
Dlatego do ochrony sekcji krytycznych stosuje siÄ™ mechanizmy systemowe takie jak semafory i lock'i.

\subsection{wÄ…tki}

OprÃ³cz moÅ¼liwoÅ›ci peÅ‚nego rozgaÅ‚Ä™zienia procesu (utworzenia potomka), moÅ¼liwe jest takÅ¼e tworzenie wÄ…tkÃ³w (zwanych teÅ¼ lekkimi procesami) w ramach bieÅ¼Ä…cego procesu.
WÄ…tek (w odrÃ³Å¼nieniu od procesu potomnego) korzysta z tej samej pamiÄ™ci (przestrzeni adresowej) co oryginalny proces i wszystkie inne jego wÄ…tki (czyli \textit{out of the box} majÄ… pamiÄ™Ä‡ wspÃ³Å‚dzielonÄ…).
Jednak kaÅ¼dy wÄ…tek posiada niezaleÅ¼ny stos (umieszczany w innym fragmencie wspÃ³Å‚dzielonej pamiÄ™ci), ktÃ³ry jest uÅ¼ywany m.in. do przechowywania zmiennych lokalnych (w tym argumentÃ³w funkcji),
	czyli dopÃ³ki ograniczamy siÄ™ do zmiennych lokalnych nie ma potrzeby stosowania ochrony sekcji krytycznych ze wzglÄ™du na dostÄ™p do pamiÄ™ci.

\subsection{â€Python-wayâ€}

Zaprezentowane powyÅ¼ej podejÅ›cie korzysta w duÅ¼ej mierze z funkcji analogicznych do funkcji systemowych biblioteki standardowej C zgromadzonych w module \textit{os}.
Python oferuje obok wspomnianego moduÅ‚u \textit{subprocess} takÅ¼e inne wÅ‚asne mechanizmy zwiÄ…zane z tworzeniem wielu procesÃ³w poprzez moduÅ‚ \textit{multiprocessing}
	oraz oferuje wsparcie dla wÄ…tkÃ³w w module \textit{threading}\footnote{
		NaleÅ¼y mieÄ‡ na uwadze iÅ¼ pythonowe wÄ…tki sÄ… niepeÅ‚nowartoÅ›ciowe - ze wzglÄ™du na konstrukcjÄ™ interpretera CPython,
		jedynie jeden wÄ…tek w danej chwili moÅ¼e byÄ‡ aktywny - wykorzystywaÄ‡ CPU, pozostaÅ‚e mogÄ… jedynie czekaÄ‡.
	}.
Jednak, jako Å¼e w ramach tego kursu nie bÄ™dziemy zajmowaÄ‡ siÄ™ programowaniem rÃ³wnolegÅ‚ym jako takim, to moduÅ‚Ã³w tych nie omÃ³wimy w tym skrypcie ani na zajÄ™ciach.
Zainteresowanym polecam zapoznanie siÄ™ z \url{http://vip.opcode.eu.org/#Procesy_i_wÄ…tki}.
%  END: Podstawy programowania rÃ³wnolegÅ‚ego

%  BEGIN: Biblioteki
\section{Biblioteki}

IdeÄ… korzystania z funkcji w trakcie tworzenia programu jest zapewnienie jego wiÄ™kszej czytelnoÅ›ci oraz unikanie powtarzania kodu robiÄ…cego to samo w wielu miejscach programu â€“ kod umieszczamy w funkcji ktÃ³rÄ… tylko wywoÅ‚ujemy z odpowiednimi argumentami i odbieramy wynik dziaÅ‚ania (np. poprzez zwracanÄ… wartoÅ›Ä‡). RozwiniÄ™ciem tej ideii sÄ… biblioteki stanowiÄ…ce zbiory funkcji oraz struktur danych (wÅ‚asnych typÃ³w zmiennych) sÅ‚uÅ¼Ä…cych do realizacji okreÅ›lonych zadaÅ„.

Do tej pory korzystaliÅ›my z elementÃ³w standardowej biblioteki dostarczanej z Pythonem. W rozdziale tym zaprezentujemy kilka rÃ³Å¼nych przykÅ‚adowych bibliotek (w tym wchodzÄ…cych w skÅ‚ad biblioteki standardowej Pythona), jednak Å¼adnej z nich nie bÄ™dziemy tutaj szczegÃ³Å‚owo omawiaÄ‡, gdyÅ¼ nie miaÅ‚oby to wiÄ™kszego sensu. Istnieje ogromna liczba bibliotek dedykowanych rÃ³Å¼nym celom (obsÅ‚uga formatÃ³w plikÃ³w, standardÃ³w komunikacyjnych, tworzenie grafiki, ...) i nie ma sensu uczyÄ‡ siÄ™ ich bez realnej potrzeby zastosowania â€“ programowanie w duÅ¼ej mierze polega na wyszukiwaniu wÅ‚aÅ›ciwych bibliotek, zapoznawaniu siÄ™ z ich dokumentacjÄ… i wykorzystywaniu ich w wÅ‚asnych programach. W przypadku Pythona biblioteki najczÄ™Å›ciej majÄ… postaÄ‡ moduÅ‚Ã³w pythonowych, ktÃ³re wÅ‚Ä…czamy poprzez deklaracjÄ™ \python{include}.

\teacher{PoniÅ¼sze przykÅ‚ady majÄ… zaprezentowaÄ‡ potencjaÅ‚ moÅ¼liwy do uzyskania dziÄ™ki dostÄ™pnym bibliotekom oraz to Å¼e sÄ… one duÅ¼ym uÅ‚atwieniem dla programisty.}

\subsection{XML}

Extensible Markup Language (XML) jest tekstowym formatem wymiany danych. W odrÃ³Å¼nieniu od formatu klasycznego formatu utoÅ¼samiajÄ…cego liniÄ™ z rekordem zÅ‚oÅ¼onym z pÃ³l oddzielanych wskazanym separatorem moÅ¼e on w Å‚atwy sposÃ³b opisywaÄ‡ bardziej zÅ‚oÅ¼onÄ… (drzewiastÄ… a nie tabelkowÄ…) postaÄ‡ danych. Dokument XML skÅ‚ada siÄ™ z zagnieÅ¼dÅ¼onych w sobie znacznikÃ³w, kaÅ¼dy z nich moÅ¼e posiadaÄ‡ atrybuty oraz wartoÅ›Ä‡, ktÃ³rÄ… jest tekst zawierajÄ…cy lub nie kolejne znaczniki. KolejnoÅ›Ä‡ wystÄ™powania elementÃ³w w dokumencie jest znaczÄ…ca. KaÅ¼dy znacznik otwierajÄ…cy posiada odpowiadajÄ…cy mu znacznik zamykajÄ…cy (np. \Verb{<b>aa</b>}), znaczniki bez wartoÅ›ci mogÄ… byÄ‡ samo-zamykajÄ…ce (np. \Verb{<g />}). Dokumenty HTML mogÄ… byÄ‡ zgodne z wymogami formalnymi XML tym samym stanowiÄ…c dokumenty XML.

Do obsÅ‚ugi XML w Pythonie moÅ¼na skorzystaÄ‡ np. z moduÅ‚u \textit{ElementTree} (ale nie jest on jedynÄ… bibliotekÄ… ktÃ³rej moÅ¼emy uÅ¼yÄ‡):
\begin{CodeFrame*}[python]{}
import xml.etree.ElementTree as xml

txt = """<a>
	<b>A<h>qwe ... rty</h></b> ABCD... &amp;&apos; HIJ...
	<c x="q" w="p p">EE FÄ„</c> <g y="zz" />
	<c x="pp">123 <d rr="oo">456</d> 78 90.</c>
</a>"""

rootNode = xml.fromstring(txt)

print("nazwa gÅ‚Ã³wnego elementu to:", rootNode.tag)
print("jego potomkowie to:")
for subNode in rootNode:
	print(" ", subNode.tag, ":", xml.tostring(subNode, encoding="unicode"))

# moÅ¼emy pobraÄ‡ listÄ™ potomkÃ³w o okreÅ›lonej nazwie
# albo od razu po nich iterowaÄ‡ pÄ™tlÄ… for subNode in rootNode.iter("c"):
cSubNodes = list( rootNode.iter("c") )
if cSubNodes:
	for subNode in cSubNodes:
		print('element "c" ma atrybuty': subNode.attrib
else
	print('nie ma elementÃ³w "c"')

# moÅ¼emy teÅ¼ uÅ¼ywaÄ‡ iteratorÃ³w bezpoÅ›rednio, np:
print("pierwszy wÄ™zeÅ‚ c ma atrybuty:")
try:
	ci = rootNode.iter("c")
	print(next(ci).attrib)
except StopIteration:
	print(" [brak takiego wÄ™zÅ‚a]")
\end{CodeFrame*}

\textit{ElementTree} pozwala teÅ¼ na modyfikowanie XMLa poprzez zmianÄ™/dodawanie/usuwanie atrybutÃ³w, czy teÅ¼ caÅ‚ych tagÃ³w.

Innym sposobem zapisu ustrukturyzowanych danych w postaci tekstowej jest JSON. Przypomina on trochÄ™ output funkcji print z podanym do niej sÅ‚ownikiem lub listÄ…. Do jego obsÅ‚ugi w Pythonie sÅ‚uzy moduÅ‚ \textit{json}:

\begin{CodeFrame*}[python]{}
import json, pprint

a='''{
	"info": "bbb",
	"ver": 31,
	"d": [
		{"a": 21, "b": {"x": 1, "y": 2}, "c": [9, 8, 7]},
		{"a": 17, "b": {"x": 6, "y": 7}, "c": [6, 5, 4]}
	]
}'''

# interpretacja napisu jako zbioru danych w formacie json
d = json.loads(a)

# wypisanie zbioru danych
pprint.pprint(d) # pprint Å‚adnie formatuje zÅ‚oÅ¼one zbiory danych

# jak widaÄ‡ jest to zagnieÅ¼dÅ¼ona struktura list i sÅ‚ownikÃ³w
# odpowiadajÄ…ca 1 do 1 temu co byÅ‚o w napisie

# dostÄ™p do poszczegÃ³lnych elementÃ³w: "po pythonowemu"
print(d["d"][1]["b"])
d["d"][1]["b"]["x"] = "XXX"

# wygenerowanie json'a w oparciu o zmiennÄ… pythonowÄ…
c = json.dumps(d, ensure_ascii=False)
print(c)
\end{CodeFrame*}

\subsection{SQL}

Innym sposobem przechowywania danych niÅ¼ w postaci plikÃ³w tekstowych sÄ… systemy baz danych.
Standardowym jÄ™zykiem uÅ¼ywanym do komunikacji z systemami bazodanowymi jest SQL.
Pomimo jego standaryzacji istniejÄ… rÃ³Å¼nice w skÅ‚adni zapytaÅ„ dla poszczegÃ³lnych silnikÃ³w bazodanowych (takich jak: MariaDB, PostgreSQL, SQLite, ...).

Typowo komunikacja z bazÄ… danych odbywa siÄ™ za poÅ›rednictwem biblioteki odpowiedzialnej za nawiÄ…zanie poÅ‚Ä…czenia z serwerem i przekazywanie do niego zapytaÅ„ SQL.
Wymaga to dziaÅ‚ania osobnego procesu (czÄ™sto nawet na innej maszynie) obsÅ‚ugujÄ…cego silnik bazodanowy, co jest poÅ¼Ä…danym rozwiÄ…zaniem dla baz danych z ktÃ³rych rÃ³wnoczeÅ›nie moÅ¼e korzystaÄ‡ wielu klientÃ³w.
Typowym przykÅ‚adem moÅ¼e byÄ‡ komunikacja skryptÃ³w jakiegoÅ› serwisu interetowego z bazÄ… danych.

Jednak takie podejÅ›cie nie jest wygodne w rozwiÄ…zaniach nie wymagajÄ…cych wspÃ³Å‚dzielenia bazy danych.
Do zastosowaÅ„ takich moÅ¼na uÅ¼yÄ‡ biblioteki SQLite, ktÃ³ra pozwala na Å‚atwe stosowanie bazy SQLowej do wewnÄ™trznych potrzeb aplikacji, bez koniecznoÅ›ci uruchamiania osobnego systemu bazodanowego.
SQLite moÅ¼na wykorzystywaÄ‡ takÅ¼e bezpoÅ›rednio z poziomu Pythona, dziÄ™ki moduÅ‚owi \textit{sqlite3}:

\begin{CodeFrame*}[python]{}

import sqlite3
import os.path

if os.path.isfile('example.db'):
	create = False
else:
	create = True

conn = sqlite3.connect('example.db')
c = conn.cursor()

if create:
	print("create new db")
	c.execute("CREATE TABLE users (uid INT PRIMARY KEY, name TEXT);")
	c.execute("CREATE TABLE posts (pid INT PRIMARY KEY, uid INT, text TEXT);")
	
	c.execute("INSERT INTO users VALUES (21, 'user A');")
	c.execute("INSERT INTO users VALUES (2671, 'user B');")
	
	c.execute("INSERT INTO posts VALUES (1, 21, 'abc ..');")
	c.execute("INSERT INTO posts VALUES (2, 21, 'qwe xyz');")
	c.execute("INSERT INTO posts VALUES (3, 2671, 'test');")

	conn.commit()

maxUid = 100
for r in c.execute("SELECT * FROM users WHERE uid < ?;", (maxUid,)):
	print(r)

for r in c.execute("SELECT u.name, p.text FROM users AS u JOIN posts AS p ON (u.uid = p.uid);"):
	print(r)
\end{CodeFrame*}

\subsection{GUI}

PrzykÅ‚ady uÅ¼ycia 3 rÃ³Å¼nych graficznych interfejsÃ³w uÅ¼ytkownika z poziomu Pythona moÅ¼na znaleÅºÄ‡ na \url{http://vip.opcode.eu.org/#Graficzny_interfejs_uÅ¼ytkownika}.
W odrÃ³Å¼nieniu od poprzednich przykÅ‚adÃ³w, te biblioteki nie wchodzÄ… w skÅ‚ad pythonowskiej biblioteki standardowej i mogÄ… wymagaÄ‡ doinstalowania odpowiednich pakietÃ³w oprogramowania.
%  END: Biblioteki


%  BEGIN: Literatura dodatkowa
\student{\vspace{2cm}}
\section{Literatura dodatkowa {\Symbola ğŸ¤”}}

\begin{itemize}
\item \emph{The Python Tutorial} (\url{https://docs.python.org/3/tutorial/}) - oficjalny Tutorial Pythona.
\item \emph{Vademecum informatyki praktycznej} (\url{http://vip.opcode.eu.org/}) - zbiÃ³r materiaÅ‚Ã³w na temat elektroniki i programowania m.in. w Pythonie, wykorzystywany m.in. w edycji VIIIbis MdCÅš.
\item \emph{Biblioteka Riklaunima: Podstawy Pythona} (\url{http://www.python.rk.edu.pl/w/p/podstawy/}).
\item \emph{A Byte of Python} (\url{https://python.swaroopch.com/}).
\item \emph{How to Think Like a Computer Scientist: Learning with Python 3} (\url{http://openbookproject.net/thinkcs/python/english3e/}).
\item \emph{Zanurkuj w Pythonie} (\url{https://pl.wikibooks.org/wiki/Zanurkuj_w_Pythonie}).
\end{itemize}
%  END: Literatura dodatkowa

\rozwiazania

\copyrightFooter{
	Â© Matematyka dla Ciekawych Åšwiata, 2016-2020.\\
	Â© Åukasz Mazurek, 2016-2017.\\
	Â© Robert Ryszard Paciorek <rrp@opcode.eu.org>, 2018-2020.\\
	Kopiowanie, modyfikowanie i redystrybucja dozwolone pod warunkiem zachowania informacji o autorach.\\
}
\end{document}
