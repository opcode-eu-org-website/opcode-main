% Copyright (c) 2017-2020 Matematyka dla Ciekawych Świata (http://ciekawi.icm.edu.pl/)
% Copyright (c) 2017-2020 Robert Ryszard Paciorek <rrp@opcode.eu.org>
% 
% MIT License
% 
% Permission is hereby granted, free of charge, to any person obtaining a copy
% of this software and associated documentation files (the "Software"), to deal
% in the Software without restriction, including without limitation the rights
% to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
% copies of the Software, and to permit persons to whom the Software is
% furnished to do so, subject to the following conditions:
% 
% The above copyright notice and this permission notice shall be included in all
% copies or substantial portions of the Software.
% 
% THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
% IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
% FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
% AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
% LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
% OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
% SOFTWARE.

\documentclass{pdfBooklets}

\title{Programowanie w elektronice: Wprowadzenie do elektroniki}
\author{%
	Projekt ,,Matematyka dla Ciekawych Świata'',\\
	Robert Ryszard Paciorek\\\normalsize\ttfamily <rrp@opcode.eu.org>
}
\date  {2019-04-11}

\makeatletter\hypersetup{
	pdftitle = {\@title}, pdfauthor = {\@author}
}\makeatother

\usepackage[ampersand]{easylist}

\begin{document}

\maketitle

% BEGIN: Elektronika - intro
Elektronika zajmuje się wytwarzaniem i przetwarzaniem sygnałów w postaci prądów i napięć elektrycznych.
Zjawisko prądu związane jest z przepływem ładunku (z uporządkowanym ruchem nośników ładunku), aby wystąpiło konieczna jest różnica potencjałów (napięcie) pomiędzy końcami przewodnika, prowadzi ono do neutralizacji tej różnicy.
Dlatego dla podtrzymania stałej różnicy potencjałów konieczne jest istnienie źródeł prądu, prowadzących do rozdzielania ładunków dodatnich od ujemnych.

\section{Podstawowe pojęcia}

\subsection{Napięcie elektryczne}
    Napięcie elektryczne $U$ pomiędzy punktem A i B (jakiegoś obwodu)
    jest to różnica potencjału elektrycznego w punkcie A i w punkcie B.
\subsection{Potencjał elektryczny}
    Potencjał elektryczny $V$ w punkcie A
    jest skalarną wielkością charakteryzującą pole elektryczne w danym punkcie. Odpowiada pracy którą trzeba by wykonać aby przenieść ładunek $q$ z tego punktu do nieskończoności podzielonej przez wielkość tego ładunku (jest niezależny od wartości $q$).
    W elektronice używa się wartości potencjałów względem umownego potencjału zerowego GND (co umożliwia traktowanie ich jako różnic potencjałów - napięć elektrycznych), w efekcie tego określenia "(stałe) napięcie" i "potencjał" bardzo często stosowane są zamiennie. 
\subsection{Masa}
   Masa (oznaczana jako GND) jest to
   umowny potencjał zerowy, względem którego wyraża się inne potencjały w układzie (co umożliwia traktowanie ich jako różnic potencjałów - napięć elektrycznych). Potencjał ten może być równy potencjałowi ziemi (masie ochronnej PE), bądź może być z nim nie związany (układy izolowane).

\begin{ProTip}{Schematy elektryczne wg. elektronika}
Typowo elektronicy na schematach nie rysują źródeł napięcia (np. w postaci symbolu baterii\footnote{chyba że chodzi o podkreślenie, iż dane zasilanie faktycznie odbywa się z baterii lub akumulatora}),
zamiast tego umieszczają znaczniki potencjałów zasilania (np. +5V, +3V3, Vcc, Vbus) względem masy i znaczniki masy (GND, {\Symbola ⏚}).

\vspace{3pt}Typowo potencjały wyższe umieszcza się na schemacie wyżej a niższe niżej (czyli 5V będzie na górze, a GND na dole), a przepływ prąd odbywa się w relacji od lewej do prawej i z góry na dół.
Jest to ogólna reguła, ułatwiająca czytanie schematów, nie jest ona jednak wyrocznią i trafiają się od niej odstępstwa, podyktowane zwiększeniem czytelności schematu.

\vspace{3pt}Schematy zamieszczane w tym skrypcie rysowane są według tych zasad.
\end{ProTip}

\subsection{Natężenie prądu}
    Natężenie prądu elektrycznego $I$ (określane skrótowo jako prąd)
    jest to stosunek przemieszczonego ładunku do czasu jego przepływu.

\section{Prawo Ohma}
Dla elementów liniowych (np. zwykły kawałek przewodu) zachodzi proporcjonalność natężenia prądu płynącego przez taki element do napięcia pomiędzy jego końcami: $R=\frac{U}{I}$.
Zależność ta nosi nazwę prawa Ohma\footnote{Prawo Ohma nie jest uniwersalnym prawem przyrody, a jedynie relacją empiryczną spełnioną w pewnym zakresie parametrów dla niektórych materiałów.}, a stosunek ten nazywamy oporem (rezystancję).

\section{Prawa Kirchhoffa}
Węzeł układu (sam w sobie, pomijając zjawiska pasożytnicze) nie jest w stanie gromadzić ładunku elektrycznego zatem: \emph{Suma prądów wpływających do węzła jest równa sumie prądów wypływających z tego węzła.}

Jeżeli rozważamy obwód zamknięty od punktu A z potencjałem $V_A$ to sumując napięcia na kolejnych elementach obwodu (oporach, źródłach napięciowych, etc) z uwzględnieniem ich znaku gdy wrócimy do punktu A to potencjał nadal musi wynosić $V_A$, zatem: \emph{Suma spadków napięć w zamkniętym obwodzie jest równa zeru.}


\section{Elementy bierne}

\begin{wrapfigure}{r}{0.35\textwidth}
  \begin{center}
    \vspace{-40pt}
    \includegraphics[width=0.3\textwidth]{img/elektronika/symbole}
    \vspace{-20pt}
  \end{center}
\end{wrapfigure}

\subsection{Rezystor}
\begin{teacherOnly}
	\begin{easylist}[itemize]
		& czy opór to jedyny parametr rezystora? \todo{jako dodatkowy akapit}
			&&& mamy też dokładność, stabilność temperaturową, napięciową, ...
			&&& ... ale przede wszystkim moc
		& prawo Ohma i rezystor
		& rezystancyjny dzielnik napięcia
	\end{easylist}
\end{teacherOnly}

Rezystor (opornik) wprowadza do układu rezystancję związaną z swoją wartością nominalną. Typowo służy do ograniczania wartości prądu przez niego przepływającego.

Powoduje wydzielanie się energii (cieplnej) związanej z stratami na rezystancji - moc wydzielana dana jest zależnościami: $P = UI = \frac{U^2}{R} = I^2R$, czyli przy stałym napięciu przyłożonym do rezystora im większy jego opór tym mniejsza moc się wydzieli (gdyż popłynie mniejszy prąd), ale przy stałym prądzie płynącym przez rezystor moc rośnie wraz ze wzrostem oporu.

Rezystor jest elementem spełniającym prawo Ohma\footnote{Jest to zasadniczo jedyny element elektroniczny, który podlega temu prawu. Niektóre z elementów (jak kondensatory i cewki) podlegają rozszerzeniu prawa Ohma dla prądu przemiennego. Wiele innych elementów (jak np. diody i tranzystory) nie podlegają prawu Ohma.}.

\subsubsection{rezystancyjny dzielnik napięcia}

Jednym z najprostszych, użytecznych obwodów są dwa rezystory połączone szeregowo z źródłem napięcia. Układ taki nazywamy rezystancyjnym dzielnikiem napięcia. Pozwala on na uzyskanie napięcia niższego od napięcia źródła zgodnie z proporcją użytych rezystorów. Zobacz symulację: \url{http://ln.opcode.eu.org/dzielnik}.
	% https://www.falstad.com/circuit/circuitjs.html?cct=%24+1+0.000005+10.20027730826997+54+5+50%0Ag+336+320+336+336+0%0Aw+336+192+416+192+0%0Ar+416+256+416+320+0+1000%0Ag+416+320+416+336+0%0Ar+336+112+336+192+0+500%0As+416+192+416+256+0+1+false%0As+480+192+480+256+0+1+false%0Ag+480+320+480+336+0%0Ar+480+256+480+320+0+100%0Aw+416+192+480+192+0%0AR+336+112+336+80+0+0+40+12+0+0+0.5%0Aw+480+192+560+192+0%0Ap+560+192+560+320+1+0%0Ag+560+320+560+336+0%0Ar+336+192+336+320+0+500%0A38+10+0+2+24+Voltage%0A
Zwróć uwagę że napięcie wyjściowe z takiego układu jest bardzo zależne od pobieranego prądu / wielkości dołączonego obciążenia (w tym celu możesz użyć przełączników umieszczonych w symulowanym układzie).

\subsection{Kondensator}
\begin{teacherOnly}
	\begin{easylist}[itemize]
		& "magazynuje napięcie"
		& zastosowania:
		&& stabilizacja napięcia
		&& opóźnienie zmiany jakiegoś sygnału (stała czasowa) => \url{http://ln.opcode.eu.org/cap}
		&& odcinanie składowej sygnały zmiennego (rozwarcie dla prądu stałego, ale przewodzi zmienny)
	\end{easylist}
\end{teacherOnly}

Kondensator wprowadza do układu pojemność związaną z swoją wartością nominalną.
Pojemność wyraża zdolność do gromadzenia ładunku przez dany element - im większa pojemność tym więcej ładunku (przy takim samym przyłożonym napięciu) zgromadzi element. $C = \frac{q}{U}$

Kondensator typowo służy do ograniczania zmian napięcia (poprzez gromadzenie energii w polu elektrycznym) lub wprowadzenia opóźnienia (stałej czasowej) związanej z jego ładowaniem / rozładowywaniem.
Czas potrzebny do zmiany napięcia na kondensatorze dany jest zależnością: $\Delta T = \frac{C \cdot \Delta U}{I}$.

Zobacz symulację procesu ładowania / rozładowywania kondensatora: \url{http://ln.opcode.eu.org/cap}
	% https://www.falstad.com/circuit/circuitjs.html?cct=%24+1+0.000005+16.13108636308289+50+5+50%0Av+96+336+96+64+0+0+40+5+0+0+0.5%0AS+256+144+256+64+0+1+false+0+3%0Aw+96+64+240+64+0%0Aw+272+64+400+64+0%0Ac+256+144+256+256+0+0.00019999999999999998+0.001%0Ar+256+256+256+336+0+100%0Aw+96+336+256+336+0%0Aw+256+336+400+336+0%0Ar+400+64+400+336+0+1000%0Ao+4+128+0+4102+0.009765625+0.00009765625+0+2+4+3%0A38+4+0+0.000009999999999999999+0.00101+Capacitance%0A
(klikając na przełącznik w górnej części schematu  można wybierać pomiędzy rozładowywaniem a ładowaniem kondensatora, zwróć uwagę na różną wartość oporu użytego do tych operacji).

Innym częstym zastosowaniem jest kondensatora jest odcinanie składowej stałej – kondensator stanowi rozwarcie dla prądu stałego, ale przewodzi prąd zmienny (ze względu na prąd związany z jego ładowanie / rozładowywaniem).
Zobacz symulację: \url{http://ln.opcode.eu.org/cap_ac}
	% https://www.falstad.com/circuit/circuitjs.html?cct=%24+1+0.000005+16.13108636308289+50+5+50%0Aw+112+144+256+144+1%0Ac+256+144+256+256+0+0.00019999999999999998+-0.8719567578156338%0Ar+256+256+256+336+0+100%0Aw+112+336+256+336+0%0Av+112+336+112+144+0+1+20.000500000000002+5+0+0+0.5%0Ao+1+128+0+4102+5+0.00009765625+0+2+1+3%0A38+1+0+0.000009999999999999999+0.00101+Capacitance%0A38+4+3+0.001+40+Frequency%0A

\begin{Zadanie}{}{}
\noindent\begin{minipage}[b]{0.55\textwidth}
Zbuduj układ przedstawiony na schemacie i zaobserwuj zmianę napięcia na kondensatorze w momencie załączania, wyłączania zasilania.
\vspace{1cm}
\end{minipage}
\hfill
\begin{minipage}[b]{0.4\textwidth}
\includegraphics[width=\textwidth]{img/elektronika/zad1}
\end{minipage}
\end{Zadanie}

\subsection{Cewka}
\begin{teacherOnly}
	\begin{easylist}[itemize]
		& mówiliśmy o magazynowaniu ... cewka "magazynuje prąd"
		& gdzie występuje (w jakich bardziej złożonych elementach) - transformator, przekaźnik
		& sterowanie przez tranzystor => dioda zabezpieczająca
	\end{easylist}
\end{teacherOnly}

Cewka (dławik) wprowadza do układu indukcyjność związaną z swoją wartością nominalną. Samodzielnie występująca cewka typowo służy do ograniczania zmian prądu (poprzez gromadzenie energii w polu magnetycznym). Czas potrzebny zmiany prądu płynącego przez cewkę (dławik stawia opór takiej zmianie tak jak kondensator zmianie napięcia) dany jest zależnością: $\Delta T = \frac{L \cdot \Delta I}{U}$

\subsubsection{Przekaźniki, styczniki i transformatory}

Cewki możemy spotkać w urządzeniach takich jak przekaźniki, czy styczniki\footnote{Zasadniczo przekaźnik i stycznik jest to to samo urządzenie. Przyjmuje się rozróżnienie w nazewnictwie - przekaźniki przełączają mniejsze prądy niż styczniki.}.
Nawinięte na odpowiednim rdzeniu pełnią one tam funkcję elektromagnesu odpowiedzialnego za zmianę fizycznej pozycji styków prowadzącą do ich zwarcia lub rozwarcia (przełączania).

Innym urządzeniem opartym o cewki są transformatory - wykorzystują one kilka cewek na wspólnym rdzeniu do przekazywania energii poprzez pole magnetyczne (jedna z cewek dzięki przepływowi zmiennego prądu elektrycznego wytwarza zmienne pole magnetyczne, inna dzięki zmiennemu polu magnetycznemu wytwarza przemienny prąd elektryczny). Transformator typowo służy do zmiany napięcia lub separacji galwanicznej obwodów.

\subsubsection{Rozłączanie cewki}

Jako że cewka jest elementem który dąży do zachowania płynącego przez niego prądu, to w przypadku rozwarcia obwodu zawierającego cewkę napięcie na niej będzie rosło i bez problemów może wielokrotnie przekroczyć napięcie zasilania.
Zobacz symulację: \url{http://ln.opcode.eu.org/cewka} (rozłącz przełącznik i zaobserwój co dzieje się z napięceim na cewce).
	% https://www.falstad.com/circuit/circuitjs.html?cct=%24+1+0.000005+12.050203812241895+46+5+50%0Av+96+336+96+144+0+0+40+5+0+0+0.5%0Ac+256+144+256+256+0+2e-8+2.185811780586783%0Ar+256+256+256+336+0+100%0Al+336+144+336+336+0+1+0.2814236307368567%0Aw+256+144+336+144+0%0Aw+336+336+256+336+0%0As+96+144+256+144+0+0+false%0Ar+96+336+256+336+0+10%0Ao+1+16+0+4354+640+0.00009765625+0+2+3+0%0A38+1+0+0.000009999999999999999+0.00101+Capacitance%0A
Zjawisko to bywa użyteczne i jest wykorzystywane w niektórych układach (np. przetwornicach podnoszących napięcie), ale często bywa też niepożądane, a nawet bardzo szkodliwe – może prowadzić do uszkadzania innych elementów w obwodzie (w szczególności elementu przełączającego).

Aby przeciwdziałać temu zjawisku można dołączyć równolegle do cewki odpowiednio mały opór, który pozwoli na rozładowanie się cewki.
Wadą takiego rozwiązania są straty związane z przewodzeniem przez ten rezystor w momencie gdy cewka jest zasilona.
Warto zauważyć że pojawiające się na cewce napięcie ma odwrotny znak (kierunek) niż spadek napięcia na tym elemencie w trakcie pracy.
Pozwala to na podłączenie równolegle z cewką elementu który przewodzi tylko w jednym kierunku\footnote{
	Nawet jeżeli element ten fizycznie jest obok elementu przełączającego powinien być podłączany równolegle do cewki a nie do elementu przełączającego.
}, w taki sposób aby w normalnym stanie nie przewodził, a po odłączeniu zasilania cewki pozwalał na jej rozładowanie.
Takim elementem jest dioda.

% END: Elektronika - intro

% BEGIN: Elektronika - Dioda
\section{Dioda}
\begin{teacherOnly}
	\begin{easylist}[itemize]
		& przewodzi w jednym kierunku
		& element nieliniowy -> łamie prawo Ohma
		& dioda prostownicza i dioda świecąca
			&& rezystor przy diodzie świecącej -> na diodzie stały spadek napięcia w kierunku przewodzenia
			&& dioda prostownicza – prostownik jedno połówkowy \url{http://ln.opcode.eu.org/prost1} i mostek prostowniczy \url{http://ln.opcode.eu.org/prost2} \todo{jako subsubsection}
				% https://www.falstad.com/circuit/circuitjs.html?cct=%24+1+0.000005+13.097415321081861+55+5+50%0Av+112+320+112+96+0+1+40+5+0+0+0.5%0Ar+416+96+416+320+0+640%0Ad+112+96+416+96+2+default%0Aw+112+320+416+320+0%0Ao+0+64+0+4102+5+0.0125+0+2+1+0%0A
				% https://www.falstad.com/circuit/circuitjs.html?cct=%24+1+0.000005+10.20027730826997+53+5+50%0Av+160+352+160+64+0+1+40+5+0+0+0.5%0Aw+160+64+304+64+0%0Aw+304+64+304+128+0%0Ad+304+128+368+192+2+default%0Ad+304+256+368+192+2+default%0Ad+240+192+304+128+2+default%0Ad+240+192+304+256+2+default%0Aw+304+256+304+352+0%0Aw+304+352+160+352+0%0Aw+240+192+240+288+0%0Aw+368+192+416+192+0%0Aw+240+288+416+288+0%0Ar+416+192+416+288+0+100%0Ax+463+248+557+251+4+20+load%0Ao+0+64+0+4098+5+0.05+0+2+12+0%0A
		& czy może przewodzić w drugą stronę -> dioda Zenera
		& dzielnik napięcia z diodą Zenera =>  \url{http://ln.opcode.eu.org/zener} \todo{jako subsubsection}
			%https://www.falstad.com/circuit/circuitjs.html?cct=%24+1+0.000005+10.20027730826997+54+5+50%0Az+336+288+336+160+3+default-zener%0Ag+336+288+336+304+0%0Aw+336+160+416+160+0%0Ar+416+224+416+288+0+1000%0Ag+416+288+416+304+0%0Ar+272+160+336+160+0+500%0As+416+160+416+224+0+1+false%0As+480+160+480+224+0+1+false%0Ag+480+288+480+304+0%0Ar+480+224+480+288+0+100%0Aw+416+160+480+160+0%0AR+272+160+192+160+0+0+40+11.68+0+0+0.5%0Aw+480+160+560+160+0%0Ap+560+160+560+288+1+0%0Ag+560+288+560+304+0%0A38+11+0+2+24+Voltage%0A
		& fotodioda
		& dioda LED jako detektor światła (jeżeli będzie czas!)
	\end{easylist}
\end{teacherOnly}

Dioda idealna to element przewodzący prąd tylko w jednym kierunku. Rzeczywiste diody przewodzą prąd zdecydowanie chętniej w jednym kierunku niż w drugim (na ogół przewodzenie w kierunku zaporowym się pomija) ponadto charakteryzują je cechy zależne od technologi wykonania takie jak:
\begin{itemize}
\item spadek napięcia w kierunku przewodzenia (typowo dla diod krzemowych 0.6V - 0.7V, a dla diod Schottky’ego 0.3V)
\item napięcie przebicia - napięcie, które przyłożone w kierunku zaporowym powoduje znaczące przewodzenie diody w tym kierunku - w większości przypadków parametr którego nie należy przekraczać, jednak wykorzystywane (i stanowiące ich parametr) w niektórych typach diod
\item maksymalny prąd przewodzenia
\item czas przełączania (związany głównie z pasożytniczą pojemnością złącza) - zdecydowanie krótszy (około 100 ps) w diodach Schottky’ego niż w diodach krzemowych,.
\end{itemize}

\begin{wrapfigure}{r}{0.3\textwidth}
  \begin{center}
    \includegraphics[width=0.25\textwidth]{img/elektronika/diody}
  \end{center}
\end{wrapfigure}

\noindent
Ponadto stosowane są m.in.:
\begin{itemize}
\item diody Zenera - wykorzystuje się (charakterystyczną dla danego typu) wartość napięcia przebicia do uzyskania w układzie spadku napięcia o tej wartości,
\item diody świecące (LED) - emitujące światło w trakcie przewodzenia (na elemencie występuje stały spadek napięcia, jasność zależy od natężenia prądu),
\item fotodiody - będące detektorami oświetlenia (przewodzenie spolaryzowanej w kierunku zaporowym zależy od ilości padającego na element światła, niespolaryzowana pod wpływem oświetlenia staje się źródłem prądu).
\end{itemize}

\begin{ProTip}{{\Symbola ❢} PAMIĘTAJ {\Symbola ❢}}
Dioda jest elementem dla którego nie jest spełnione prawo Ohma. Dioda charakteryzuje się prawie stałym spadkiem napięcia w kierunku przewodzenia.

\vspace{5pt}
Dlatego, jeżeli do diody przyłożymy napięcie większe od jej napięcia przewodzenia (np. do czerwonej diody LED o spadku około 1.7V przyłożymy napięcie 5V) przez układ taki popłynie bardzo duży prąd (często równy prądowi zwarciowemu naszego źródła), co doprowadzi do zniszczenia diody. Zobacz symulację: \url{http://ln.opcode.eu.org/led}
	% https://www.falstad.com/circuit/circuitjs.html?cct=%24+1+0.000005+10.20027730826997+50+1+50%0A172+336+176+336+128+0+7+3.5300000000000002+5+-2+0+0.5+Voltage%0Aw+336+320+336+352+1%0Ag+336+352+336+368+0%0Ad+336+256+336+320+2+default-led%0Ar+336+176+336+256+0+1000%0Aw+336+256+400+256+0%0Aw+336+320+400+320+0%0Ap+400+256+400+320+1+0%0Aw+336+176+400+176+0%0As+400+176+400+256+0+1+false%0A

\vspace{5pt}
Dlatego diody podłączamy prawie zawsze\footnote{Istotnymi wyjątkami są: prostownik (gdzie rolę tego rezystora pełni obciążenie) oraz zasilanie diody ze źródła prądowego.} z szeregowym rezystorem służącym do ograniczenia prądu.
\end{ProTip}

\begin{Zadanie}{}{}
Wróć do symulacji związanej z cewką \url{http://ln.opcode.eu.org/cewka} i spróbuj dodać diodę równolegle do cewki taki sposób aby wyeliminować powstawanie przepięć.
Zobacz też że dodanie diody równolegle z elementem przełączającym nie pozwala na rozwiązanie problemu.
\end{Zadanie}

\begin{Zadanie}{}{}
\noindent\begin{minipage}[b]{0.7\textwidth}
Zbuduj układ przedstawiony na schemacie i zaobserwować że dla różnych napięć wejściowych (z zakresu 5-13V) na diodzie świecącej występuje stały spadek napięcia.
Zaobserwuj że zmianie ulega wartość prądu płynącego w takim obwodzie i że wynika ona z napięcia odłożonego na rezystorze i wartości jego rezystancji).
\end{minipage}
\hfill
\begin{minipage}[b]{0.25\textwidth}
\includegraphics[width=\textwidth]{img/elektronika/zad2}\vspace{0.5cm}
\end{minipage}
\end{Zadanie}

\begin{Zadanie}{}{}
\noindent\begin{minipage}[b]{0.6\textwidth}
Zbuduj układ przedstawiony na schemacie (nazywany mostkiem Gretza) i zauważ że polaryzacja wyjścia (podłączonego do woltomierza) jest niezależna od polaryzacji wejścia (czyli od tego czy biegun dodatni będzie przyłączony do in1 czy in2, a ujemny odpowiednio in2 lub in1).
\end{minipage}
\hfill
\begin{minipage}[b]{0.35\textwidth}
\includegraphics[width=\textwidth]{img/elektronika/zad3}
\end{minipage}
\end{Zadanie}
% END: Elektronika - Dioda

% BEGIN: Elektronika - Tranzystory
\section{Tranzystory}

\begin{teacherOnly}
	\begin{easylist}[itemize]
	& tranzystor bipolarny
		&& przewodzenie regulowane napięciem baza - emiter (NPN)
		&& praca w trybie klucza (stan nasycenia i zatkania) => \url{http://ln.opcode.eu.org/npn}
			% https://www.falstad.com/circuit/circuitjs.html?cct=%24+1+0.000005+10.634267539816555+43+2+50%0Aw+352+256+352+304+1%0Aw+352+224+352+176+1%0Ag+352+304+352+320+0%0At+304+240+352+240+0+1+0.5443348655921529+0.6600527943196096+100%0Aw+240+240+304+240+1%0Ar+160+240+240+240+0+10000%0Ar+352+112+352+176+0+1005%0Aw+352+176+464+176+2%0AR+352+112+352+64+0+0+40+12+0+0+0.5%0AR+96+224+48+224+0+0+40+3.25+0+0+0.5%0Aw+160+240+160+288+0%0Aw+240+240+240+288+0%0As+160+288+240+288+0+1+false%0AS+160+240+96+240+0+1+false+0+2%0Ag+96+256+96+272+0%0A38+6+0+10+2000+Obci%C4%85%C5%BCenie%0A38+9+0+0+5+Vin%0A
		&& praca jako wzmacniacz => POKAZAĆ w tym samym układzie co klucz i powiedzieć dlaczego tak się nie używa (rozrzut bety)
		&& rezystor bazy - po co jest? analogia do diody
		&& NPN i PNP - różnice w sposobie sterowania => różnice w zastosowaniach, \url{http://ln.opcode.eu.org/pnp}
			% https://www.falstad.com/circuit/circuitjs.html?cct=%24+1+0.000005+10.634267539816555+43+2+50%0Aw+320+176+320+224+1%0Aw+320+144+320+96+1%0Ag+320+288+320+304+0%0Aw+208+160+272+160+1%0Ar+128+160+208+160+0+10000%0Aw+320+224+432+224+2%0AR+320+96+320+48+0+0+40+12+0+0+0.5%0AR+64+176+16+176+0+0+40+5+0+0+0.5%0Aw+128+160+128+208+0%0Aw+208+160+208+208+0%0As+128+208+208+208+0+1+false%0AS+128+160+64+160+0+1+false+0+2%0Ar+320+224+320+288+0+1005%0At+272+160+320+160+0+-1+11.999999998799002+-9.999983063835316e-10+100%0AR+64+144+16+144+0+0+40+12+0+0+0.5%0A38+7+0+0+5+Vin%0A
	& inne rodzaje tranzystorów - (MOS)FET
		&& typy (N- vs P- oraz wzbogacony vs zubożony) i sposób sterowania => \url{http://ln.opcode.eu.org/mosfet}
			% https://www.falstad.com/circuit/circuitjs.html?cct=%24+1+0.000005+10.634267539816555+50+5+50%0Ar+240+144+240+304+0+300%0Aw+240+336+240+352+0%0Af+192+320+240+320+0+1.5+0.02%0AR+368+144+368+96+0+0+40+12+0+0+0.5%0Ag+240+352+240+368+0%0AS+192+320+128+320+0+1+false+0+2%0AR+128+304+80+304+0+0+40+5+0+0+0.5%0Ag+128+336+128+368+0%0Af+448+224+496+224+33+1.5+0.02%0Aw+496+144+496+208+0%0Ar+496+240+496+352+0+300%0Ag+496+352+496+368+0%0Aw+240+144+368+144+0%0Aw+368+144+496+144+0%0AR+384+208+336+208+0+0+40+12+0+0+0.5%0AS+448+224+384+224+0+1+false+0+2%0AR+384+240+336+240+0+0+40+5+0+0+0.5%0A
		&& izolowana bramka - sterowanie z 3 pozycyjnego przełącznika 5V NC 0V (zapytać o stan NC) => \textbf{POKAZAĆ} że zostaje w stanie w jakim był, dlatego często sterowanie z pół-mostka, wspomnieć o ESD
	& mostek i pół-mostek H (w oparciu o schemat z switchami) \todo{jako subsubsection}
		&& \url{http://ln.opcode.eu.org/mostek}
			% https://www.falstad.com/circuit/circuitjs.html?cct=%24+1+0.000005+10.20027730826997+50+5+43%0As+384+128+384+192+0+1+false%0As+512+128+512+192+0+1+false%0As+512+256+512+320+0+1+false%0As+384+256+384+320+0+1+false%0Aw+384+192+384+224+0%0Ap+384+224+512+224+1+0%0Aw+512+224+512+192+0%0Aw+512+224+512+256+0%0Aw+384+224+384+256+0%0Ag+384+320+384+336+0%0Ag+512+320+512+336+0%0AR+448+96+448+64+0+0+40+5+0+0+0.5%0Aw+448+96+448+128+0%0Aw+448+128+512+128+0%0Aw+448+128+384+128+0%0Aw+224+128+160+128+0%0Aw+224+96+224+128+0%0AR+224+96+224+64+0+0+40+5+0+0+0.5%0Ag+160+320+160+336+0%0Aw+160+224+160+256+0%0Aw+160+192+160+224+0%0As+160+256+160+320+0+1+false%0As+160+128+160+192+0+1+false%0Aw+160+224+224+224+2%0A
		&& do czego służy cały (silniki), a do czego można użyć pół (wyjście o ustalonych poziomach)?
	& wspomnieć o triakach – przełączanie w obwodach AC \todo{jako ramka?}
	\end{easylist}
\end{teacherOnly}

Tranzystor jest to element o regulowanym elektrycznie przewodzeniu prądu (oporze), często wykorzystywany do wzmacniania sygnałów lub jako przełącznik elektroniczny (klucz tranzystorowy).
Klucz jest układem przełączającym wykorzystującym dwa skrajne stany pracy tranzystora - zatkania (tranzystor nie przewodzi), nasycenia (tranzystor przewodzi z minimalnymi ograniczeniami).

\subsection{NPN}
Prąd przepływający pomiędzy kolektorem a emiterem jest funkcją prądu przepływającego pomiędzy bazą a emiterem: $I_C = \beta I_B$.
Napięcie pomiędzy kolektorem a emiterem wynosi: $U_{CE} = U_{zasilania} - I_C \cdot R_{load}$.
Napięcie to nie może jednak spaść poniżej wartości minimalnej wynoszącej około 0.2V, gdy z powyższych zależności wynikałby taki spadek to tranzystor pracuje w stanem nasycenia i $U_{CE} \approx 0.2V$.

\begin{wrapfigure}{r}{0.55\textwidth}
  \begin{center}
    \includegraphics[width=0.5\textwidth]{img/elektronika/npn_pnp}
    \vspace{-20pt}
  \end{center}
\end{wrapfigure}

Aby wprowadzić tranzystor NPN w stan zatkania należy podać na jego bazę potencjał mniejszy lub równy potencjałowi emitera (zakładamy że potencjał kolektora jest nie mniejszy niż emitera - co ma miejsce w typowych warunkach polaryzacji tranzystora NPN), czyli $U_{BE} \leq 0$.

Aby wprowadzić tranzystor NPN w stan nasycenia należy na jego bazę wprowadzić potencjał większy od potencjałów emitera i kolektora, uzyskuje się to poprzez wprowadzenie do tranzystora prądu bazy $I_B \gg \frac{U_{zasilania}}{\beta R_{load}}$.

\subsection{PNP}
Podobnie jak w NPE tyle że prąd przepływający pomiędzy emiterem a kolektorem jest funkcją prądu przepływającego pomiędzy emiterem a bazą.

Aby wprowadzić tranzystor PNP w stan zatkania należy podać na jego bazę potencjał większy lub równy potencjałowi emitera (zakładamy że potencjał emitera jest nie mniejszy niż kolektora - co ma miejsce w typowych warunkach polaryzacji tranzystora PNP), czyli $U_{BE} \geq 0$.

Aby wprowadzić tranzystor PNP w stan nasycenia należy na jego bazę wprowadzić potencjał mniejszy od potencjałów emitera i kolektora, uzyskuje się to poprzez wyprowadzenie z tranzystora prądu bazy $I_B \gg \frac{U_{zasilania}}{\beta R_{load}}$.

\subsection{N-MOSFET}

\begin{wrapfigure}{r}{0.7\textwidth}
  \begin{center}
    \vspace{-40pt}
    \includegraphics[width=0.65\textwidth]{img/elektronika/mosfet}
    \vspace{-20pt}
  \end{center}
\end{wrapfigure}

Prąd przepływający pomiędzy drenem (\emph{drain}) a źródłem (\emph{source}) jest funkcją napięcia pomiędzy bramką (\emph{gate}) a źródłem (potencjału bramki względem źródła - $U_{GS}$), bramka jest izolowana (nie płynie przez nią prąd).

W kierunku dren → źródło tranzystor ten przewodzi gdy $U_{GS} > U_{GS (th)}$, natomiast w przeciwnym kierunku przewodzi zawsze. Dla tranzystorów N-MOSFET z kanałem wzbogacanym (\emph{enhancement}) $U_{GS (th)} > 0$, a z kanałem zubożonym (\emph{depletion}) $U_{GS (th)} < 0$.

Konkretna wartość $U_{GS (th)}$ zależna jest od konkretnego modelu tranzystora, innym istotnym parametrem związanym z sterowaniem tranzystorem jest maksymalna i minimalna dopuszczalna wartość napięcia $U_{GS}$.

Aby wprowadzić tranzystor MOSFET w stan zatkania należy podać $U_{GS} < U_{GS (th)}$. Dla tranzystorów:
\begin{itemize}
\item N-MOSFET z kanałem wzbogaconym wystarczy obniżyć potencjał bramki do wartości niewiele wyższej niż potencjał źródła
\item N-MOSFET z kanałem zubożonym musi to być wartość poniżej potencjału źródła.
\end{itemize}
Aby wprowadzić tranzystor MOSFET w stan przewodzenia należy podać $U_{GS} \gg U_{GS (th)}$.

\subsection{P-MOSFET}
Podobnie jak N-MOSFET tyle że:
\begin{itemize}
\item regulowane jest przewodzenie w kierunku źródło → dren (a w kierunku dren → źródło przewodzi zawsze),
\item przewodzenie w kierunku źródło → dren ma miejsce gdy $U_{GS} < U_{GS (th)}$,
\item dla tranzystorów z kanałem wzbogacanym (\emph{enhancement}) $U_{GS (th)} < 0$, a z kanałem zubożonym (\emph{depletion}) $U_{GS (th)} > 0$.
\end{itemize}

Aby wprowadzić tranzystor MOSFET w stan zatkania należy podać $U_{GS} < U_{GS (th)}$. Dla tranzystorów:
\begin{itemize}
\item P-MOSFET z kanałem zubożonym wystarczy obniżyć potencjał bramki do wartości niewiele wyższej niż potencjał źródła
\item P-MOSFET z kanałem wzbogaconym musi to być wartość poniżej potencjału źródła.
\end{itemize}
Aby wprowadzić tranzystor MOSFET w stan przewodzenia należy podać $U_{GS} \gg U_{GS (th)}$.
% END: Elektronika - Tranzystory

\teacher{\vspace{8pt}\noindent Omówić mostek H oraz półmostek H}

% \begin{Zadanie}{}{}
% \fixme{Zbuduj układ stabilizacji napięcia w oparciu o diodę Zenera i tranzystor. Zastanów się nad sposobem działania tego układu – w tym celu dokonaj pomiarów napięcia wyjściowego oraz napięcia na bazie tranzystora w zależności od napięcia wejściowego}
% \end{Zadanie}
% 
% \fixme{zadania dodatkowe: stabilizator z diodą zenera, stabilizator z zenerem i tranzystorem, mostek prostowniczy, budowa bramki z tranzystorów}

\begin{Zadanie}{}{}
Narysuj schemat układu półmostka H z zastosowaniem tranzystorów bipolarnych (NPN i PNP) jako elementów przełączających.
\end{Zadanie}

\teacher{\vspace{8pt}\noindent Wspomnieć o triakach - przełączanie w obwodach AC}

% % \noindent\begin{minipage}[t]{0.7\textwidth}
% % \begin{Zadanie}{}{}
% % \todo{Tranzystor jako klucz.}
% % \end{Zadanie}
% % \end{minipage}
% % \hfill
% % \begin{minipage}[t]{0.25\textwidth}
% % \vspace{-10pt}
% % \includegraphics[width=\textwidth]{img/elektronika/zad4}
% % \end{minipage}

% \begin{teacherOnly}
% \noindent\begin{minipage}[t]{0.6\textwidth}
% \strong{POKAZ: tranzystor jako klucz}\\
% Pokazać i wyjasnić działanie układu pokazanego na schemacie. Pokazać jak zmienia się prąd w obwodzie i spadek napięcia w zależności od nastawy potencjometru.
% 
% Pozrozmawiać o sterowaniu cewką - dioda zabezpieczająca.
% \end{minipage}
% \hfill
% \begin{minipage}[t]{0.35\textwidth}
% \vspace{-10pt}
% \includegraphics[width=\textwidth]{img/elektronika/zad4-pokaz}
% \end{minipage}
% \end{teacherOnly}

\begin{teacherOnly}
\noindent\begin{minipage}[t]{0.6\textwidth}
\strong{POKAZ: LED jako detektor światła}\\
Wcześniej można pokazać poniższy schemat (bez podpisu "detektor" prz D1) i poprosić aby spróbować odgadnąć co on może robić.
Następnie omówić działanie układu, pokazać na pojedynczym LED że oświetlenie powoduje pojawienie się napięcia i pokazać że ten układ działa.
\end{minipage}
\hfill
\begin{minipage}[t]{0.35\textwidth}
\vspace{-10pt}
\includegraphics[width=\textwidth]{img/elektronika/detektor_na_LED}
\end{minipage}
\end{teacherOnly}

\clearpage

\begin{teacherOnly}
	\begin{easylist}[itemize]
	& elektronika cyfrowa - podstawy
		&& algebra bool'a, NKB
		&& poziomy logiczne TTL, logika odwrócona
		&& bramki logiczne, symbole, \url{http://ln.opcode.eu.org/bramki}
			% https://www.falstad.com/circuit/circuitjs.html?cct=%24+1+0.000005+1.500424758475255+50+5+50%0AM+96+176+144+176+0+2.5%0AL+-32+160+-48+160+0+0+false+5+0%0AL+96+368+80+368+0+0+false+5+0%0A150+-32+176+96+176+0+2+0+5%0A152+-32+256+96+256+0+2+0+5%0A154+96+352+224+352+0+2+0+5%0AI+96+80+224+80+0+0.5+5%0AM+96+256+144+256+0+2.5%0AM+224+352+272+352+0+2.5%0AL+96+80+80+80+0+0+false+5+0%0AM+224+80+272+80+0+2.5%0AL+-32+192+-48+192+0+0+false+5+0%0AL+-32+240+-48+240+0+0+false+5+0%0AL+-32+272+-48+272+0+0+false+5+0%0AL+96+336+80+336+0+0+false+5+0%0A151+240+176+368+176+0+2+5+5%0A153+240+256+368+256+0+2+5+5%0AL+240+240+224+240+0+0+false+5+0%0AL+240+272+224+272+0+0+false+5+0%0AL+240+192+224+192+0+0+false+5+0%0AL+240+160+224+160+0+0+false+5+0%0AM+368+176+416+176+0+2.5%0AM+368+256+416+256+0+2.5%0A
		&& bufor (wyjście) trójstanowe -> do czego to służy -> kilka układów nadających do wspólnej magistrali => \url{http://ln.opcode.eu.org/ster}
			% https://www.falstad.com/circuit/circuitjs.html?cct=%24+1+0.000005+1.500424758475255+50+5+50%0As+16+160+80+160+0+0+false%0Aw+80+160+112+160+0%0Aw+80+272+112+272+0%0As+16+272+80+272+0+1+false%0As+16+384+80+384+0+1+false%0Aw+80+384+112+384+0%0Aw+112+272+176+272+2%0Aw+112+160+112+272+1%0Aw+112+272+112+384+1%0Ar+-48+160+16+160+0+0.001%0Ar+-48+272+16+272+0+0.001%0Ar+-48+384+16+384+0+0.001%0AR+432+208+384+208+0+0+40+0.5+0+0+0.5%0AR+512+80+512+48+0+0+40+5+0+0+0.5%0At+400+176+432+176+0+1+-4.499999993000001+9.999999717180685e-10+100%0Ar+336+176+400+176+0+10000%0Aw+432+192+432+208+0%0AL+336+176+320+176+0+1+false+0.5+5%0Aw+432+288+432+304+0%0Ar+336+272+400+272+0+10000%0At+400+272+432+272+0+1+-4.499999993000001+9.999999717180685e-10+100%0Aw+432+160+512+160+0%0Aw+432+256+512+256+0%0Ar+512+160+512+80+0+10000%0Aw+512+160+512+256+0%0Aw+512+256+576+256+2%0AL+336+272+320+272+0+1+false+0.5+5%0AL+-48+160+-64+160+0+1+false+5+0.5%0AL+-48+272+-64+272+0+0+false+5+0.5%0AL+-48+384+-64+384+0+0+false+5+0.5%0AL+336+368+320+368+0+1+false+0.5+5%0Aw+432+352+512+352+0%0At+400+368+432+368+0+1+-4.499999993000001+9.999999717180685e-10+100%0Ar+336+368+400+368+0+10000%0Aw+432+384+432+400+0%0Aw+512+256+512+352+0%0AR+432+304+384+304+0+0+40+0.5+0+0+0.5%0AR+432+400+384+400+0+0+40+0.5+0+0+0.5%0A
		&& wyjścia open colektor/drain -> wymuszenie niskiego stanu linii przez jeden z elementów
		&& jak działa bramka - zacząć od NOT'a (półmostek, \url{http://ln.opcode.eu.org/not}), następnie NAND (\url{http://ln.opcode.eu.org/nand}) lub NOR (\url{http://ln.opcode.eu.org/nor}) z analizą działania i ustaleniem co to za bramka, wspomnieć dlaczego elektronika lubi bramki zanegowane (bo takie wychodzą)
			% https://www.falstad.com/circuit/circuitjs.html?cct=%24+0+0.000005+10.20027730826997+50+5+50%0Af+208+176+272+176+1+1.5+0.02%0Af+208+272+272+272+0+1.5+0.02%0Aw+272+192+272+224+0%0Aw+272+224+272+256+0%0Aw+208+176+208+224+0%0Aw+208+224+208+272+0%0AL+208+224+160+224+0+1+false+5+0%0AM+272+224+336+224+0+2.5%0AR+272+160+272+112+0+0+40+5+0+0+0.5%0Ag+272+288+272+320+0%0A;
			% https://www.falstad.com/circuit/circuitjs.html?cct=%24+0+0.000005+10.20027730826997+50+5+50%0Af+288+128+352+128+1+1.5+0.02%0Af+288+224+352+224+0+1.5+0.02%0Aw+352+144+352+176+0%0Aw+352+176+352+208+0%0AM+352+176+416+176+0+2.5%0Af+288+288+352+288+0+1.5+0.02%0Aw+352+240+352+272+0%0Ag+352+304+352+336+0%0Aw+288+128+288+224+0%0Af+192+128+256+128+1+1.5+0.02%0Aw+256+80+256+112+0%0Aw+256+80+352+80+0%0Aw+352+80+352+112+0%0AR+256+80+192+80+0+0+40+5+0+0+0.5%0Aw+192+128+192+288+0%0Aw+192+288+288+288+0%0AL+288+224+128+224+0+1+false+5+0%0AL+192+288+128+288+0+1+false+5+0%0Aw+256+144+256+176+0%0Aw+256+176+352+176+0%0A;
			% https://www.falstad.com/circuit/circuitjs.html?cct=%24+0+0.000005+10.20027730826997+50+5+50%0Af+272+144+336+144+1+1.5+0.02%0Aw+336+160+336+192+0%0AR+336+128+336+80+0+0+40+5+0+0+0.5%0Af+272+208+336+208+1+1.5+0.02%0Aw+336+224+336+240+0%0Aw+176+144+272+144+0%0AL+176+144+128+144+0+0+false+5+0%0AL+272+208+128+208+0+0+false+5+0%0Aw+336+240+336+256+0%0Aw+336+256+336+272+0%0Aw+240+256+240+272+0%0Aw+176+144+176+304+0%0Aw+272+208+272+304+0%0Ag+336+320+336+352+0%0Ag+240+320+240+352+0%0Aw+240+256+336+256+0%0Aw+240+272+240+288+0%0Af+176+304+240+304+0+1.5+0.02%0AM+336+256+400+256+0+2.5%0Af+272+304+336+304+0+1.5+0.02%0Aw+336+272+336+288+0%0A;
	\end{easylist}
\end{teacherOnly}

% BEGIN: Elektronika - Bramki
\section{Bramki}
\begin{wrapfigure}{r}{0.7\textwidth}
  \begin{center}
    \vspace{-40pt}
    \includegraphics[width=0.65\textwidth]{img/elektronika/bramki}
    \vspace{-20pt}
  \end{center}
\end{wrapfigure}

Bramki są układami elektronicznymi realizującymi podstawowe, opisane powyżej funkcje logiczne. Obok zostały przedstawione podstawowe symbole poszczególnych bramek w wariancie dwu wejściowym, spotkać się można także z symbolami z zanegowanymi wejściami - w takiej konwencji np. bramka AND reprezentowana jest przez NOR z zanegowanymi wejściami. Bramki (z wyjątkiem buforów oraz bramki NOT), mogą występować także w wariantach wielo-wejściowych (ze względu na łączność podstawowych operacji nie ma wątpliwości co don wyniku jaki powinna dawać np. 8 wejściowa bramka OR). Na ogół w pojedynczym układzie scalonym znajduje się kilka jednakowych bramek.

\begin{Zadanie}{}{}
\noindent\begin{minipage}[t]{\textwidth}
	\noindent\parbox[b]{0.7\textwidth}{
		Otrzymałeś układ logiczny w obudowie DIP14, o układzie wyprowadzeń pokazanym na rysunku obok\footnote{
			Warto zauważyć że sposób numerowania pinów jest standardowy dla danego typu obudowy, natomiast funkcje poszczególnych pinów różnią się w zależności od danego układu i są opisywane w jego dokumentacji).
		}.
		Nóżki numer 10 i 9 są wejściami pewnej bramki logicznej, której wyjście jest na nóżce numer 8. Sporządź tablicę prawdy dla tej bramki i zidentyfikuj co to za bramka.
		\vspace{0.25cm}
	}\hfill\parbox[b]{0.25\textwidth}{
		\includegraphics[height=0.22\textwidth,angle=90,origin=c]{img/elektronika/DIP14-zadanie}
		\vspace{-0.5cm}
	}
\end{minipage}
\end{Zadanie}

\subsection{trój-stanowe}
Typowa bramka wymusza (w sposób silny) na swoim wyjściu stan wysoki lub niski, co uniemożliwia bezpośrednie łączenie wyjść bramek.
Bramki trój-stanowe mają możliwość skonfigurowania wyjścia w stan \emph{wysokiej impedancji} czyli nie wymuszania żadnej jego wartości.
Sterowanie załączeniem bądź wyłączeniem wyjścia (przełączeniem w stan wysokiej impedancji) odbywa się przy pomocy zewnętrznego sygnału sterującego "output enabled" ("OE"), sygnał ten może występować w postaci prostej i zanegowanej.
Pozwala to na podłączanie do jednej linii wielu bramek i decydowaniu która z nich będzie nią sterować.

\begin{wrapfigure}{r}{0.7\textwidth}
  \begin{center}
    \vspace{-40pt}
    \includegraphics[width=0.65\textwidth]{img/elektronika/open_drain}
    \vspace{-20pt}
  \end{center}
\end{wrapfigure}
\subsection{open collector / drain}
Są kolejnym rodzajem bramek których wyjścia można podłączać do wspólnej linii. Układy te posiadają wyjście w postaci tranzystora zwierającego linię wyjściową do masy, z tego względu samodzielnie zapewniają jedynie stan niski wyjścia (są w stanie wymusić stan niski, ale nie mają możliwości wymuszenia stanu wysokiego).

Stan wysoki musi zostać zapewniony zewnętrznym rezystorem podciągającym. Pozwala to stosować na takiej linii inny poziom stanu wysokiego niż na wejściach takiej bramki oraz pozwala na sterowanie wspólnej linii przez wiele bramek (czyli łączenie wyjść bramek, jednak w odróżnieniu od bramek trój-stanowych nie wymaga dodatkowych sygnałów sterujących).

Na schemacie obok przedstawiono dwa układy (U1 i U2) typu open-drain sterujące wspólną linią wyjściową w układzie \emph{suma na drucie}. Jeżeli jeden z podłączonych do linii układów będzie miał wewnętrzne wyjście ("ctrl\textit{X}") w stanie wysokim to jego wyjście OC będzie zwarte do masy (negacja na tranzystorze N-MOS lub NPN), wtedy też cała linia będzie w stanie niskim.


\begin{wrapfigure}{r}{0.61\textwidth}
  \begin{center}
    \vspace{-45pt}
    \includegraphics[width=0.59\textwidth]{img/elektronika/bramki_cmos}
    \vspace{-35pt}
  \end{center}
\end{wrapfigure}
\subsection{budowa wewnętrzna}
Przedstawiony powyżej układ sumy na drucie jest bardzo prostą (jedno tranzystorową) realizacją bramki logicznej realizującą funkcję logiczną NOT OR (z punktu widzenia wejść \textit{ctrl1} i \textit{ctrl2} oraz wyjścia \textit{Out}).
W podobny sposób można zrealizować bramkę AND (negując wejścia, np. przy pomocy jednego traznzystora).
Jeszcze bardziej uproszczoną realizację można uzyskać stosując diody pozwalające na wpływanie prądu do węzła (funkcja OR) lub wypływanie z niego (funkcja AND).

Po prawej przedstawione zostały schematy ideowe inwertera, dwóch podstawowych bramek (NOR i NAND) oraz bramki transmisyjnej (bufora 3 stanowego) w technologii CMOS.

Działanie tych bramek (za wyjątkiem transmisyjnej) polega na otwieraniu tranzystorów podłączonych do napięcia które chcemy otrzymać na wyjściu, a zamykaniu prowadzących do napięcia przeciwnego. W szczególności bramka NOT stanowi pół-mostek H pomiędzy stanem wysokim a stanem niskim.

Dzięki zastosowaniu tranzystorów PMOS polaryzowanych Vdd oraz NMOS polaryzowanych GND obie gałęzie operują na tym samym sygnale wejściowym (nie jest wymagana jego negacja). Szeregowe łączenie tranzystorów zapewnia że należy otworzyć oba aby otworzyć daną drogę, a równoległe że otwarcie danej drogi powodowane jest otwarciem pojedynczego tranzystora. Dzięki zastosowaniu technologi MOS i podłączaniu wejść bramki tylko do bramek tranzystorów wejścia praktycznie nie pobierają prądu (istotnym wyjątkiem jest chwila zmiany sygnału).

Działanie bramki transmisyjnej polega na przepuszczaniu lub nie (w zależności od stanu wejścia sterującego) sygnału z wejścia na wyjście. Bramka taka nie regeneruje sygnału. Ponadto w uproszczonym (jedno tranzystorowym) rozwiązaniu prowadzi ona do degradacji sygnału wartość w przybliżeniu równą napięciu progowemu tranzystora. Dlatego też na ogół występuje wraz z bramką NOT (bufor 3 stanowy z negacją) lub dwiema szeregowo połączonymi bramkami NOT (bufor 3 stanowy bez negacji).

\begin{Zadanie}{}{}
Spróbuj zbudować własną bramkę logiczną w oparciu o tranzystory NPN i PNP. Pamiętaj że w odróżnieniu od pokazanych na powyższym schemacie tranzystorów NMOS i PMOS wymagane jest stosowanie rezystora na bramce.
\end{Zadanie}
% END: Elektronika - Bramki

% BEGIN: Elektronika - Przerzutniki i rejestry
\section{Przerzutniki i rejestry}

\begin{teacherOnly}
	\begin{easylist}[itemize]
	& elektronika cyfrowa - rejestry i magistrale
		&& przerzutnik jako podstawowa jednostka pamięci 
			&&& zatrzask RS => konstrukcję z 2 NAND (\url{http://ln.opcode.eu.org/rs})
			&&& chcemy zapamiętywać sygnał w określonym momencie a nie tylko mieć osobne sygnały ,,zapamiętaj 1'', ,,zapamiętaj '' => wejścia D i CLK
				&&&& zatrzask D => \url{http://ln.opcode.eu.org/zatrzask1}
					% https://www.falstad.com/circuit/circuitjs.html?cct=%24+1+0.000005+10.20027730826997+50+5+50%0A151+192+160+288+160+0+2+5+5%0A151+192+272+288+272+0+2+0+5%0Aw+192+176+192+192+0%0Aw+192+256+192+240+0%0Aw+288+240+288+272+0%0Aw+288+240+192+192+0%0Aw+288+192+288+160+0%0Aw+288+192+192+240+0%0A151+80+144+192+144+0+2+0+5%0A151+80+288+192+288+0+2+5+5%0AM+288+160+352+160+0+2.5%0AM+288+272+352+272+0+2.5%0Aw+80+160+80+304+0%0AI+48+128+48+272+0+0.5+5%0Aw+48+128+80+128+0%0Aw+48+272+80+272+0%0AL+48+128+48+96+0+1+false+5+0%0Ax+39+62+57+65+4+24+D%0AR+80+304+48+304+1+2+10+2.5+2.5+0+0.5%0Ao+16+64+0+4102+5+0.00009765625+0+2+16+3+D%0Ao+10+64+0+4102+5+0.00009765625+0+1+Q%0Ao+18+64+0+4102+5+0.00009765625+0+2+18+3+clk%0A
				&&&& zatrzask vs przerzutnik
				&&&& przerzutnik z dwóch zatrzasków => \url{http://ln.opcode.eu.org/zatrzask2}
					% https://www.falstad.com/circuit/circuitjs.html?cct=%24+1+0.000005+10.20027730826997+50+5+50%0A151+448+160+544+160+0+2+5+5%0A151+448+272+544+272+0+2+0+5%0Aw+448+240+448+256+0%0Aw+448+176+448+192+0%0Aw+544+240+544+272+0%0Aw+544+240+448+192+0%0Aw+544+160+544+192+0%0Aw+544+192+448+240+0%0A151+336+144+448+144+0+2+0+5%0A151+336+288+448+288+0+2+5+5%0A151+192+160+288+160+0+2+5+5%0A151+192+272+288+272+0+2+0+5%0Aw+336+128+288+128+0%0Aw+288+128+288+160+0%0Aw+288+272+336+272+0%0Aw+192+176+192+192+0%0Aw+192+256+192+240+0%0Aw+288+240+288+272+0%0Aw+288+240+192+192+0%0Aw+288+192+288+160+0%0Aw+288+192+192+240+0%0A151+80+144+192+144+0+2+5+5%0A151+80+288+192+288+0+2+5+5%0AI+80+352+320+352+0+0.5+5%0AM+544+160+608+160+0+2.5%0AM+544+272+608+272+0+2.5%0Ax+536+130+555+133+4+24+Q%0Ax+536+321+555+324+6+24+Q%0Aw+80+160+80+304+0%0Aw+80+304+80+352+0%0AI+48+128+48+272+0+0.5+5%0Aw+48+128+80+128+0%0Aw+48+272+80+272+0%0AL+48+128+48+96+0+1+false+5+0%0Ax+39+62+57+65+4+24+D%0AR+80+352+48+352+1+2+20+2.5+2.5+0+0.5%0Ax+291+113+307+116+4+24+X%0Aw+320+352+320+304+0%0Aw+320+304+336+304+0%0Aw+320+304+320+160+0%0Aw+320+160+336+160+0%0Ao+33+64+0+4102+5+0.00009765625+0+2+33+3+D%0Ao+12+64+0+4102+5+0.00009765625+0+2+12+3+X%0Ao+24+64+0+4102+5+0.00009765625+0+1+Q%0Ao+35+64+0+4102+5+0.00009765625+0+2+35+3+clk%0A
		&& rejestr równoległy, szeregowy, ... => \url{http://ln.opcode.eu.org/rejestr1}, \url{http://ln.opcode.eu.org/rejestr2}, \url{http://ln.opcode.eu.org/rejestr3}
			% https://www.falstad.com/circuit/circuitjs.html?cct=%24+1+0.000005+10.20027730826997+50+5+50%0A155+64+-16+112+-16+0+0%0A155+64+96+96+96+0+0%0A155+64+320+96+320+0+0%0A155+64+208+112+208+0+0%0AL+64+-16+-80+-16+0+0+false+5+0%0AL+64+96+-80+96+0+0+false+5+0%0AL+64+208+-80+208+0+0+false+5+0%0AL+64+320+-80+320+0+0+false+5+0%0Aw+64+16+32+16+0%0Aw+32+16+32+128+0%0Aw+32+128+64+128+0%0Aw+32+128+32+240+0%0Aw+32+240+64+240+0%0Aw+32+240+32+352+0%0Aw+32+352+64+352+0%0Aw+32+352+32+400+0%0AL+32+400+-80+400+0+0+false+5+0%0AM+160+-16+240+-16+0+2.5%0AM+160+96+240+96+0+2.5%0AM+160+208+240+208+0+2.5%0AM+160+320+240+320+0+2.5%0A;
			% https://www.falstad.com/circuit/circuitjs.html?cct=%24+1+0.000005+10.20027730826997+50+5+50%0A155+-224+-16+-176+-16+0+0%0A155+-96+96+-64+96+0+0%0A155+160+320+192+320+0+0%0A155+32+208+80+208+0+0%0AL+-224+-16+-368+-16+0+0+false+5+0%0Aw+-224+16+-256+16+0%0Aw+-256+16+-256+128+0%0Aw+-256+128+-96+128+0%0Aw+-256+128+-256+240+0%0Aw+-256+240+32+240+0%0Aw+-256+240+-256+352+0%0Aw+-256+352+160+352+0%0Aw+-256+352+-256+400+0%0AL+-256+400+-368+400+0+0+false+5+0%0AM+-96+-16+-48+-16+0+2.5%0AM+32+96+80+96+0+2.5%0AM+160+208+208+208+0+2.5%0AM+256+320+304+320+0+2.5%0Aw+-128+-16+-112+-16+0%0Aw+-112+-16+-112+96+0%0Aw+-112+96+-96+96+0%0Aw+-112+-16+-96+-16+0%0Aw+16+96+32+96+0%0Aw+16+208+32+208+0%0Aw+16+96+16+208+0%0Aw+0+96+16+96+0%0Aw+144+208+160+208+0%0Aw+144+320+160+320+0%0Aw+144+208+144+320+0%0Aw+128+208+144+208+0%0A;
			% https://www.falstad.com/circuit/circuitjs.html?cct=%24+1+0.000005+10.20027730826997+50+5+50%0A155+-448+-48+-400+-48+0+0%0A155+-320+64+-288+64+0+0%0A155+-64+288+-32+288+0+0%0A155+-192+176+-144+176+0+0%0AL+-448+-48+-592+-48+0+0+false+5+0%0Aw+-448+-16+-480+-16+0%0Aw+-480+-16+-480+96+0%0Aw+-480+96+-320+96+0%0Aw+-480+96+-480+208+0%0Aw+-480+208+-192+208+0%0Aw+-480+208+-480+320+0%0Aw+-480+320+-64+320+0%0Aw+-480+320+-480+368+0%0AL+-480+368+-592+368+0+0+false+5+0%0AM+192+-48+240+-48+0+2.5%0Aw+-352+-48+-336+-48+0%0Aw+-336+-48+-336+64+0%0Aw+-336+64+-320+64+0%0Aw+-208+176+-192+176+0%0Aw+-208+64+-208+176+0%0Aw+-224+64+-208+64+0%0Aw+-80+288+-64+288+0%0Aw+-80+176+-80+288+0%0Aw+-96+176+-80+176+0%0A155+96+-48+144+-48+0+0%0A155+96+64+144+64+0+0%0AM+192+64+240+64+0+2.5%0A155+96+176+144+176+0+0%0AM+192+176+240+176+0+2.5%0A155+96+288+144+288+0+0%0AM+192+288+240+288+0+2.5%0Aw+32+288+96+288+0%0Aw+-64+176+96+176+0%0Aw+96+64+-208+64+0%0Aw+96+-48+-336+-48+0%0Aw+-80+176+-64+176+0%0Aw+96+-16+80+-16+0%0Aw+80+-16+80+96+0%0Aw+80+96+96+96+0%0Aw+80+96+80+208+0%0Aw+80+208+96+208+0%0Aw+80+208+80+320+0%0Aw+80+320+96+320+0%0Aw+80+320+80+400+0%0Aw+80+400+-480+400+0%0AL+-480+400+-592+400+0+0+false+5+0%0A;
		&& sterowanie linią => bufory, trójstanowość, open-colektor
		&& topologie połączeń
		&& magistrale => transmisja równoległa i szeregowa, typowe sygnały sterujące magistralą
		&& przykłady interfejsów w elektronicy: SPI, I2C (zwrócić uwagę na open-drain), UART (zrócić uwagę na brak zegara), 1wire
	\end{easylist}
\end{teacherOnly}

\subsection{przerzutniki i ich budowa}

RS Flip-flop (RS Latch) jest podstawowym układem służącym do zapamiętania jednego bitu informacji. Posiada on dwa wejścia (set i reset) i dwa wyjścia (Q i NOT Q), wejścia mogą reagować na stan wysoki (oznaczane jako S i R) lub niski (oznaczane jako wejścia zanegowane ~S i ~R), jedno z wyjść może być jedynie wewnętrzne (nie wyprowadzone na zewnątrz układu). Podanie stanu wysokiego na wejście S (niskiego na ~S) powoduje wystawienie stanu wysokiego na wyjściu Q, a podanie stanu wysokiego na wejście R (niskiego na ~R) powoduje wystawienie stanu niskiego na wyjściu Q. Stan na wyjściu Q nie zmienia się po zmianie wejść S i R na stan niski (zostaje zapamiętany).

\begin{Zadanie}{}{}
\noindent\begin{minipage}[b]{0.6\textwidth}
Na schemacie przedstawiono dwubramkową budowę przerzutnika RS w wariancie z wejściami nie zanegowanymi (zastosowanie bramek NAND w miejsce NOR spowodujwe zanegowanie wejść). Zbuduj taki układ i sprawdź jego działanie.
\end{minipage}
\hfill
\begin{minipage}[b]{0.35\textwidth}
\includegraphics[width=\textwidth]{img/elektronika/RS}
\end{minipage}
\end{Zadanie}

\subsection{zatrzask a przerzutnik}

Zatrzask jest elementem reagującym na poziom sygnału na wejściu "enable" (E). W przypadku nie zanegowanego wejścia E, jeżeli jest ono w stanie wysokim sygnał na wyjściach (Q i NOT Q) jest funkcją sygnałów wejściowych, natomiast stan niski wejścia E blokuje zmianę sygnału wyjściowego (zostaje on zapamiętany).

Przerzutnik jest elementem reagującym na zbocze sygnału na wejściu "clock" (CLK). W zależności od konstrukcji może reagować na zbocze narastające, opadające albo na oba (wtedy na jednym realizuje odczyt wejść a na drugim zmianę stanu wyjść).

\subsection{zatrzask i przerzutnik D}

\begin{wrapfigure}{r}{0.7\textwidth}
  \begin{center}
    \vspace{-25pt}
    \includegraphics[width=0.65\textwidth]{img/elektronika/przerzutnikD}
    \vspace{-25pt}
  \end{center}
\end{wrapfigure}

Posiada jedno wejścia sygnałowe "data" (D) oraz wejście "enable" (E) w przypadku zatrzasku lub wejście "clock" (CLK) w przypadku przerzutnika. Może także posiadać asynchroniczne (niezależne od stanu wejścia E / CLK) wejścia reset i set (zanegowane lub proste). Obniżenie sygnału E lub zbocze sygnału CLK powodują zapamiętanie (i wystawienie na wyjściu Q) stanu wejścia D.

W przypadku zaprezentowanej realizacji przerzutnika z dwóch zatrzasków sygnał wejściowy zostanie odczytany na zboczu opadającym zegara a wystawiony na wyjście na zboczu narastającym.

\subsection{rejestry}
Mianem rejestru n-bitowego określa się zespół n przerzutników (rzadziej zatrzasków), często z uwspólnionym sterowaniem (sygnały clock, set, reset, etc) służący do zapamiętania n-bitowej wartości (liczby). W zależności od sposobu zapisu i odczytu można wyróżnić:

\subsubsection{rejestry równoległe}
Posiadają taką samą liczbę wejść jak i wyjść, sygnał na i-tym wyjściu jest bezpośrednio powiązany z sygnałem z i-tego wejścia (jest sygnałem zapamiętanym z tego wejścia).
\subsubsection{rejestry szeregowe serial-input}
Z kolejnymi sygnałami zegarowymi odczytywany jest stan wejścia szeregowego, a stan poprzedni przenoszony jest do kolejnego przerzutnika w ramach rejestru. W ten sposób po n cyklach zegara n-bitowy rejestr ma zapisaną nową zawartość. Często posiada zespolony z nim rejestr równoległy zapobiegający zmianie stanu wyjść w trakcie ładowania danych z wejścia szeregowego przepisanie danych z rejestru przesuwnego do rejestru odpowiedzialnego za sterowanie wyjściami sterowane jest osobnym sygnałem zegarowym.
\subsubsection{rejestry szeregowe paraller-input serial-output}
Z kolejnymi sygnałami zegarowymi na wyjście szeregowe wystawiany jest stan kolejnego z rejestrów wejściowych. Wariant asynchroniczny posiada osobny sygnał powodujący odczyt wejść do rejestru (sygnał działa jak "enable" w zatrzaskach). Wariant synchroniczny posiada sygnał decydujący o tym czy na zboczu zegara dokonywany jest odczyt wejść czy też przesuwanie zawartości rejestru umożliwiający odczyt z wyjścia szeregowego.
\subsubsection{liczniki}
Z kolejnymi sygnałami zegarowymi zwiększana jest o jeden wartość rejestru. Prostszy w budowie licznik asynchroniczny ma większe (i w dodatku rosnące wraz z bitowością licznika) ograniczenia dotyczące szybkości zliczania od licznika synchronicznego, ze względu na opóźnienie z jakim dochodzi zliczany sygnał (CLK) do kolejnych stopni licznika.
% END: Elektronika - Przerzutniki i rejestry


% BEGIN: Elektronika - Transmisja - sterowanie linią
\section{Transmisja - sterowanie linią}
\subsection{bufory}

Bufor jest to układ przekazujący sygnał logiczny z wejścia na wyjście. Bufor może służyć do:
\begin{itemize}
\item regeneracji sygnału,
\item uniemożliwieniu wprowadzenia sygnału z jego strony wyjściowej na wejściową,
\item decydowania o jego przepuszczeniu lub nie (trój-stanowy),
\item decydowania o kierunku przepuszczenia sygnału (dwa trój-stanowe albo trój-stanowy dwukierunkowy),
\item konwersji na linię open-collector / open-drain,
\item negacji sygnału (niektóre bufory realizują funkcję NOT).
\end{itemize}

\subsection{enkodery}

Enkoder "n to m" jest to układ o n wejściach, który na swoim m bitowym wyjściu wystawia numer (typowo) wejścia o najwyższym numerze, które znajduje się w stanie niskim. Możliwe są też warianty wystawiające numer pierwszego (a nie ostatniego) w kolejności wejścia lub wybierające wejście ze stanem wysokim.

Jako że wejścia numerowane są zazwyczaj od zera do 2m to układ najczęściej posiada dodatkowe wyjście informujące że którekolwiek z wejść jest w stanie aktywnym. Typowo numer wystawiany jest w postaci NKB, ale możliwe są inne kodowania.

Układ pozwala na redukcję ilości wejść potrzebnych do obsługi n-bitowego sygnału w którym tylko jeden bit może być ustawiony lub w którym można pozwolić sobie na obsługę kolejnych linii z kasowaniem ich bitu (np. wektor przerwań z priorytetyzacją).

\subsection{dekodery}

Dekoder "m to n" jest układem o działaniu przeciwnym do enkodera. Aktywuje on wyjście o numerze odpowiadającym wartości na m-bitowym wejściu adresowym. Typowo posiada także wejście zezwolenia na aktywację wyjść, które może zostać użyte do podłączenia informacji że którekolwiek z wejść enkodera było w stanie aktywnym lub do podłączenia sygnału danych z multipleksowanej linii celem jej demultipleksacji.

\subsection{(de)multipleksery cyfrowy}

Multiplekser cyfrowy (jednokierunkowy) na wyjście kopiuje stan wskazanego (poprzez adres podany na wejście adresowe) wejścia. W przypadku braku sygnału "enable" w zależności od rozwiązania wyjście pozostanie w stanie niskim lub wysokiej impedancji.

Demultiplekser cyfrowy (jednokierunkowy) to zazwyczaj układ dekodera w którym na wejście enabled podany jest sygnał z multipleksowanej linii. Nie wybrane wyjścia pozostają w stanie niskim lub wysokim (zależnie od użycia nieodwracającego lub odwracającego dekodera). Cyfrowe demultipleksery z 3 stanowym wyjściem są rzadkością. Demultipleksację można rozwiązać także przy pomocy odpowiednio sterowanych (np. z dekodera adresu) buforów trój-stanowych lub dwu-wejściowych multiplekserów.

\subsection{(de)multipleksery analogowy}

Multiplekser analogowy (dwukierunkowy) działa na zasadzie przełącznika łączącego wskazane wejście z wyjściem, dzięki elektrycznemu "zwarciu" (na ogół rezystancja takiego zwarcia to kilkadziesiąt omów) wejścia z wyjściem transmisja może odbywać się w obu kierunkach. Pozwala to także na wykorzystanie tego samego układu w roli multipleksera i demultipleksera.
% END: Elektronika - Transmisja - sterowanie linią


% BEGIN: Elektronika - Typy transmisji
\section{Typy transmisji}

Wyróżnić można typy transmisji:
\begin{itemize}
\item \strong{simplex} -- umożliwia tylko transmisję jednokierunkową
\item \strong{half-duplex} -- umożliwia transmisję dwukierunkową, ale tylko w jedną stronę równocześnie
\item \strong{full-duplex} -- umożliwia pełną transmisję dwukierunkową (równoczesne nadawanie i odbiór)
\end{itemize}

\section{Magistrala równoległa}

\begin{figure}\begin{center}
    \includegraphics[width=0.85\textwidth]{img/elektronika/magistrala_rownolegla}
\end{center}\end{figure}
Magistrala równoległa jest zespołem linii, wraz z układami nimi sterującymi, umożliwiającym równoległe przesyłanie danych (w jednym czasie / takcie zegara na magistrali wystawiane / przesyłane jest całe n-bitowe słowo).
Można wyróżnić szyny sterującą (kierunek przypływu, żądania obsługi, etc), adresową (adres układu który ma prawo nadawać) i danych (przesyłane dane). Często szyna adresowa współdzieli linie transmisyjne z szyną danych.
Do realizacji magistrali (celem umożliwiania podłączenia wielu układów) stosuje się zazwyczaj bufory trój-stanowe, a do zapewnienia współdzielonej szyny żądania obsługi (interrupt request) często układy typu open-collector.

Typowy układ realizacji magistrali half-duplex ze współdzielonymi liniami danych i adresu przestawiony został na schemacie zamieszczonym obok.
Zadaniem dekodera adresu jest ustalenie czy wystawiony na magistrali adres (w trakcie wysokiego stanu linii "Adres / Not Dane") jest adresem danego urządzenia i zapamiętanie tej informacji do czasu wystawienia nowego adresu. Informacja ta jest wykorzystywana do sterowania dwukierunkowym buforem trój-stanowym (jako sygnał enable).
O kierunku działania bufora decyduje sygnał "Read / Not Write". Przy magistralach o ustalonym protokole transmisyjnym sterowanie kierunkiem może być zależne od wykonywanej komendy (po ustawieniu adresu urządzenie odczytuje z magistrali polecenie i w zależności od niego steruje kierunkiem bufora - odczytuje lub zapisuje dane na magistralę).
Zastosowanie kilku linii typu OC do odbierania żądań obsługi pozwala (na podstawie tego które z tych linii znalazły się w stanie niskim na identyfikację urządzenia lub grupy urządzeń, z której niektóre zgłaszają żądanie obsługi.

W przypadku prostych urządzeń wejścia / wyjścia zamiast buforu dwukierunkowego może być umieszczony np.
jednokierunkowy bufor (lub n-bitowy rejestr) z wyjściami trój-stanowymi, który wystawia dane na magistralę w oparciu o sygnał zapisu na magistralę (WR) oraz zegar (clock) albo
n-bitowy rejestr do którego zapisywane są dane z magistrali w oparciu o sygnał RD i Clock.

\section{Magistrala szeregowa}

\begin{figure}\begin{center}
    \includegraphics[width=0.85\textwidth]{img/elektronika/magistrala_szeregowa}
\end{center}\end{figure}
W magistrali szeregowej dane przesyłane są bit po bicie w pojedynczej linii. Podobnie jak w magistrali równoległej oprócz linii danych mogą występować także linie sterujące. Prostą realizację magistrali szeregowej zapewniają rejestry przesuwne.

Przykładowy układ realizacji magistrali simplex (jednokierunkowej) z rozdzielonymi szynami danych i adresową został na schemacie zamieszczonym obok.
W prezentowanym przykładzie oprócz adresu master wystawia trzy sygnały - dane, zegar i strobe. Z każdym taktem zegara na linii danych wystawiany jest kolejny bit który jest wczytywany do zespołu rejestrów. Sygnał strobe służy do przepisania wartości z rejestrów przesuwnych do rejestrów wyjściowych, takie rozwiązanie zapobiega zmianom wyjść w trakcie przesyłania nowych danych poprzez szynę szeregową, jest ono jednak opcjonalne.

W zależności od konstrukcji dekodera adresu szyna adresowa może być równoległa (w najprostszym przypadku - przez całą transmisję do danego urządzenia jego adres musi być wystawiony na szynie a dekoder jest układem bramek NOT i wielowejściowej bramki AND) lub szeregowa (w takim wypadku powinna posiadać własny zegar lub sygnał informujący o nadawaniu adresu z taktami zegara głównego, a dekoder powinien być wyposażony w rejestr przesuwny do odebrania i przechowywania aktualnego adresu z magistrali). Natomiast jeżeli magistrala byłaby oparta tylko na połączonych szeregowo rejestrach (wyjście serial-out do wejścia serial-in) to szyna adresowa nie jest potrzebna, ale konieczne może być każdorazowe wpisanie wszystkich wartości na szynę (czas zapisu rośnie z ilością podłączonych rejestrów).

\section{Standardowe interfejsy}

Istnieje wiele zestandaryzowanych interfejsów zarówno szeregowych jak i równoległych, wśród najważniejszych należy wymienić:

\subsection{SPI (Serial Peripheral Interface)}
    jest to szeregowa magistrala full-duplex działająca w układzie master-slave złożona z linii zegarowej (SCLK), nadawania przez mastera (MOSI), odbioru przez mastera (MISO) oraz linii służących do aktywacji urządzenia slave (SS / CS). 
\subsection{I2C (TWI)}
    jest to szeregowa magistrala half-duplex złożona z linii sygnałowej (SDA) i zegara (SCL) posiadająca zdefiniowany format ramki wraz z adresowaniem. Z wyjątkiem bitu startu i stopu stan linii danych może zmieniać się tylko przy niskim stanie linii zegarowej.
    Nadajniki są typu open-drain przez co realizowany jest iloczyn na drucie, co pozwala na wykrywanie kolizji (jeżeli dany nadajnik nie nadaje zera a linia jest w stanie zera to nadaje także ktoś inny). Pozwala to także na uzyskanie układów multimaster, pomimo iż typowo na magistrali takiej występuje tylko jeden układ master (nadający sygnał zegara i inicjujący transmisję). 
\subsection{1 wire (one-wire)}
    jest to szeregowa magistrala half-duplex złożona z jedynie z linii sygnałowej (która może także służyć do zasilania urządzeń) posiadająca zdefiniowany format ramki wraz z adresowaniem. Standardowe nadawanie jest realizowane jako open-drain (wyjątkiem jest nadawanie tzw power-byte). 
\subsection{USART}
    jest to uniwersalny synchroniczny i asynchroniczny nadajnik i odbiornik, umożliwia realizację szeregowej transmisji synchronicznej (zgodnie z zegarem) lub asynchronicznej (wykrywanie początku ramki na podstawie linii danych). Interfejs korzysta z rozdzielonych linii nadajnika i odbiornika (wyjście danych TxD oraz wejście danych RxD, co umożliwia realizację transmisji full-duplex) oraz może korzystać z dodatkowych sygnałów sterujących (wyjście RTS informujące o gotowości do odbioru oraz wejście CTS informacji o gotowości odbioru / zezwolenia na nadawanie). Niekiedy dostępne jest także wyjście załączenia nadajnika używane do pracy w trybie half-duplex (linie TxD i RxD połączone buforem trój-stanowym nadajnika).

    Interfejs ten najczęściej wykorzystywany jest w trybie asynchronicznym jako UART. W połączeniach UART zarówno nadajnik jak i odbiornik muszą mieć ustawione takie same parametry transmisji (szybkość, znaczenie 9 bitu (typowo bit parzystości, ale może także oznaczać np. pole adresowe), itp).
    Głównymi standardami elektrycznymi dla UART są: poziomy napięć układów elektronicznych używających tych portów (3.3V, 5V), RS-232 (w pełnym wariancie używa sygnałów kontroli przepływu, poziom logiczny 1 wynosi od -15V do -3V, a poziom logiczny 0 od +3V do +15V), RS-422 (transmisja różnicowa full-duplex pomiędzy dwoma urządzeniami) i RS-485 (transmisja różnicowa half-duplex w oparciu o szynę łączącą wiele urządzeń, kompatybilny elektrycznie z RS-422), możliwia jest też transmisja światłowodowa i bezprzewodowa.
% END: Elektronika - Typy transmisji


% BEGIN: Elektronika - Układy programowalne
\section{Układy programowalne}
\begin{teacherOnly}
	\begin{easylist}[itemize]
	& układy programowalne
		&& programowalna logika
			&& komórka pamięci może realizować dowolną funkcję logiczną
		&& procesory i mikro-kontrolery
	\end{easylist}
\end{teacherOnly}

\subsection{układy o programowalnej strukturze (PLD)}

Są to układy w których programowany jest układ bramek, przerzutników, itp. "umieszczanych" w kości oraz ich połączeń.

Program dla takich układów tworzony jest w Hardware Description Language (najczęściej VHDL lub Verilog) i zamiast wykonywanego kodu opisuje strukturę układu logicznego (połączenia bramek, tablice prawdy, etc), która następnie jest programowana w fizycznej kości.

Najprostszym przykładem układu o programowalnej strukturze logicznej jest układ pamięci 2<sup>n</sup> bitowej z n-bitową szyną adresową adresującą pojedyncze bity - pozwala on na realizację dowolnej funkcji logicznej o n wejściach i pojedynczym wyjściu.

Do kategorii tej zaliczają się układy typu:
\begin{itemize}
	\item SPLD
	\begin{itemize}
		\item PLE - programowalna matryca bramek OR
		\item PAL i GAL - programowalna matryca AND z dodatkowymi bramkami OR (często także obudowana rejestrami i multiplekserami na wyjściach)
		\item PLA - programowalne matryce AND i OR
	\end{itemize}
	\item CPLD
	\item FPGA - programowalny element pamięciowy (możliwość zdefiniowania dowolnej - na ogół 4 wejściowej - funkcji w każdym elemencie logicznym, programowalne połączenia między elementami logicznymi i pinami, itd)
\end{itemize}

\subsection{systemy procesorowe}
Są to systemy realizujące ciąg instrukcji pobieranych z jakiejś pamięci.

System taki składa się z procesora odpowiedzialnego za interpretację i wykonywanie kolejnych instrukcji oraz pamięci z której pobierane są instrukcje i dane (może to być jedna pamięć, mogą to być rozdzielone pamięci). Do kategorii tej zaliczają się zarówno typowe systemy komputerowe, systemy obliczeniowe jak i różnego rodzaju programowalne mikrokontrolery.

Procesor pracuje w cyklach rozkazowych, w ramach których przetwarza pojedynczą instrukcję. Cykl taki może trwać od 1 do kilku lub więcej cykli zegarowych i typowo składa się z następujących kroków:
\begin{enumerate}
	\item pobranie instrukcji z pamięci - realizowane jest poprzez wystawienie na szynę adresową zawartości \emph{licznika programu} (zawierające adres instrukcji do wykonania) oraz wygenerowanie cyklu odczytu z pamięci, po wykonaniu odczytu danych następuje ich zapamiętanie w \emph{rejestrze instrukcji} oraz zwiększenie wartości \emph{licznika programu} o jeden;<br/>
		(zawartość rejestru \emph{licznika programu} po resecie procesora określa skąd pobierana będzie pierwsza instrukcja, pod takim adresem zazwyczaj umieszczana jest jakaś pamięć typu ROM lub flash)
	\item dekodowanie instrukcji - układ dekodera (np. oparty o PLA) dokonuje zdekodowania instrukcji znajdującej się w \emph{rejestrze instrukcji} i konfiguracji procesora w zależności od jej kodu i (opcjonalnie) jej argumentów; może to być np.:
	\begin{itemize}
		\item odpowiednie ustawienie multiplekserów pomiędzy rejestrami a jednostką ALU oraz wystawienie odpowiedniego kod operacji dla ALU (celem wykonania operacji arytmetycznej na wartościach rejestrów)
		\item wystawienie zawartości wskazanego rejestru na szynę adresową, podłączenie wskazanego rejestru do szyny danych oraz skonfigurowanie operacji odczytu/zapisu (celem wykonania odczytu lub zapisu wartości rejestru z/do pamięci)
	\end{itemize}
	\item wykonanie instrukcji - realizacja wcześniej zdekodowanej instrukcji zgodnie z ustawioną konfiguracją procesora
\end{enumerate}

Instrukcje skoku polegają na załadowaniu nowej wartości do \emph{licznika programu}, w przypadku skoków warunkowych jest to uzależnione od stanu \emph{rejestru flag}, które ustawiane są w oparciu o wynik ostatniej operacji wykonywanej przez ALU.

Przedstawiony model działania jest przykładowym i w rzeczywistym procesorze może to wyglądać odmiennie - np. długość instrukcji może być większa niż długość słowa używanego przez procesor / szerokość szyny danych co rozbudowuje fazę pobierania instrukcji z pamięci, mogą występować instrukcje bardziej złożone (np. operacje wykonywane z argumentem pobieranym z pamięci a nie rejestru), może także występować więcej faz (np. poprzez wydzielenie faz dostępu do pamięci, czy zapisywania wyników działania instrukcji).
Procesor może także działać potokowo, czyli nakładać na siebie kolejne fazy wykonywania różnych instrukcji (np. w czasie wykonywania jednej instrukcji realizować pobieranie kolejnej).

\subsubsection{Mikrokontrolery}

Mikrokontroler jest układem typu "System on Chip" zawierającym w jednym układzie procesor, pamięć RAM, układy wejścia-wyjścia (np. GPIO, porty szeregowe typu USART, SPI, I2C, przetworniki ADC), pamięć typu Flash (dla programu).
% END: Elektronika - Układy programowalne


\section{Literatura dodatkowa}

\begin{itemize}
\item \emph{Vademecum informatyki praktycznej} (\url{http://vip.opcode.eu.org/}) - zbiór materiałów na temat elektroniki i programowania.
\item \emph{Kurs elektroniki w serwisie \emph{forbot.pl}}\\ (\url{https://forbot.pl/blog/kurs-elektroniki-dla-poczatkujacych-id5151}).
\item \emph{Kurs elektroniki w serwisie \emph{robotykadlapoczatkujacych.pl}}\\ (\url{http://robotykadlapoczatkujacych.pl/kurs-elektroniki-dla-poczatkujacych/}).
\end{itemize}

\clearpage
\section{Zadania domowe}
\newtheorem{ZadanieDomowe}{Zadanie domowe}

\begin{ZadanieDomowe} [1pkt]
Oszacuj wartość prądu płynącego przez R1. Odpowiedź krótko uzasadnij.
\end{ZadanieDomowe}

\begin{ZadanieDomowe} [1pkt]
Podaj wartość napięcia (względem GND) w punkcie T1 w sytuacji gdy S1 jest wciśnięty (zwarty) oraz w sytuacji gdy jest rozwarty (nie przewodzi). Odpowiedź krótko uzasadnij.
\end{ZadanieDomowe}

\begin{ZadanieDomowe} [3pkt]
Podaj wartość napięcia (względem GND) w punkach T2, T3, T4. Odpowiedź krótko uzasadnij.
\end{ZadanieDomowe}

\begin{center}
    \includegraphics[width=0.75\textwidth]{img/elektronika/praca_domowa-A}
\end{center}

\begin{ZadanieDomowe} [2pkt]
Oszacuj wartość prądu płynącego przez R8 oraz wartość prądu płynącego przez R10. Odpowiedź krótko uzasadnij.
\end{ZadanieDomowe}

\begin{center}
    \includegraphics[width=0.48\textwidth]{img/elektronika/praca_domowa-B}
    \hspace{0.05\textwidth}
    \includegraphics[width=0.42\textwidth]{img/elektronika/praca_domowa-C}
\end{center}

\begin{ZadanieDomowe} [1pkt]
Podaj wartość napięcia (względem GND) w punkcie T5. Przyjmujemy iż użyte bramki działają na poziomie napięć 5V (prawda) / 0V (fałsz). Odpowiedź krótko uzasadnij.
\end{ZadanieDomowe}

\begin{ZadanieDomowe} [2pkt]
Zapoznaj się z dokumentacją układu 74HC574 (np. \url{https://assets.nexperia.com/documents/data-sheet/74HC_HCT574.pdf}) i opisz sposób jego użycia (wraz z sposobem sterowania) jako modułu podłączonego do 8 bitowej magistrali równoległej w roli układu wejściowego oraz w roli układu wyjściowego.
\end{ZadanieDomowe}

\begin{ZadanieDomowe} [2pkt]
Zapoznaj się z dokumentacją układu 74HC595 (np. \url{http://www.ti.com/lit/ds/symlink/sn74hc595.pdf}) i opisz sposób jego użycia (wraz z sposobem sterowania) w roli układu wyjściowego podłączonego do magistrali szeregowej.
\end{ZadanieDomowe}

\copyrightFooter{
	© Matematyka dla Ciekawych Świata, 2017-2020.\\
	© Robert Ryszard Paciorek <rrp@opcode.eu.org>, 2003-2020.\\
	Kopiowanie, modyfikowanie i redystrybucja dozwolone pod warunkiem zachowania informacji o autorach.
}
\end{document}
